<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="UTF-8">
    <title>Test Chart</title>
    <meta name="Author" content="" />
</head>

<body>
    <h1>Test Chart</h1>




    <div id="chart1" style="position: relative; width: 580px; height: 430px; margin: auto; padding: 0px;"> </div>



    <!-- external libraries -->
    <script src="../../libraries/jquery/jquery-2.2.0.min.js"></script>
    <script src="../../libraries/Highcharts-4.2.3/js/highcharts.src.js"></script>
    <script src="../../libraries/Highcharts-4.2.3/js/highcharts-more.src.js"></script>
    <script src="../../libraries/Highcharts-4.2.3/js/modules/drilldown.js"></script>





    <script>
       $(document).ready(function(){
             var all_chart_options = {"chart":{"renderTo":"chart1","margin":[100,40,80,80],"borderWidth":0,"plotBorderColor":"#000","plotBorderWidth":0,"type":"bubble","zoomType":null,"alignTicks":false,"ignoreHiddenSeries":true},"colors":["rgb(141, 183, 255)","rgb(117, 226, 232)","rgb(141, 255, 191)","rgb(69, 106, 59)","rgb(254, 255, 153)","rgb(255, 211, 152)","rgb(232, 154, 128)","rgb(255, 153, 176)","rgb(99, 64, 106)","rgb(185, 164, 255)","rgb(255, 154, 197)","rgb(203, 129, 232)","rgb(167, 155, 255)","rgb(64, 84, 106)","rgb(166, 255, 251)"],"legend":{"align":"left","backgroundColor":"none","borderColor":"none","borderWidth":0,"enabled":true,"floating":false,"itemDistance":30,"layout":"horizontal","reversed":false,"shadow":false,"useHTML":false,"verticalAlign":"top","x":100,"y":40,"itemStyle":{"fontFamily":"Calibri, Verdana, Arial, Helvetica, sans-serif","color":"#000"},"itemHiddenStyle":{"color":"gray"},"itemHoverStyle":{"cursor":"pointer"}},"plotOptions":{"series":{"events":{"legendItemClick":function legendItemClick(event) {}},"dataLabels":{"enabled":false},"pointPlacement":null,"stacking":null,"pointPadding":0.1,"groupPadding":0.2,"minPointLength":2,"maxSize":90,"minSize":4,"sizeBy":"width","lineWidth":1.5,"states":{"hover":{"lineWidth":4}},"marker":{"enabled":false,"states":{"hover":{"enabled":true,"radius":5}}}},"bubble":{"tooltip":{"followPointer":true}}},"series":[{"name":"invisible min size placeholder series","data":[[0,0,1]],"date":"2001","type":"bubble","lineWidth":0,"marker":{"enabled":false},"color":"none","showInLegend":false,"zIndex":-1,"_symbolIndex":3},{"name":"invisible max size placeholder series","data":[[0,0,45]],"date":"2001","type":"bubble","lineWidth":0,"marker":{"enabled":false},"color":"none","showInLegend":false,"zIndex":-1,"_symbolIndex":4},{"name":"Series 1","data":[[1,2,3]],"date":"2001","type":"bubble","lineWidth":0,"marker":{"enabled":true},"color":"rgb(141, 183, 255)","_symbolIndex":0},{"name":"Series 2","data":[[3,3,4]],"date":"2001","type":"bubble","lineWidth":0,"marker":{"enabled":true},"color":"rgb(117, 226, 232)","_symbolIndex":1},{"name":"Series 3","data":[[5,5,8]],"date":"2001","type":"bubble","lineWidth":0,"marker":{"enabled":true},"color":"rgb(141, 255, 191)","_symbolIndex":2},{"name":"Series 4","data":[[3,2,1]],"date":"2001","type":"bubble","lineWidth":0,"marker":{"enabled":true},"color":"rgb(69, 106, 59)","_symbolIndex":3}],"subtitle":{"text":"","align":"left","style":{"color":"#000000","fontFamily":"sans-serif","fontWeight":"normal","fontSize":"12px"}},"title":{"text":"Test table data for animated bubble charts","align":"left","style":{"color":"#000000","fontFamily":"sans-serif","fontWeight":"bold","fontSize":"14px"}},"tooltip":{"backgroundColor":"#FEFFEF","crosshairs":[false,false],"formatter":function () { var y_axis_title = this.series.yAxis.axisTitle ? this.series.yAxis.axisTitle.textStr : "Y-Axis"; var x_axis_title = this.series.xAxis.axisTitle ? this.series.xAxis.axisTitle.textStr : "X-Axis"; var s = "<b>" + this.series.name + "</b><br>" + y_axis_title + ": <b>"  + $(this.y).addCommas() +  "</b><br/>" + x_axis_title + ": <b>"  + $(this.x * 1).addCommas() +  "</b><br/>" + "Z" + ": <b>"  + $(this.point.z * 1).addCommas() +  "</b>"; all_chart_options.series[this.series.index] ? s = all_chart_options.tooltip.addExtraData(all_chart_options.series[this.series.index].extra_data, this.point, s) : s = s; return s.replace(/\$-/g, "-$"); },"style":{"color":"#000000","fontFamily":"Calibri, Verdana, Arial, Helvetica, sans-serif"},"useHTML":false,"addExtraData":function (extra_data, point, s) { if (extra_data && extra_data[0].name) { $.each(extra_data, function (i) { if (extra_data[i].values[point.index]) { s = s + "<br>&nbsp;&nbsp;" + extra_data[i].name + ": " + extra_data[i].values[point.index]; } }); } return s; }},"xAxis":{"gridLineColor":"#c0c0c0","gridLineWidth":0,"gridLineDashStyle":"Dot","labels":{"rotation":0,"style":{"color":"#000000","fontFamily":"Calibri, Verdana, Arial, Helvetica, sans-serif","fontWeight":"normal","backgroundColor":"#fff","fontSize":"12px"}},"lineWidth":1.2,"lineColor":"gray","max":null,"min":null,"plotBands":[],"tickInterval":null,"tickmarkPlacement":"on","tickPosition":"outside","tickColor":"#C0D0E0","title":{"align":"middle","useHTML":true,"text":"","margin":6,"rotation":0,"style":{"color":"#000000","fontFamily":"Calibri, Verdana, Arial, Helvetica, sans-serif","fontWeight":"normal","backgroundColor":"#fff","fontSize":"13px"},"x":0,"y":0},"type":"linear"},"yAxis":{"gridLineColor":"#c0c0c0","gridLineWidth":1,"gridLineDashStyle":"Dot","labels":{"formatter":function newYFormat() { var s = this.value == parseInt(this.value) ? Highcharts.numberFormat(this.value, 0, ".", ",") : Highcharts.numberFormat(this.value, 1, ".", ","); return  s.replace(/\$-/g, "-$") ; },"rotation":0,"style":{"color":"#000000","fontFamily":"Calibri, Verdana, Arial, Helvetica, sans-serif","fontWeight":"normal","backgroundColor":"#fff","fontSize":"12px"}},"lineColor":"gray","lineWidth":1,"max":null,"min":null,"opposite":false,"plotBands":[],"plotLines":[{"value":0,"color":"#c0c0c0","dashStyle":"solid","width":1}],"tickInterval":null,"tickmarkPlacement":"on","tickPosition":"outside","tickColor":"#C0D0E0","tickWidth":1,"title":{"useHTML":true,"text":"","margin":6,"align":"high","offset":20,"rotation":0,"x":35,"y":-20,"style":{"color":"#000000","fontFamily":"Calibri, Verdana, Arial, Helvetica, sans-serif","fontWeight":"normal","fontSize":"13px"}},"type":"linear"},"credits":{"href":"http://www.bls.gov","position":{"align":"left","x":10,"y":-11},"style":{"cursor":"default","color":"#2C2C2C"},"text":"Click legend items to change data display. Hover over chart to view data. Source: U.S. Bureau of Labor Statistics.","useHTML":true},"saved_values":[{"id":"chart_type_icons","val":"bubble"},{"id":"chart_id_textinput","val":"chart1"},{"id":"map_type_select","val":"state"},{"id":"map_animated_checkbox","val":false},{"id":"bubble_animated_checkbox","val":true},{"id":"drilldown_type_select","val":"column"},{"id":"chart_width_textinput","val":"580"},{"id":"chart_height_textinput","val":"430"},{"id":"top_margin_textinput","val":"100"},{"id":"right_margin_textinput","val":"40"},{"id":"bottom_margin_textinput","val":"80"},{"id":"left_margin_textinput","val":"80"},{"id":"map_circle_size_range","val":"50"},{"id":"table_input_load_series_from_icons","val":"column_heads"},{"id":"table_input_textarea","val":"<table id=\"BLS_table\" class=\"regular\" cellspacing=\"0\" cellpadding=\"0\" xborder=\"1\" style=\"width: 95%\"> <caption><span class=\"tableTitle\">Test table data for animated bubble charts</span></caption> <thead> <tr> <th rowspan=\"2\"  style=\"vertical-align: middle;\">Years</th> <th  class=\"\" colspan=\"3\" style=\"text-align: center;\">Series 1</th> <th  class=\"\" colspan=\"3\" style=\"text-align: center;\">Series 2</th> <th  class=\"\" colspan=\"3\" style=\"text-align: center;\">Series 3</th> <th  class=\"\" colspan=\"3\" style=\"text-align: center;\">Series 4</th> </tr> <tr> <th >x1</th> <th >y1</th> <th >z1</th> <th >x2</th> <th >y2</th> <th >z2</th> <th >x3</th> <th >y3</th> <th >z3</th> <th >x4</th> <th >y4</th> <th >z4</th> </tr> </thead> <tbody> <tr> <th > <p>2001</p> </th> <td >1</td> <td >2</td> <td >3</td> <td >3</td> <td >3</td> <td >4</td> <td >5</td> <td >5</td> <td >8</td> <td >3</td> <td >2</td> <td >1</td> </tr> <tr class=\"greenbar\"> <th > <p>2002</p> </th> <td >2</td> <td >4</td> <td >6</td> <td >4</td> <td >6</td> <td >5</td> <td >8</td> <td >9</td> <td >9</td> <td >6</td> <td >4</td> <td >4</td> </tr> <tr> <th > <p>2003</p> </th> <td >3</td> <td >6</td> <td >9</td> <td >5</td> <td >9</td> <td >6</td> <td >11</td> <td >13</td> <td >10</td> <td >9</td> <td >6</td> <td >7</td> </tr> <tr class=\"greenbar\"> <th > <p>2004</p> </th> <td >4</td> <td >8</td> <td >12</td> <td >6</td> <td >12</td> <td >7</td> <td >14</td> <td >17</td> <td >11</td> <td >12</td> <td >8</td> <td >10</td> </tr> <tr> <th > <p>2005</p> </th> <td >5</td> <td >10</td> <td >15</td> <td >7</td> <td >15</td> <td >8</td> <td >17</td> <td >21</td> <td >12</td> <td >15</td> <td >10</td> <td >13</td> </tr> <tr class=\"greenbar\"> <th > <p>2006</p> </th> <td >6</td> <td >12</td> <td >18</td> <td >8</td> <td >18</td> <td >9</td> <td >20</td> <td >25</td> <td >13</td> <td >18</td> <td >12</td> <td >16</td> </tr> <tr> <th > <p>2007</p> </th> <td >7</td> <td >14</td> <td >21</td> <td >9</td> <td >21</td> <td >10</td> <td >23</td> <td >29</td> <td >14</td> <td >21</td> <td >14</td> <td >19</td> </tr> <tr class=\"greenbar\"> <th > <p>2008</p> </th> <td >8</td> <td >16</td> <td >24</td> <td >10</td> <td >24</td> <td >11</td> <td >26</td> <td >33</td> <td >15</td> <td >24</td> <td >16</td> <td >22</td> </tr> <tr> <th > <p>2009</p> </th> <td >9</td> <td >18</td> <td >27</td> <td >11</td> <td >27</td> <td >12</td> <td >29</td> <td >37</td> <td >16</td> <td >27</td> <td >18</td> <td >25</td> </tr> <tr class=\"greenbar\"> <th > <p>2010</p> </th> <td >10</td> <td >20</td> <td >30</td> <td >12</td> <td >30</td> <td >13</td> <td >32</td> <td >41</td> <td >17</td> <td >30</td> <td >20</td> <td >28</td> </tr> <tr> <th > <p>2011</p> </th> <td >11</td> <td >22</td> <td >33</td> <td >13</td> <td >33</td> <td >14</td> <td >35</td> <td >45</td> <td >18</td> <td >33</td> <td >22</td> <td >31</td> </tr> <tr class=\"greenbar\"> <th > <p>2012</p> </th> <td >12</td> <td >24</td> <td >36</td> <td >14</td> <td >36</td> <td >15</td> <td >38</td> <td >49</td> <td >19</td> <td >36</td> <td >24</td> <td >34</td> </tr> <tr> <th > <p>2013</p> </th> <td >13</td> <td >26</td> <td >39</td> <td >15</td> <td >39</td> <td >16</td> <td >41</td> <td >53</td> <td >20</td> <td >39</td> <td >26</td> <td >37</td> </tr> <tr class=\"greenbar\"> <th > <p>2014</p> </th> <td >14</td> <td >28</td> <td >42</td> <td >16</td> <td >42</td> <td >17</td> <td >44</td> <td >57</td> <td >21</td> <td >42</td> <td >28</td> <td >40</td> </tr> <tr> <th > <p>2015</p> </th> <td >15</td> <td >30</td> <td >45</td> <td >17</td> <td >45</td> <td >18</td> <td >47</td> <td >61</td> <td >22</td> <td >45</td> <td >30</td> <td >43</td> </tr> </tbody></table>"},{"id":"example_table_select","val":""},{"id":"color_palettes","val":"color_palette_13"},{"id":"series_color_0","val":"0F05A5"},{"id":"line_style_select_0","val":"Solid"},{"id":"series_visible_checkbox_0","val":true},{"id":"series_extra_data_title_textarea_0","val":""},{"id":"series_extra_data_values_textarea_0","val":""},{"id":"series_color_1","val":"AFD2FF"},{"id":"line_style_select_1","val":"Solid"},{"id":"series_visible_checkbox_1","val":true},{"id":"series_extra_data_title_textarea_1","val":""},{"id":"series_extra_data_values_textarea_1","val":""},{"id":"series_color_2","val":"D2232A"},{"id":"line_style_select_2","val":"Solid"},{"id":"series_visible_checkbox_2","val":true},{"id":"series_extra_data_title_textarea_2","val":""},{"id":"series_extra_data_values_textarea_2","val":""},{"id":"series_color_3","val":"DDB139"},{"id":"line_style_select_3","val":"Solid"},{"id":"series_visible_checkbox_3","val":true},{"id":"series_extra_data_title_textarea_3","val":""},{"id":"series_extra_data_values_textarea_3","val":""},{"id":"series_color_4","val":"BEBEBE"},{"id":"line_style_select_4","val":"Solid"},{"id":"series_visible_checkbox_4","val":true},{"id":"series_extra_data_title_textarea_4","val":""},{"id":"series_extra_data_values_textarea_4","val":""},{"id":"series_color_5","val":"0F05A5"},{"id":"line_style_select_5","val":"Solid"},{"id":"series_visible_checkbox_5","val":true},{"id":"series_extra_data_title_textarea_5","val":""},{"id":"series_extra_data_values_textarea_5","val":""},{"id":"legend_layout_select","val":"horizontal"},{"id":"legend_placement_x","val":"100"},{"id":"legend_placement_y","val":"40"},{"id":"legend_reverse_layout_checkbox","val":false},{"id":"legend_make_toggle_checkbox","val":false},{"id":"chart_x_axis_title_textarea","val":""},{"id":"chart_x_axis_x_position_input","val":"40"},{"id":"chart_x_axis_tickmark_interval_input","val":""},{"id":"chart_x_axis_min_input","val":""},{"id":"chart_x_axis_max_input","val":""},{"id":"chart_x_axis_show_only_years","val":false},{"id":"chart_x_axis_add_commas","val":false},{"id":"chart_y_axis_title_textarea","val":""},{"id":"chart_y_axis_x_position_input","val":"35"},{"id":"chart_y_axis_tickmark_interval_input","val":""},{"id":"chart_y_axis_min_input","val":""},{"id":"chart_y_axis_max_input","val":""},{"id":"chart_y_axis_opposite_checkbox","val":false},{"id":"chart_y_axis_log_checkbox","val":false},{"id":"chart_y_axis_signs_select","val":"no_signs"},{"id":"chart_y_axis_decimals_select","val":null},{"id":"chart_y_axis_divide_select","val":"1"},{"id":"chart_tooltip_shared_checkbox","val":false},{"id":"chart_tooltip_force_decimals_select","val":"0"},{"id":"chart_tooltip_signs_select","val":"no_signs"},{"id":"map_tooltip_na_text_input","val":"N/A"},{"id":"chart_z_title_text_input","val":""},{"id":"chart_tooltip_y_multiple_select","val":"1"},{"id":"chart_credits_text_textarea","val":"Click legend items to change data display. Hover over chart to view data. Source: U.S. Bureau of Labor Statistics."},{"id":"point_padding_input","val":".1"},{"id":"group_padding_input","val":".2"},{"id":"chart_subtitle_textarea","val":""},{"id":"chart_mlr_styles_checkbox","val":false},{"id":"chart_zoom_select","val":"false,false,null"},{"id":"chart_show_data_labels_checkbox","val":false},{"id":"chart_add_recession_shading_select","val":"no_recession"}],"timeline":{"data":[[[0,0,1],[0,0,45],[1,2,3],[3,3,4],[5,5,8],[3,2,1]],[[0,0,1],[0,0,45],[2,4,6],[4,6,5],[8,9,9],[6,4,4]],[[0,0,1],[0,0,45],[3,6,9],[5,9,6],[11,13,10],[9,6,7]],[[0,0,1],[0,0,45],[4,8,12],[6,12,7],[14,17,11],[12,8,10]],[[0,0,1],[0,0,45],[5,10,15],[7,15,8],[17,21,12],[15,10,13]],[[0,0,1],[0,0,45],[6,12,18],[8,18,9],[20,25,13],[18,12,16]],[[0,0,1],[0,0,45],[7,14,21],[9,21,10],[23,29,14],[21,14,19]],[[0,0,1],[0,0,45],[8,16,24],[10,24,11],[26,33,15],[24,16,22]],[[0,0,1],[0,0,45],[9,18,27],[11,27,12],[29,37,16],[27,18,25]],[[0,0,1],[0,0,45],[10,20,30],[12,30,13],[32,41,17],[30,20,28]],[[0,0,1],[0,0,45],[11,22,33],[13,33,14],[35,45,18],[33,22,31]],[[0,0,1],[0,0,45],[12,24,36],[14,36,15],[38,49,19],[36,24,34]],[[0,0,1],[0,0,45],[13,26,39],[15,39,16],[41,53,20],[39,26,37]],[[0,0,1],[0,0,45],[14,28,42],[16,42,17],[44,57,21],[42,28,40]],[[0,0,1],[0,0,45],[15,30,45],[17,45,18],[47,61,22],[45,30,43]]],"dates":["2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015"],"animation":function () { var chart_animation_div = document.createElement("div"); chart_animation_div.style = "position: absolute; top: 28px; margin-left: 20px; z-index: 500; margin-bottom: -6px; -webkit-user-select: none;"; chart_animation_div.className = "chart_animation_div"; var animation_title = document.createElement("h3"); $(animation_title).text(all_chart_options.timeline.dates[0]).css({ margin: "0px", "font-family": "sans-serif", "font-weight": "200", color: "#337ab7", "font-size": "18px", position: "relative", top: "8px", float: "left" }).addClass("animation_title"); var chart_slider = document.createElement("input"); $(chart_slider).attr({ type: "range", min: "0", max: all_chart_options.timeline.dates.length - 1, value: "0", class: "chart_slider" }).css({ float: "left", "margin-right": "10px", color: "#337ab7", "font-size": "18px", cursor: "pointer", width: "350px", position: "relative", top: "12px" }).on("input change", function () { var new_time_index = this.value; $.each(chart.series, function (i, e) { e.update({ data: [all_chart_options.timeline.data[new_time_index][i]] }); }); animation_title.textContent = all_chart_options.timeline.dates[new_time_index]; }); var playing; var stepForward = function stepForward() { var $chart_slider = $(chart_slider); $chart_slider.val() === $chart_slider.attr("max") ? $chart_slider.val(0).trigger("input") : $chart_slider.val(Number($chart_slider.val()) + 1).trigger("input"); }; var play_button = document.createElement("div"); $(play_button).css({ float: "left", "margin-right": "10px", color: "#337ab7", "font-size": "24px", cursor: "pointer", position: "relative", top: "4px" }).html("▶").addClass("chart_play_button").click(function () { if ($(this).hasClass("playing")) { $(this).removeClass("playing").html("▶"); clearInterval(playing); } else { playing = setInterval(function () { stepForward(); }, 500); $(this).addClass("playing").html("&nbsp; ||"); } }); chart_animation_div.appendChild(play_button); chart_animation_div.appendChild(chart_slider); chart_animation_div.appendChild(animation_title); var chart_id = "#" + all_chart_options.chart.renderTo; setTimeout(function () { $(chart_id).prepend(chart_animation_div); }, 100); }}};

var chartCallback = function chartCallback(all_chart_options) {

        if (all_chart_options.timeline) {
            //call animation if applicable
            all_chart_options.timeline.animation();
        }

        $(".highcharts-legend-item").css("min-height", "0px").css("z-index", 100); //fix so CMS CSS doesn't make legend taller than it should
        $(".highcharts-tooltip").css("z-index", 200);

        /**
         * Highcharts plugin for setting a lower opacity for other series than the one that is hovered
         * in the legend
         */
        (function (Highcharts) {
            var each = Highcharts.each;

            Highcharts.wrap(Highcharts.Legend.prototype, 'renderItem', function (proceed, item) {

                proceed.call(this, item);

                var isPoint = !!item.series,
                    collection = isPoint ? item.series.points : this.chart.series,
                    groups = isPoint ? ['graphic'] : ['group', 'markerGroup'],
                    element = (this.options.useHTML ? item.legendItem : item.legendGroup).element;

                element.onmouseover = function () {
                    each(collection, function (seriesItem) {
                        if (seriesItem !== item) {
                            each(groups, function (group) {
                                seriesItem[group].animate({
                                    opacity: 0.25
                                }, {
                                    duration: 150
                                });
                            });
                        }
                    });
                };
                element.onmouseout = function () {
                    each(collection, function (seriesItem) {
                        if (seriesItem !== item) {
                            each(groups, function (group) {
                                seriesItem[group].animate({
                                    opacity: 1
                                }, {
                                    duration: 50
                                });
                            });
                        }
                    });
                };
            });
        })(Highcharts); //end gray other series plugin
    };
Highcharts.setOptions({lang: {thousandsSep: ","}});

    var chart = new Highcharts.Chart(all_chart_options, chartCallback(all_chart_options));
});
jQuery.fn.extend({addCommas:function addCommas(decimals) {

            var val = this[0] || 0;

            if (val == 0) {
                return 0;
            } else if (isNaN(val) || val < 999 && val > -999 && decimals < 1) {
                //small numbers auto decimals
                return val;
            } else if (val < 999 && val > -999 && decimals > 0) {
                //small numbers fixed decimals
                return val.toFixed(decimals);
            } else if ((val > 999 || val < -999) && decimals > 0) {
                //big numbers fixed decimals
                while (/(\d+)(\d{3})/.test(val.toString())) {
                    val = val.toFixed(decimals).replace(/(\d+)(\d{3})/, '$1' + ',' + '$2');
                }
            } else if (val > 999 || val < -999) {
                //big number auto decimals
                while (/(\d+)(\d{3})/.test(val.toString())) {
                    val = val.toString().replace(/(\d+)(\d{3})/, '$1' + ',' + '$2');
                }
            }

            return val;
        } });
    </script>


</body>

</html>