(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

/** main app file, starts everything off **/
$(document).ready(function () {

    //utils
    var jq_extensions = require("./utils/jq_extensions.js");
    var utils_main = require("./utils/utils_main");

    //load test table into table_input_textarea

    $.get("./dev/test_tables/test_table.htm", function (table) {
        $("#table_input_textarea").val(table);

        //check if app was opened from the chart wizard (imediately invoked function)
        var loadFromTableWizard = require("./utils/load_from_table_wizard");

        //initial empty all map options

        var all_map_options = {};
        var chart_type = $("#chart_type_icons .selected").divVal();

        //initial all chart options init
        var allChartOptionsInit = require("./initializers/charts/all_chart_options_init.js");
        var all_chart_options = allChartOptionsInit(chart_type);

        //draw chart
        var draw_chart = require("./draw_chart.js");
        var chart = draw_chart.init(all_chart_options, draw_chart.chartCallback);

        //page init (navigation and keyboard entries)
        var navigation_setup = require("./navigation_setup.js");
        navigation_setup.firstNavInit();

        //all form updates - when updates are made, update the chart. this also calls some nav and keyboard input inits
        var allFormUpdates = require("./form_updates/all_form_updates.js");
        allFormUpdates(chart, all_chart_options, all_map_options);

        //diplay only options related to chart type
        allFormUpdates.displayOptions(chart_type);

        //click selected icon to make sure everything in the chart loads correctly
        $("#chart_type_icons .selected").click();
    });
});

},{"./draw_chart.js":15,"./form_updates/all_form_updates.js":16,"./initializers/charts/all_chart_options_init.js":30,"./navigation_setup.js":54,"./utils/jq_extensions.js":65,"./utils/load_from_table_wizard":66,"./utils/utils_main":68}],2:[function(require,module,exports){
"use strict";

var utils_forms = require("./utils/utils_forms.js");

/**
 * Contains functions that deal with chart (options selected and data loaded) saving and loading
 * @namespace
 */

var chart_recall = {

    /** reads all of the page's selectable options and loads values into an object **/

    saveValues: function saveValues() {
        //object to load each input's values and ID's into (textareas, selects, checkboxes, div icons etc )
        var saved_values = [];

        $("input, select, textarea, #chart_type_icons, #table_input_load_series_from_icons, #color_palettes, .series_type_div", $("#side_main")).each(function () {

            if (this.nodeName === "DIV") {
                var input_val = $(this).children("[class*='selected']").divVal();
            } else {
                var input_val = this.type === "checkbox" ? utils_forms.getCheckBoxValue($(this)) : $(this).val();
            }

            saved_values.push({
                id: $(this).attr("id"),
                val: input_val
            });
        });
        //console.log(JSON.stringify(saved_values));
        return saved_values;
    },

    /** takes input (originally from #load_chart_textarea, parses it, and sets option values accordingly, to load a saved chart) **/

    loadValues: function loadValues(chart, all_chart_options, input) {
        var utils_main = require("./utils/utils_main.js");
        try {
            input = JSON.parse(input);
        } catch (e) {
            utils_main.showError("Sorry, the JSON parsing didn't work. Please double check your input. " + e);
        }

        /** goes through an array of objects with id / val, sets elements with a given ID to that value **/
        var setValues = function setValues(arr, set_individual_series /*bool*/) {
            var individual_series_options = []; //gets populated if series_color and line_style_select are found

            $.each(arr, function () {

                if (!set_individual_series && this.id.match(/series_color|line_style_select|series_type_div/)) {
                    //look if this id has to do with individual series options
                    individual_series_options.push(this);
                } else {

                    var element = document.getElementById(this.id);
                    if (element) {
                        if (element.nodeName === "DIV") {
                            $(element).children().removeClass("selected");
                            $(element).children("[value='" + this.val + "']").addClass("selected");
                            //   $(element).children("[type='" + this.val + "']").click();
                        } else if (element.type === "checkbox") {
                                element.checked = this.val;
                            } else {
                                element.value = this.val;
                            }
                    }
                }
            });

            return individual_series_options;
        }; //end setValues

        var individual_series_options = setValues(input, false); //false to not set indivdual series yet

        //initial all chart options init and redraw chart
        var allChartOptionsInit = require("./initializers/charts/all_chart_options_init.js");
        var draw_chart = require("./draw_chart.js");
        var chart_type = $("#chart_type_icons .selected").divVal();
        all_chart_options = allChartOptionsInit(chart_type);
        chart = undefined;
        chart = draw_chart.init(all_chart_options, draw_chart.chartCallback);

        //reinit form updates bindings
        var allFormUpdates = require("./form_updates/all_form_updates.js");
        allFormUpdates(chart, all_chart_options);

        //re populate the individual series options forms
        var update_individual_series = require("./form_updates/update_individual_series.js");
        update_individual_series.populateForm(chart, all_chart_options);
        setValues(individual_series_options, true); //true to set indivdual series now

        /*  trigger changes to update chart  */

        //line style changes
        $(".line_style_select").each(function () {
            $(this).change();
        });

        //individual color changes
        $(".jscolor").each(function (i) {
            var color = "#" + $(this).val();
            update_individual_series.updateSeriesColor(chart, all_chart_options, i, color);
            $(this).focus().blur();
        });

        //add recession shading
        $("#chart_add_recession_shading_select").change();

        window.scrollTo(0, 0); //scrolls to top
    },

    /** when load_chart_button is clicked, load the input options from #load_chart_textarea and update the chart **/

    initLoad: function initLoad(chart, all_chart_options) {

        $("#load_chart_button").unbind().click(function () {
            var re = /"saved_values": *(\[[\s\S]+}\])/; //looks for saved values array of objects
            var input = $("#load_chart_textarea").val().match(re)[1]; //separate all_chart_options obj from textarea

            $("#load_chart_div").hide(function () {
                //hide this area (makes loading much faster)
                if (input.length > 0) {
                    chart_recall.loadValues(chart, all_chart_options, input);
                    $("#show_load_chart_area_button").removeClass("load_chart_showing");
                };
            });
        });
    }

};

module.exports = chart_recall;

},{"./draw_chart.js":15,"./form_updates/all_form_updates.js":16,"./form_updates/update_individual_series.js":22,"./initializers/charts/all_chart_options_init.js":30,"./utils/utils_forms.js":67,"./utils/utils_main.js":68}],3:[function(require,module,exports){
"use strict";

/** 
* All Chart options constructor. Combines all other options into main options object. Info at http://api.highcharts.com/highcharts 
@constructor AllChartOptions
@param o {object} chart options object
*/
var AllChartOptions = function AllChartOptions(o) {
    this.chart = o.chart;
    this.colors = o.colors;
    this.legend = o.legend;
    this.plotOptions = o.plotOptions;
    this.series = o.series;
    this.drilldown = o.drilldown;
    this.subtitle = o.subtitle;
    this.title = o.title;
    this.tooltip = o.tooltip;
    this.xAxis = o.xAxis;
    this.yAxis = o.yAxis;
    this.credits = o.credits;
    //  this.exporting = o.exporting;
};

module.exports = AllChartOptions;

},{}],4:[function(require,module,exports){
'use strict';

/** Chart options constructor. Info at http://api.highcharts.com/highcharts#chart
* @constructor ChartOptions 
*  @param o {object} chart options object
*/
var ChartOptions = function ChartOptions(o) {

    this.renderTo = o.renderTo || "chart_display_area";
    this.margin = [o.margin[0] || 90, o.margin[1] || 40, o.margin[2] || 80, o.margin[3] || 75]; //[top,right,bottom,left]
    this.borderWidth = o.borderWidth || 0;
    this.plotBorderColor = o.plotBorderColor || '#000';
    this.plotBorderWidth = o.plotBorderWidth || 0;
    this.type = o.type || 'line';
    this.events = o.events;
    this.zoomType = 'xy';
    this.alignTicks = o.alignTicks || false;
    this.ignoreHiddenSeries = o.ignoreHiddenSeries || true; //false for bubble charts so bubbles won't resize
};

module.exports = ChartOptions;

},{}],5:[function(require,module,exports){
"use strict";

/** Credits options constructor. Info at http://api.highcharts.com/highcharts#credits
* @constructor Credits 
*  @param o {object} credits options object
*/
var Credits = function Credits(o) {

    this.position = {
        align: 'left',
        x: 10,
        y: o.position ? o.position.y || -20 : -20
    };

    this.style = {
        cursor: "default",
        color: "#2C2C2C"
    };

    this.text = o.text || "";
    this.useHTML = true;
};

module.exports = Credits;

},{}],6:[function(require,module,exports){
'use strict';

/** Exporting options constructor. Info at http://api.highcharts.com/highcharts#exporting
* @constructor Exporting 
* @param o {object} exporting options object
*/
var Exporting = function Exporting(o) {

    this.buttons = {
        contextButton: {
            enabled: true,
            verticalAlign: 'bottom',
            x: -10
        }
    };
};

module.exports = Exporting;

},{}],7:[function(require,module,exports){
'use strict';

/** Legend options constructor. Info at http://api.highcharts.com/highcharts#legend 
* @constructor Legend 
* @param o {object} legend options object
*/
var Legend = function Legend(o) {

    this.align = o.align || 'left';
    this.backgroundColor = o.backgroundColor || 'none';
    this.borderColor = o.borderColor || 'none';
    this.borderWidth = o.borderWidth || 0;
    this.enabled = o.enabled || true;
    this.floating = o.floating || false;
    this.itemDistance = o.itemDistance || 30;
    this.itemWidth = o.itemWidth;
    this.layout = o.layout || 'horizontal';
    this.reversed = o.reversed || false;
    this.shadow = o.shadow || false;
    this.useHTML = o.useHTML || false;
    this.verticalAlign = o.verticalAlign || 'top';
    this.width = o.width;
    this.x = o.x || 0;
    this.y = o.y || 30;

    this.itemStyle = {
        fontFamily: 'Calibri, Verdana, Arial, Helvetica, sans-serif',
        color: '#000'
    };
    this.itemHiddenStyle = {
        color: 'gray'
    };
    this.itemHoverStyle = {
        cursor: o.itemHoverStyle ? o.itemHoverStyle.cursor || "pointer" : "pointer"
    };
};

module.exports = Legend;

},{}],8:[function(require,module,exports){
"use strict";

/** PlotOptions constructor. Info at http://api.highcharts.com/highcharts#plotOptions
 * @constructor PlotOptions 
 * @param o {object} PlotOptions options object
 */
var PlotOptions = function PlotOptions(o) {

    //for all chart types. values are undefined if not in o.
    this.series = {
        events: {
            legendItemClick: o.series.events.legendItemClick
        },
        dataLabels: {
            enabled: o.series.dataLabels.enabled || false
        },
        pointPlacement: o.series.pointPlacement,
        stacking: o.series.stacking,
        pointPadding: o.series.pointPadding,
        groupPadding: o.series.groupPadding,
        minPointLength: o.series.minPointLength,
        maxSize: o.series.maxSize,
        minSize: o.series.minSize,
        sizeBy: o.series.sizeBy,
        lineWidth: o.series.lineWidth,
        states: o.series.states,
        marker: o.series.marker

    };

    this.bubble = {
        tooltip: {
            followPointer: true
        }
    };
};

module.exports = PlotOptions;

},{}],9:[function(require,module,exports){
"use strict";

/** series (an array of objs) options constructor. Info at http://api.highcharts.com/highcharts#series 
* @constructor Series 
* @param o {object} Series options object
*/
var Series = function Series(o) {

    this.series = o || [{}];
};

module.exports = Series;

},{}],10:[function(require,module,exports){
"use strict";

/** subtitle options constructor. Info at http://api.highcharts.com/highcharts#subtitle
* @constructor Subtitle 
* @param o {object} Subtitle options object
*/
var Subtitle = function Subtitle(o) {

    this.text = o.text || "";
    this.align = o.align || "left";

    this.style = {
        color: '#000000',
        fontFamily: 'sans-serif',
        fontWeight: 'normal',
        fontSize: '12px'
    };
};

module.exports = Subtitle;

},{}],11:[function(require,module,exports){
"use strict";

/** Title options constructor. Info at http://api.highcharts.com/highcharts#title
* @constructor Title 
* @param o {object} Title options object
*/
var Title = function Title(o) {

    this.text = o.text || "";
    this.align = o.align || "left";

    this.style = {
        color: '#000000',
        fontFamily: 'sans-serif',
        fontWeight: 'bold',
        fontSize: '14px'
    };
};

module.exports = Title;

},{}],12:[function(require,module,exports){
'use strict';

/** Tooltip options constructor. Info at http://api.highcharts.com/highcharts#tooltip
 * @constructor Tooltip 
 * @param o {object} Tooltip options object
 */

var Tooltip = function Tooltip(o) {
    this.backgroundColor = '#FEFFEF';
    this.crosshairs = o.crosshairs || [false, false];
    this.formatter = o.formatter;

    this.style = {
        color: '#000000',
        fontFamily: 'Calibri, Verdana, Arial, Helvetica, sans-serif'
    };

    this.useHTML = false;
};

module.exports = Tooltip;

},{}],13:[function(require,module,exports){
'use strict';

/** xAxis options constructor. Info at http://api.highcharts.com/highcharts#xAxis
 * @constructor XAxis 
 * @param o {object} XAxis options object
 */
var XAxis = function XAxis(o) {

    this.categories = o.categories;
    this.gridLineColor = o.gridLineColor || '#c0c0c0';
    this.gridLineWidth = o.gridLineWidth || 0;
    this.gridLineDashStyle = o.gridLineDashStyle || 'Dot';

    this.labels = {
        formatter: o.labels ? o.labels.formatter || undefined : undefined,
        rotation: o.labels ? o.labels.rotation || 0 : 0,
        style: {
            color: '#000000',
            fontFamily: 'Calibri, Verdana, Arial, Helvetica, sans-serif',
            fontWeight: 'normal',
            backgroundColor: '#fff',
            fontSize: '12px',
            textOverflow: 'none'
        }

    };

    this.lineWidth = o.lineWidth || 1.2;
    this.lineColor = o.lineColor || 'gray';
    this.max = o.max || null;
    this.min = o.min || null;
    this.plotBands = o.plotBands || [];
    this.plotLines = o.plotLines || [{
        "value": 0,
        "color": "#c0c0c0",
        "dashStyle": "solid",
        "width": 0
    }];

    this.tickInterval = o.tickInterval || null;
    this.tickmarkPlacement = o.tickmarkPlacement || 'on';
    this.tickPosition = o.tickPosition || 'outside';
    this.tickColor = o.tickColor || '#C0D0E0';

    this.title = {
        align: o.title.align,
        useHTML: true,
        text: o.title ? o.title.text || '' : '',
        margin: o.title ? o.title.margin || 6 : '',
        rotation: 0,
        style: {
            color: '#000000',
            fontFamily: 'Calibri, Verdana, Arial, Helvetica, sans-serif',
            fontWeight: 'normal',
            backgroundColor: '#fff',
            fontSize: '13px'
        },
        x: o.title.x
    };

    this.type = o.type;
};

module.exports = XAxis;

},{}],14:[function(require,module,exports){
'use strict';

/** yAxis options constructor. Info at http://api.highcharts.com/highcharts#yAxis
* @constructor yAxis 
* @param o {object} yAxis options object
*/

var yAxis = function yAxis(o) {

    this.gridLineColor = o.gridLineColor || '#c0c0c0';
    this.gridLineWidth = o.gridLineWidth || 1;
    this.gridLineDashStyle = o.gridLineDashStyle || 'Dot';

    this.labels = {

        //   format: o.labels ? o.labels.format : {value},
        formatter: o.labels ? o.labels.formatter : undefined,
        rotation: o.labels ? o.labels.rotation || 0 : 0,
        style: {
            color: '#000000',
            fontFamily: 'Calibri, Verdana, Arial, Helvetica, sans-serif',
            fontWeight: 'normal',
            backgroundColor: '#fff',
            fontSize: '12px'
        }

    };

    this.lineColor = o.lineColor || 'gray';
    this.lineWidth = o.lineWidth || 1;
    this.max = o.max || null;
    this.min = o.min || null;
    this.opposite = o.opposite || false;
    this.plotBands = o.plotBands || [];

    this.plotLines = o.plotLines || [{
        "value": 0,
        "color": "#c0c0c0",
        "dashStyle": "solid",
        "width": 1
    }];

    this.tickInterval = o.tickInterval || null;
    this.tickmarkPlacement = o.tickmarkPlacement || 'on';
    this.tickPosition = o.tickPosition || 'outside';
    this.tickColor = o.tickColor || '#C0D0E0';
    this.tickWidth = o.tickWidth || 1;

    this.title = {
        useHTML: true,
        text: o.title ? o.title.text || '' : '',
        margin: o.title ? o.title.margin || 6 : 6,
        align: o.title ? o.title.align || 'middle' : 'middle',
        offset: 20,
        rotation: 0,
        x: o.title ? o.title.x || 35 : 35,
        y: o.title ? o.title.y || -15 : -15,

        style: {
            color: '#000000',
            fontFamily: 'Calibri, Verdana, Arial, Helvetica, sans-serif',
            fontWeight: 'normal',
            fontSize: '13px'
        }
    };

    this.type = o.type || 'linear';
};

module.exports = yAxis;

},{}],15:[function(require,module,exports){
"use strict";

/** takes all_chart_options and prints a chart to the screen 
@namespace
*/

var draw_chart = {

    chartCallback: function chartCallback(all_chart_options) {

        if (all_chart_options.timeline) {
            //call animation if applicable
            all_chart_options.timeline.animation();
        }

        $(".highcharts-legend-item").css("min-height", "0px").css("z-index", 100); //fix so CMS CSS doesn't make legend taller than it should
        $(".highcharts-tooltip").css("z-index", 200);

        /**
         * Highcharts plugin for setting a lower opacity for other series than the one that is hovered
         * in the legend
         */
        (function (Highcharts) {
            var each = Highcharts.each;

            Highcharts.wrap(Highcharts.Legend.prototype, 'renderItem', function (proceed, item) {

                proceed.call(this, item);

                var isPoint = !!item.series,
                    collection = isPoint ? item.series.points : this.chart.series,
                    groups = isPoint ? ['graphic'] : ['group', 'markerGroup'],
                    element = (this.options.useHTML ? item.legendItem : item.legendGroup).element;

                element.onmouseover = function () {
                    each(collection, function (seriesItem) {
                        if (seriesItem !== item) {
                            each(groups, function (group) {
                                seriesItem[group].animate({
                                    opacity: 0.25
                                }, {
                                    duration: 150
                                });
                            });
                        }
                    });
                };
                element.onmouseout = function () {
                    each(collection, function (seriesItem) {
                        if (seriesItem !== item) {
                            each(groups, function (group) {
                                seriesItem[group].animate({
                                    opacity: 1
                                }, {
                                    duration: 50
                                });
                            });
                        }
                    });
                };
            });
        })(Highcharts); //end gray other series plugin
    },

    /** initialize function **/
    init: function init(all_chart_options, chartCallback) {

        $(".chart_display_area").attr("id", all_chart_options.chart.renderTo); //change ID of chart area to make sure it matches the renderTo value

        //set highcharts globals default
        Highcharts.setOptions({
            lang: {
                thousandsSep: ','
            }
        });

        var chart = new Highcharts.Chart(all_chart_options, draw_chart.chartCallback(all_chart_options));
        return chart;
    }

};

module.exports = draw_chart;

},{}],16:[function(require,module,exports){
"use strict";

var calculate_recession_dates = require("../utils/calculate_recession_dates.js");
var navigation_setup = require("../navigation_setup.js");
var update_template = require("./update_template.js");
var updateChartType = require("./update_chart_type.js");
var updateColors = require("./update_colors.js");
var utils_forms = require("../utils/utils_forms.js");
var utils_main = require("../utils/utils_main.js");
var update_legend = require("./update_legend.js");
var update_x_axis = require("./update_x_axis.js");
var update_y_axis = require("./update_y_axis.js");
var update_tooltip = require("./update_tooltip.js");
var update_data = require("./update_data.js");
var update_credits = require("./update_credits.js");
var update_chart_options = require("./update_chart_options.js");
var chart_recall = require("../chart_recall.js");
var update_individual_series = require("./update_individual_series.js");
var update_map_palettes = require("./update_map_palettes.js");

var map_init = require("../initializers/maps/map_init.js");
var map_colors_init = require("../initializers/maps/map_colors_init.js");

/** listens for any form updates and calls appropriate function 
@module
*/
var allFormUpdates = function allFormUpdates(chart, all_chart_options, all_map_options) {

    /* CHART TYPE CHANGES */

    /** highlights the icon clicked by adding 'selected' class **/
    allFormUpdates.selectChart = function (selected) {
        //change selected icon
        $("#chart_type_icons .chart_type_icon").removeClass("selected");
        $(selected).addClass("selected");
    };

    /** shows and hides elements depending on what chart type is selected **/
    allFormUpdates.displayOptions = function (chart_type) {

        //reset alert message to nothing
        $(".alert-danger").text("");

        $(".chart_tab, .display_options>*").not(".notes").show(); //start showing all, and might hide later if map selected
        $(".just_map").hide(); //hide just map stuff

        //hide stuff unrelated to that chart type (line, bar, column)
        if (["area", "line", "bar", "column", "stacked_column", "stacked_bar"].indexOf(chart_type) > -1) {
            //if one of these
            $(".show_line, .show_bar, .show_column").show();
        } else {
            $(".show_line, .show_bar, .show_column").hide();
        }

        //hide all classes with just_ ...
        $(".just_drilldown, .just_scatter, .just_bubble, .just_column, .just_bar, .just_arearange, .just_columnrange").hide();

        //show just_...
        if (["scatter", "drilldown", "bubble", "bar", "column", "stacked_column", "stacked_bar", "arearange", "columnrange"].indexOf(chart_type) > -1) {
            $(".just_" + chart_type.replace("stacked_", "")).show();
            $(".show_" + chart_type.replace("stacked_", "")).show();
        }

        //if drilldown, hide unrelated
        if (chart_type === "drilldown") {
            $("#tab_series_options").hide();
            if ($("#drilldown_type_select").val() === "bubble") {
                $(".just_bubble").show();
            }
        } else {
            $("#tab_series_options").show();
        }
    };

    /* when chart type icon is clicked and changed */

    $('.chart_type_icon').unbind().click(function () {

        allFormUpdates.selectChart(this);
        var chart_type = $(this).divVal();
        allFormUpdates.displayOptions(chart_type);

        updateChartType(chart_type, chart, all_chart_options);

        if (chart_type === "map") {
            //if map
            $(".chart_display_area").hide();
            $(".map_display_area").show();

            map_colors_init.loadMapColorPalettes(4); //loads color palettes then loads new map
        } else {
                //if not map
                $(".map_display_area").hide();
                $(".chart_display_area").show();
                chart.reflow();
                navigation_setup.chartClicks();
            }
    });

    /* when map type icon is clicked don't unbind this */
    $("#chart_type_map").click(function () {
        allFormUpdates.selectChart(this);
        $(".chart_tab").not(".map_tab").hide();
        $(".display_options:gt(0)>*").not(".notes").not(".show_map").hide(); //hide everything except map relevent options
        $(".just_map").show();
        $("#chart_credits_text_textarea").val("Hover over an area to see data.\nHover over legend items to see areas in a category.\nSource: U.S. Bureau of Labor Statistics."); //update credits area
    });

    /* when drilldown type dropdown is changed */

    $("#drilldown_type_select").unbind().change(function () {
        updateChartType("drilldown", chart, all_chart_options);
    });

    /* when animated bubble checkbox is clicked */

    $("#bubble_animated_checkbox").unbind().change(function () {
        $(".chart_animation_div").remove();
        updateChartType("bubble", chart, all_chart_options);
        all_chart_options.timeline = null;
        update_data.updateData(chart, all_chart_options);
    });

    /* TEMPLATE CHANGES */

    //chart ID
    $("#chart_id_textinput").unbind().keyup(function () {
        if (all_chart_options.chart.type === "map") {
            //for maps
            map_init.loadNewMap(chart, all_chart_options, all_map_options, false); // true to repopulate form
        } else {
                update_template.changeID($(this).val(), all_chart_options);
            }
    });

    //chart width
    $("#chart_width_textinput").unbind().keyup(function () {
        update_template.resize($(this).val(), "width", chart, all_chart_options);
    });

    //chart height
    $("#chart_height_textinput").unbind().keyup(function () {
        update_template.resize($(this).val(), "height", chart, all_chart_options);
    });

    //inner chart margins
    $(".margin_input").unbind().keyup(function () {
        var margins_arr = utils_forms.getClassValuesArray("margin_input");
        update_template.margin(margins_arr, chart, all_chart_options);
    });

    /* CHART DATA CHANGES - (x-axis categories and series array) */

    //"series names loaded from" icon clicked
    $("#table_input_load_series_from_icons .load_series_from_icon").unbind().click(function () {
        //change selected icon
        $("#table_input_load_series_from_icons .selected").removeClass("selected");
        $(this).addClass("selected");

        update_data.updateData(chart, all_chart_options);
        update_individual_series.populateForm(chart, all_chart_options);
    });

    //table input textarea
    $("#table_input_textarea").unbind().bind('blur paste', function () {

        if (all_chart_options.chart.type === "map") {
            //for maps
            map_init.loadNewMap(chart, all_chart_options, all_map_options, true); // true to repopulate form
        } else {
                update_data.updateData(chart, all_chart_options); //for charts
            }
    });

    //example table select menu
    $("#example_table_select").unbind().change(function () {

        var new_table_file = "./dev/test_tables/" + $(this).val() + ".htm";

        $.get(new_table_file, function (table) {
            $("#table_input_textarea").val(table);
            $("#chart_type_icons .selected").click();
        });
    });

    /* COLOR PALETTE CHANGES - defined and initiated in navigation setup*/

    //chart color palettes
    allFormUpdates.colorPaletteRowClick = function () {

        $(".color_palette_row").unbind().click(function () {
            var chart_type = $("#chart_type_icons .selected").divVal(); //need chart type because drill is colored differently
            $(".color_palette_row").removeClass("selected");
            $(this).addClass("selected");
            updateColors(chart, all_chart_options, chart_type);
        });

        //map color palettes
        $(".map_color_palette_row").unbind().click(function () {

            $(".map_color_palette_row").removeClass("selected");
            var color_palette = $(this);
            color_palette.addClass("selected");
            $("#display_series_options_inner_div").empty(); //emptys the individual choices area so colors are redone.
            map_init.loadNewMap(chart, all_chart_options, all_map_options, true); // true to repopulate form
        });
    };

    // when page loads, load the chart palettes

    if ($("#color_palettes").children().length < 1) {
        $("#color_palettes").load("./components/color_palettes.htm", function () {
            allFormUpdates.colorPaletteRowClick();
        });
    } else {
        allFormUpdates.colorPaletteRowClick(); // runs when this main function is called with chart_recall
    }

    /* LEGEND CHANGES */

    //legend layout changed
    $("#legend_layout_select").unbind().change(function () {
        update_legend.updateLayout($(this).val(), chart, all_chart_options);
    });

    //legend item width changed

    $("#legend_item_width_input").unbind().keyup(function () {
        var newItemWidth = utils_main.checkForUndefined($(this).val());
        update_legend.updateItemWidth(newItemWidth, chart, all_chart_options);
    });

    //legend reverse ceckbox changed
    $("#legend_reverse_layout_checkbox, #map_legend_enabled_checkbox").unbind().change(function () {

        if (all_chart_options.chart.type === "map") {
            //for maps
            map_init.loadNewMap(chart, all_chart_options, all_map_options, true); // true to repopulate form
        } else {
                var val = utils_forms.getCheckBoxValue($(this));
                update_legend.updateIsReversed(val, chart, all_chart_options);
            }
    });

    //legend toggle (hide others) checkbox changed
    $("#legend_make_toggle_checkbox").unbind().change(function () {
        var toggle_enabled = utils_forms.getCheckBoxValue($(this));
        update_legend.updateToggle(toggle_enabled, chart, all_chart_options);
    });

    //legend X or Y placement values changed
    $("#legend_placement_x, #legend_placement_y").unbind().keyup(function () {

        if (all_chart_options.chart.type === "map") {
            //for maps
            map_init.loadNewMap(chart, all_chart_options, all_map_options, true); // true to repopulate form
        } else {

                var newX = Number($("#legend_placement_x").val());
                var newY = Number($("#legend_placement_y").val());

                update_legend.updateXYpositions(newX, newY, chart, all_chart_options);
            }
    });

    /* X-AXIS CHANGES */

    //x-axis title textarea changed
    $("#chart_x_axis_title_textarea").unbind().keyup(function () {
        var new_title = $(this).val();
        update_x_axis.updateTitle(new_title, chart, all_chart_options);
    });

    //x-axis title indent input changed (bar charts only)
    $("#chart_x_axis_x_position_input").unbind().keyup(function () {
        var new_indent = Number($(this).val());
        update_x_axis.updateTitleIndent(new_indent, chart, all_chart_options);
    });

    //x-axis tickmark interval input changed
    $("#chart_x_axis_tickmark_interval_input").unbind().keyup(function () {
        var new_interval = Number($(this).val());
        update_x_axis.updateTickmarkInterval(new_interval, chart, all_chart_options);
    });

    //x-axis max input changed
    $("#chart_x_axis_max_input").unbind().keyup(function () {
        var newMax = $(this).val();
        update_x_axis.updateMax(newMax, chart, all_chart_options);
    });

    //x-axis min input changed
    $("#chart_x_axis_min_input").unbind().keyup(function () {
        var newMin = $(this).val();
        update_x_axis.updateMin(newMin, chart, all_chart_options);
    });

    //x-axis formatter (only years) changed
    $("#chart_x_axis_show_only_years, #chart_x_axis_add_commas").unbind().change(function () {
        var only_numbers = utils_forms.getCheckBoxValue($("#chart_x_axis_show_only_years"));
        var add_commas = utils_forms.getCheckBoxValue($("#chart_x_axis_add_commas"));
        update_x_axis.updateFormatter(only_numbers, add_commas, chart, all_chart_options);
    });

    /* Y-AXIS CHANGES */

    //y-axis title textarea changed
    $("#chart_y_axis_title_textarea").unbind().keyup(function () {
        var newTitle = $(this).val();
        update_y_axis.updateTitle(newTitle, chart, all_chart_options);
    });

    //y-axis title indent changed
    $("#chart_y_axis_x_position_input").unbind().keyup(function () {
        var newXPosition = $(this).val();
        update_y_axis.updateXPosition(newXPosition, chart, all_chart_options);
    });

    //y-axis tickmark interval input changed
    $("#chart_y_axis_tickmark_interval_input").unbind().keyup(function () {
        var newInterval = $(this).val();
        update_y_axis.updateTickmarkInterval(newInterval, chart, all_chart_options);
    });

    //y-axis max input changed
    $("#chart_y_axis_max_input").unbind().keyup(function () {
        var newMax = $(this).val();
        update_y_axis.updateMax(newMax, chart, all_chart_options);
    });

    //y-axis min input changed
    $("#chart_y_axis_min_input").unbind().keyup(function () {
        var newMin = $(this).val();
        update_y_axis.updateMin(newMin, chart, all_chart_options);
    });

    //y-axis opposite side ceckbox changed
    $("#chart_y_axis_opposite_checkbox").unbind().change(function () {
        var val = utils_forms.getCheckBoxValue($(this));
        update_y_axis.updateIsOpposite(val, chart, all_chart_options);
    });

    //y-axis log ceckbox changed
    $("#chart_y_axis_log_checkbox").unbind().change(function () {
        var val = utils_forms.getCheckBoxValue($(this));
        update_y_axis.updateIsLog(val, chart, all_chart_options);
    });

    //y-axis dollar / percent or decimal selects changed (format)
    $("#chart_y_axis_signs_select, #chart_y_axis_decimals_select, #chart_y_axis_divide_select").unbind().change(function () {
        var sign = $("#chart_y_axis_signs_select").val();
        var decimals = $("#chart_y_axis_decimals_select").val();
        var dividend = Number($("#chart_y_axis_divide_select").val());
        update_y_axis.updateFormatter(sign, decimals, dividend, chart, all_chart_options);
    });
    $("#chart_y_axis_signs_select").change(); //call once on load

    /* TOOLTIP CHANGES */

    //change shared tooltip checkbox, decimals, signs, or mulitplier selects
    $("#chart_tooltip_shared_checkbox, #chart_tooltip_force_decimals_select, #chart_tooltip_force_decimals_x_select, #chart_tooltip_force_decimals_z_select, #chart_tooltip_signs_select, #chart_tooltip_signs_x_select, #chart_tooltip_signs_z_select, #chart_tooltip_y_multiple_select").unbind().change(function () {
        if (all_chart_options.chart.type === "map") {
            //for maps
            map_init.loadNewMap(chart, all_chart_options, all_map_options, true); // true to repopulate form
        } else {
                update_tooltip.updateToolTip(chart, all_chart_options);
            }
    });
    //call update tooltip after page and chart is loaded (has to be on a callback with the 'chart' object)
    $("#chart_tooltip_shared_checkbox").change();

    //bubble z value
    $("#chart_z_title_text_input").unbind().keyup(function () {
        update_tooltip.updateToolTip(chart, all_chart_options);
    });

    /* CREDITS CHANGES */

    $("#chart_credits_text_textarea").unbind().bind('input propertychange', function () {
        if (all_chart_options.chart.type === "map") {
            //for maps
            map_init.loadNewMap(chart, all_chart_options, all_map_options, true); // true to repopulate form
        } else {
                update_credits.updateCreditText(chart, all_chart_options); //for charts
            }
    });

    /* EXTRA OPTIONS CHANGES */

    //Point padding change (only bar and column)

    $("#point_padding_input").unbind().bind('input propertychange', function () {

        var val = $(this).getValNumber();

        update_chart_options.changePointPadding(val, chart, all_chart_options);
    });

    //group padding change (only bar and column)

    $("#group_padding_input").unbind().bind('input propertychange', function () {
        var val = $(this).getValNumber();

        update_chart_options.changeGroupPadding(val, chart, all_chart_options);
    });

    //Subtitle change
    $("#chart_subtitle_textarea").unbind().bind('input propertychange', function () {

        if (all_chart_options.chart.type === "map") {
            //if map
            map_init.loadNewMap(chart, all_chart_options, all_map_options, true); // true to repopulate form
        } else {
                //if chart
                var new_title = $(this).val();
                update_chart_options.updateSubtitle(new_title, chart, all_chart_options);
            }
    });

    //MLR style toggle
    $("#chart_mlr_styles_checkbox").unbind().change(function () {
        var is_checked = utils_forms.getCheckBoxValue($(this));
        update_x_axis.toggleMLRStyle(is_checked, chart, all_chart_options);
        update_y_axis.toggleMLRStyle(is_checked, chart, all_chart_options);
        update_chart_options.toggleMLRStyle(is_checked, all_chart_options); //draw_chart is called from here to update plotBorder
        if (is_checked) {
            $("#color_palette_mlr").click(); //click MLR color palette
        }
    });

    //Zoom type changed
    $("#chart_zoom_select").unbind().change(function () {
        var val = $(this).val();
        update_chart_options.changeZoomType(val, chart, all_chart_options);
    }).change(); //change once on init to make type null, because zoomtype must be xy to start to enable dynamic changing

    //data labels checkbox toggled
    $("#chart_show_data_labels_checkbox").unbind().change(function () {
        var val = utils_forms.getCheckBoxValue($(this));
        update_chart_options.toggleDataLabels(val, chart, all_chart_options);
    });

    //recession shading
    $("#chart_add_recession_shading_select").unbind().change(function () {
        var dates_type = $(this).val();
        var plot_bands_arr = calculate_recession_dates.createPlotBands(all_chart_options.xAxis.categories, dates_type);
        calculate_recession_dates.insertPlotBands(plot_bands_arr, chart, all_chart_options);
        update_credits.updateCreditText(chart, all_chart_options);
    });

    /* MAP SPECIFIC FORM CHANGES */

    //type of map changed
    $("#map_type_select").unbind().change(function () {
        map_colors_init.loadMapColorPalettes(4);
        // map_init.loadNewMap(chart, all_chart_options, all_map_options, true); // true to repopulate form
    });

    //is animated checkbox changed
    $("#map_animated_checkbox").unbind().change(function () {
        $("#legend_placement_y").val(70); // set legend y value so legend is lower for animated maps
        map_init.loadNewMap(chart, all_chart_options, all_map_options, true); // true to repopulate form
    });

    //circle size range slider changed
    $("#map_circle_size_range").unbind().on("input", function () {
        map_init.loadNewMap(chart, all_chart_options, all_map_options, true); // true to repopulate form
    });

    //map tooltip N/A input value changed
    $("#map_tooltip_na_text_input").unbind().on("input", function () {
        map_init.loadNewMap(chart, all_chart_options, all_map_options, true); // true to repopulate form
    });

    //map size for spotlight checkbox changed
    $("#map_spotlight_size_checkbox").unbind().change(function () {
        map_init.loadNewMap(chart, all_chart_options, all_map_options, true); // true to repopulate form
    });

    //map animation delay input changed
    $("#map_animation_speed_range").unbind().on("input", function () {
        map_init.loadNewMap(chart, all_chart_options, all_map_options, true); // true to repopulate form
    });

    //map palette + / - buttons clicked to change amount of colors
    $("#add_map_color, #minus_map_color").unbind().click(function () {
        update_map_palettes.changeAmount($(this));
    });

    /* Initialize chart_recall (load saved chart button ) */

    chart_recall.initLoad(chart, all_chart_options);

    //bind nav clicks and keys
    var navigation_setup = require("../navigation_setup.js");
    navigation_setup.initNavWithChart(chart, all_chart_options, all_map_options); // rebinds chart and all_chart_options to form events
};

module.exports = allFormUpdates;

},{"../chart_recall.js":2,"../initializers/maps/map_colors_init.js":46,"../initializers/maps/map_init.js":48,"../navigation_setup.js":54,"../utils/calculate_recession_dates.js":64,"../utils/utils_forms.js":67,"../utils/utils_main.js":68,"./update_chart_options.js":17,"./update_chart_type.js":18,"./update_colors.js":19,"./update_credits.js":20,"./update_data.js":21,"./update_individual_series.js":22,"./update_legend.js":23,"./update_map_palettes.js":25,"./update_template.js":26,"./update_tooltip.js":27,"./update_x_axis.js":28,"./update_y_axis.js":29}],17:[function(require,module,exports){
"use strict";

var draw_chart = require("../draw_chart.js");
var utils_main = require("../utils/utils_main");

/** updaters for all_chart_options.chart
@namespace
**/
var update_chart_options = {

    /** when point padding is changed (only bar and column charts) **/
    changePointPadding: function changePointPadding(val, chart, all_chart_options) {

        $(chart.series).each(function () {
            this.update({
                pointPadding: val
            });
        });

        all_chart_options.plotOptions.series.pointPadding = val;
    },

    /** when group padding is changed (only bar and column charts) **/
    changeGroupPadding: function changeGroupPadding(val, chart, all_chart_options) {

        $(chart.series).each(function () {
            this.update({
                groupPadding: val
            });
        });

        all_chart_options.plotOptions.series.groupPadding = val;
    },

    /** when zoon type dropdown is changed **/
    changeZoomType: function changeZoomType(val, chart, all_chart_options) {

        var val_arr = utils_main.parseBoolsFromArray(val.split(",")); //array is [x-zoom {bool}, y-zoom {bool}, zoomtype {stiring: x, y, or xy}]

        chart.pointer.zoomX = val_arr[0];
        chart.pointer.zoomY = val_arr[1];
        chart.pointer.zoomHor = val_arr[0];
        chart.pointer.zoomVert = val_arr[1];

        all_chart_options.chart.zoomType = val_arr[2];
    },

    /** enable or disabled data labels. Called when chart_show_data_labels_checkbox is changed **/

    toggleDataLabels: function toggleDataLabels(val, chart, all_chart_options) {

        $(chart.series).each(function () {
            this.update({
                dataLabels: {
                    enabled: val
                }
            });
        });

        all_chart_options.plotOptions.series.dataLabels.enabled = val;
    },

    /** when Use MLR Styles checkbox is toggled **/
    toggleMLRStyle: function toggleMLRStyle(is_checked, all_chart_options) {
        //if or not using MLR styles
        all_chart_options.chart.plotBorderWidth = is_checked ? 1 : 0;

        //have to completely redraw chart to update plotBorderWidth - not accesible by HC's API - this messes up a lot, so for now I'm not.      
    },

    /** updates the subtitle (when that #chart_subtitle_textarea is updated) **/
    updateSubtitle: function updateSubtitle(new_title, chart, all_chart_options) {

        chart.setTitle(null, {
            text: new_title
        });

        all_chart_options.subtitle.text = new_title;
    }

};

module.exports = update_chart_options;

},{"../draw_chart.js":15,"../utils/utils_main":68}],18:[function(require,module,exports){
"use strict";

var draw_chart = require("../draw_chart");
var plotOptionsInit = require("../initializers/charts/plot_options_init.js");
var update_data = require("./update_data.js");
var update_tooltip = require("./update_tooltip.js");
var update_x_axis = require("./update_x_axis.js");
var utils_main = require("../utils/utils_main.js");

/** when a chart icon is clicked, this function is called - changes the chart type shown 
@module
*/
var updateChartType = function updateChartType(chart_type, chart, all_chart_options) {

    //if drilled into a drilldown, click the up button to get out - prevents errors
    utils_main.drillUp();

    //if map
    if (chart_type === "map") {
        all_chart_options.chart.type = "map";
        return false;
    }

    //if not map
    var type = chart_type.replace("stacked_", "");

    if (type === "drilldown") {

        type = $("#drilldown_type_select").val();
    }

    if (type === "bar") {
        //fix y axis position
        chart.inverted = true;
        all_chart_options.yAxis.title.align = "middle";
        all_chart_options.xAxis.title.align = "high";
        all_chart_options.yAxis.title.x = 0;
        all_chart_options.yAxis.title.y = 8;
        all_chart_options.xAxis.title.y = -20;
        all_chart_options.xAxis.title.x = Number($("#chart_x_axis_x_position_input").val());

        //hide non-relevant elements
        $(".not_bar").hide();
    } else {
        //chart not bar
        chart.inverted = false;
        all_chart_options.yAxis.title.align = "high";
        all_chart_options.xAxis.title.align = "middle";
        all_chart_options.yAxis.title.x = Number($("#chart_y_axis_x_position_input").val());
        all_chart_options.yAxis.title.y = -20;
        all_chart_options.xAxis.title.y = 0;
        all_chart_options.xAxis.title.x = 0;

        $(".not_bar").show();
    }

    all_chart_options.xAxis.plotLines = [{
        "value": 0,
        "color": "#c0c0c0",
        "dashStyle": "solid",
        "width": type === "scatter" || type === "bubble" ? 1 : 0
    }];

    all_chart_options.xAxis.gridLineWidth = type === "scatter" || type === "bubble" ? 1 : 0;

    chart.xAxis[0].update({
        gridLineWidth: all_chart_options.xAxis.gridLineWidth,
        plotLines: all_chart_options.xAxis.plotLines
    }, false);

    chart.xAxis[0].setTitle({
        align: all_chart_options.xAxis.title.align,
        y: all_chart_options.xAxis.title.y,
        x: all_chart_options.xAxis.title.x
    }, false);

    chart.yAxis[0].setTitle({
        align: all_chart_options.yAxis.title.align,
        x: all_chart_options.yAxis.title.x,
        y: all_chart_options.yAxis.title.y
    }, false);

    //re parse data
    update_data.updateData(chart, all_chart_options);

    all_chart_options.chart.type = type;

    //update tooltip
    update_tooltip.updateToolTip(chart, all_chart_options);
};

module.exports = updateChartType;

},{"../draw_chart":15,"../initializers/charts/plot_options_init.js":37,"../utils/utils_main.js":68,"./update_data.js":21,"./update_tooltip.js":27,"./update_x_axis.js":28}],19:[function(require,module,exports){
"use strict";

var colorsInit = require("../initializers/charts/colors_init.js");

/** updates the chart's colors - called when palette is changed. Calls colorsInit 
@module
@param chart {object} the main chart object, built when chart is loaded
@param all_chart_options {object} the main chart options that load into building of the chart and are turned to string for the output
**/
var updateColors = function updateColors(chart, all_chart_options, chart_type) {
    all_chart_options.colors = colorsInit();
    chart.options.colors = all_chart_options.colors;

    if (chart_type === "drilldown") {
        //drilldowns color by point

        $(chart.series[0].data).each(function (i) {
            //update chart
            this.update({
                color: all_chart_options.colors[i]
            }, false);
            //update all_chart_options.series.data colors
            all_chart_options.series[0].data[i].color = all_chart_options.colors[i];
        });
    } else {
        //other charts color by series

        var start_coloring_index = 0;
        var color_index_mod = 0;

        if (chart_type === "bubble" && $("#bubble_animated_checkbox").is(":checked")) {
            start_coloring_index = 2;
            color_index_mod = 2;
        }

        $(chart.series).each(function (i) {

            if (i >= start_coloring_index) {
                //update chart
                this.update({
                    color: all_chart_options.colors[i - color_index_mod]
                }, false);
                //update all_chart_options.series colors
                all_chart_options.series[i - color_index_mod].color = all_chart_options.colors[i - color_index_mod];
            }
        });
    }

    chart.redraw();
};

module.exports = updateColors;

},{"../initializers/charts/colors_init.js":33}],20:[function(require,module,exports){
"use strict";

var creditsInit = require("../initializers/charts/credits_init.js");

/** when credit options are changed in the side area 
@namespace
*/

var update_credits = {

    /** get and set the credits text **/
    updateCreditText: function updateCreditText(chart, all_chart_options) {

        all_chart_options.credits = creditsInit();

        var new_y = Number($("#chart_height_textinput").val()) + all_chart_options.credits.position.y - 26;
        chart.credits.element.setAttribute("y", new_y);

        //svg text elements don't use break; each new line must be wrapped in a new tspan
        var credits_text = all_chart_options.credits.text.split("<br>").map(function (line, i) {
            return '<tspan x="10" dy="12">' + line + "</tspan>";
        }).join("");

        $(chart.credits.element).html(credits_text);
    }

};

module.exports = update_credits;

},{"../initializers/charts/credits_init.js":34}],21:[function(require,module,exports){
"use strict";

var parseTableInput = require("../parsers/parse_table_input.js");
var utils_forms = require("../utils/utils_forms.js");
var utils_main = require("../utils/utils_main.js");

/** called when #chart_type_icons .selected or #table_input_textarea is changed - calls functions to reparse data
@namespace
*/

var update_data = {

    /** called when .chart_type_icons .selected or #table_input_textarea is changed - calls functions to reparse data */
    updateData: function updateData(chart, all_chart_options) {

        var chart_type = $("#chart_type_icons .selected").divVal();
        var input = $("#table_input_textarea").val();

        var legend_toggle_enabled = utils_forms.getCheckBoxValue($("#legend_make_toggle_checkbox"));
        var load_series_from = $("#table_input_load_series_from_icons .selected").divVal();

        //if drilled into a drilldown, click the up button to get out - prevents errors
        utils_main.drillUp();

        ///parse data //
        var parsed_table_output = parseTableInput(input, load_series_from, chart_type, legend_toggle_enabled, all_chart_options.colors, chart, all_chart_options);

        //update x-axis categories
        chart.xAxis[0].update({
            categories: parsed_table_output.x_axis_categories
        }, false);

        //remove existing series array
        $(chart.series).each(function () {
            this.remove(false); //false to not redraw yet
        });

        //add new series
        $(parsed_table_output.series).each(function () {
            chart.addSeries(this, false); //false to not redraw yet
        });

        $(chart.options.drilldown.series).each(function () {
            delete this;
        });

        //add drilldown series if applicable
        if (parsed_table_output.drilldown) {
            chart.options.drilldown.series = [];

            $(parsed_table_output.drilldown.series).each(function () {
                chart.options.drilldown.series.push(this);
            });
        }

        //update chart title
        chart.setTitle({
            text: parsed_table_output.title_text
        });

        chart.redraw(true);

        //update chart options for code output
        all_chart_options.series = parsed_table_output.series;
        all_chart_options.xAxis.categories = parsed_table_output.x_axis_categories;
        all_chart_options.drilldown = parsed_table_output.drilldown;
        all_chart_options.title.text = parsed_table_output.title_text;

        //update whether legend toggle is enabled
        $("#legend_make_toggle_checkbox").change();
    }

};

module.exports = update_data;

},{"../parsers/parse_table_input.js":62,"../utils/utils_forms.js":67,"../utils/utils_main.js":68}],22:[function(require,module,exports){
"use strict";

var utils_main = require("../utils/utils_main.js");
var utils_forms = require("../utils/utils_forms.js");
var keyboard_inputs = require("../keyboard_inputs.js");

/** methods for updating individual series options in  #display_series_options - called when its side nav tab is selected in navigation_setup.
@module
@param chart {object} the main chart object, built when chart is loaded
@param all_chart_options {object} the main chart options that load into building of the chart and are turned to string for the output
**/

var update_individual_series = {

    /** updates all the extra data titles and values. Called from  seriesExtraDataChange()**/
    updateExtraData: function updateExtraData(chart, all_chart_options) {

        $(".series_snippet").each(function (i) {

            chart.series[i].extra_data = [];
            all_chart_options.series[i].extra_data = [];

            var $series_snippet = $(this);

            //push names
            $(".series_extra_data_title_textarea", $series_snippet).each(function (j) {
                var extra_data_obj = {};

                extra_data_obj.name = $(this).val();

                //push values
                $(".series_extra_data_values_textarea:eq(" + j + ")", $series_snippet).each(function (k) {

                    extra_data_obj.values = $(this).val().split("\n"); // TODO turn values into array
                });

                chart.series[i].extra_data.push(extra_data_obj);
                all_chart_options.series[i].extra_data.push(extra_data_obj);
            });
        });
    },

    /** called when changes are made to the series extra data text areas and plus and minus buttons **/
    seriesExtraDataChange: function seriesExtraDataChange(chart, all_chart_options) {

        //bind keyboard listeners so they aren't triggered inside of new text boxes
        keyboard_inputs.initListeners();

        //always hide the first minus sign for each series. Show the rest
        $(".series_extra_data_div:gt(0) .series_subtract_extra_data_button", $(".series_snippet")).show();

        //when plus buttons are clicked, duplicate the extra data entry boxes
        $(".series_add_extra_data_button").unbind().click(function () {
            var $extra_data_div = $(this).parents(".series_extra_data_div");

            $extra_data_div.clone().hide().insertAfter($extra_data_div).fadeIn().children().val("");
            //rebind extra data changes
            update_individual_series.seriesExtraDataChange(chart, all_chart_options);
        });

        //when minius buttons are clicked, remove the extra data entry boxes
        $(".series_subtract_extra_data_button").unbind().click(function () {
            $(this).parents(".series_extra_data_div").fadeOut(300, function () {
                $(this).remove();
            });
        });

        //when extra data title text areas are changed
        $(".series_extra_data_title_textarea, .series_extra_data_values_textarea").unbind('input propertychange').bind('input propertychange', function () {
            update_individual_series.updateExtraData(chart, all_chart_options);
        });
    },

    /** called when the series type icons are clicked. Binded at the end of populateForm **/
    seriesTypeIconChange: function seriesTypeIconChange(chart, all_chart_options) {

        $(".series_type_icon").click(function () {
            //update series type
            var i = $(this).parents(".series_snippet").index();
            var type = $(this).attr("type");
            var marker, lineWidth, zIndex;

            //if scatter chosen, make it a line chart with markers but no line

            if (type === "scatter") {
                lineWidth = 0;
                zIndex = 500;
                marker = {
                    enabled: true,
                    symbol: "circle"
                };
            } else {
                //not scatter

                zIndex = type === "column" ? -1 : i;
                marker = {
                    enabled: false
                };
                lineWidth = type === "line" ? 1 : 0;
            }

            chart.series[i].update({
                type: type,
                lineWidth: lineWidth,
                zIndex: zIndex,
                marker: marker
            });

            //update all_chart_options
            all_chart_options.series[i].type = type;
            all_chart_options.series[i].lineWidth = lineWidth;
            all_chart_options.series[i].zIndex = zIndex;
            all_chart_options.series[i].marker = marker;

            //highlight clicked icon
            $(".selected", $(this).parent()).removeClass("selected");
            $(this).addClass("selected");

            //hide or show the line styles for that series
            type === "line" ? $(".line_style_div:eq(" + i + ")").show() : $(".line_style_div:eq(" + i + ")").hide();
        });
    },

    /** called when series visible by default checkbox is changed.  Binded at the end of populateForm **/
    seriesVisibleChange: function seriesVisibleChange(chart, all_chart_options) {

        $(".series_visible_checkbox").change(function () {
            var is_visible = utils_forms.getCheckBoxValue($(this));
            var i = $(this).parents(".series_snippet").index();
            chart.series[i].update({
                visible: is_visible
            });

            //update all_chart_options
            all_chart_options.series[i].visible = is_visible;
        });
    },

    /** called when the jscolor selector is changed (mouse still down). Updates the actual chart object and all_chart_options code output object***/
    updateSeriesColor: function updateSeriesColor(chart, all_chart_options, i, jscolor) {

        all_chart_options.colors[i] = typeof jscolor === "string" ? jscolor : jscolor.toRGBString();
        all_chart_options.series[i].color = all_chart_options.colors[i];
        chart.series[i].update({
            color: all_chart_options.series[i].color
        });
    },

    /** bound with populateForm. When the line style dropdown is changed, change that series **/
    lineStyleSelectChange: function lineStyleSelectChange(chart, all_chart_options) {
        $(".line_style_select").change(function () {
            var line_style = $(this).val();
            var i = $(this).parents(".series_snippet").index();

            all_chart_options.series[i].dashStyle = line_style;

            chart.series[i].update({
                dashStyle: line_style
            });
        });
    },

    /** makes a color box, called from populateForm **/
    makeSeriesColorDiv: function makeSeriesColorDiv(chart, all_chart_options, i) {
        var series_color_div = document.createElement("div");
        series_color_div.className = "series_color_div";

        // make a color label
        var series_color_label = document.createElement("label");
        $(series_color_label).addClass("series_color_label").text("Color: ");

        //make color input box
        var series_color = document.createElement('input');
        $(series_color).addClass("jscolor {valueElement:null}").attr("id", "series_color_" + i);

        //init with color, using jscolor.js
        var picker = new jscolor(series_color, {
            onFineChange: function onFineChange() {
                update_individual_series.updateSeriesColor(chart, all_chart_options, i, this);
            }

        });

        //convert rgb string into arrray
        var c = i < 15 ? i : i - 15;
        var color = all_chart_options.colors[c] || "#000";

        //create picker
        if (color.charAt(0) === "#") {
            //if hex
            picker.fromString(color);
        } else {
            //else color is rgb
            var rgb = utils_main.rgb2arr(color);
            picker.fromRGB(rgb[0], rgb[1], rgb[2]);
        }

        //make clear float div
        var clear_div = utils_main.makeClearFloatDiv();

        $(series_color_div).append(series_color_label, series_color, clear_div);

        return series_color_div;
    },

    /** add line style option - shown only if type is line**/
    makeLineStyleDiv: function makeLineStyleDiv(i) {

        var line_style_div = document.createElement("div");
        $(line_style_div).addClass("line_style_div");

        var line_style_label = document.createElement("label");
        $(line_style_label).addClass("line_style_label").text("Line style: ");

        var line_style_select = document.createElement("select");
        $(line_style_select).addClass("line_style_select").attr("id", "line_style_select_" + i);

        var line_style_option_solid = document.createElement("option");
        $(line_style_option_solid).text("Solid").val("Solid");

        var line_style_option_dash = document.createElement("option");
        $(line_style_option_dash).text("Dash").val("Dash");

        var line_style_option_dot = document.createElement("option");
        $(line_style_option_dot).text("Dot").val("Dot");

        var line_style_option_long_dash = document.createElement("option");
        $(line_style_option_long_dash).text("Long dash").val("LongDash");

        var line_style_option_dash_dot = document.createElement("option");
        $(line_style_option_dash_dot).text("Dash-dot").val("DashDot");

        $(line_style_select).append(line_style_option_solid, line_style_option_dash, line_style_option_dot, line_style_option_long_dash, line_style_option_dash_dot);

        $(line_style_div).append(line_style_label, line_style_select);

        return line_style_div;
    },

    /** makes and returns div with icons that let user choose line or bar type for that series **/
    makeSeriesTypeDiv: function makeSeriesTypeDiv(chart, all_chart_options, i) {
        var series_type_div = document.createElement("div");
        series_type_div.className = "series_type_div";
        series_type_div.id = "series_type_div_" + i;

        //label
        var series_type_label = document.createElement("label");
        series_type_label.className = "series_type_label";
        series_type_label.textContent = "Type: ";

        //column icon
        var series_type_column = document.createElement("div");
        $(series_type_column).addClass("series_type_icon series_type_column").attr("type", "column").attr("title", "Column");
        if (chart.series[i].type === "column") {
            $(series_type_column).addClass("selected");
        }

        //line icon
        var series_type_line = document.createElement("div");
        $(series_type_line).addClass("series_type_icon series_type_line").attr("type", "line").attr("title", "Line");
        if (chart.series[i].type === "line") {
            $(series_type_line).addClass("selected");
        }

        //scatter icon
        var series_type_scatter = document.createElement("div");
        $(series_type_scatter).addClass("series_type_icon series_type_scatter").attr("type", "scatter").attr("title", "Just markers");

        var clear_div = utils_main.makeClearFloatDiv();

        //put it together
        $(series_type_div).append(series_type_label, series_type_line, series_type_column, series_type_scatter, clear_div);

        return series_type_div;
    },

    /** makes and returns a div with a checkbox that lets user determine whether the series should be visible by default **/

    makeSeriesVisibleDiv: function makeSeriesVisibleDiv(all_chart_options, i) {
        var series_visible_div = document.createElement("div");
        series_visible_div.className = "series_visible_div";

        var series_visible_label = document.createElement("label");
        series_visible_label.className = "series_visible_label";
        series_visible_label.textContent = "Visible by default: ";
        series_visible_label.setAttribute("for", "series_visible_checkbox_" + i);

        var series_visible_checkbox = document.createElement("input");
        series_visible_checkbox.setAttribute("type", "checkbox");
        series_visible_checkbox.checked = all_chart_options.series[i].visible ? "checked" : null;
        series_visible_checkbox.id = "series_visible_checkbox_" + i;

        series_visible_checkbox.className = "series_visible_checkbox";

        series_visible_div.appendChild(series_visible_label);
        series_visible_div.appendChild(series_visible_checkbox);

        return series_visible_div;
    },

    /** makes and returns a div that has options to add extra data to a series for its tooltip **/

    makeSeriesExtraDataDiv: function makeSeriesExtraDataDiv(all_chart_options, i, j) {
        var j = j || 0;

        var series_extra_data_div = document.createElement("div");
        $(series_extra_data_div).addClass("series_extra_data_div");

        //make title box and label
        var series_extra_data_title_label = document.createElement("label");
        $(series_extra_data_title_label).addClass("series_extra_data_title_label").text("Extra data title for tooltip: ");

        //title text area
        var series_extra_data_title_textarea = document.createElement("textarea");

        series_extra_data_title_textarea.style = "height: 30px";
        series_extra_data_title_textarea.className = "series_extra_data_title_textarea";
        series_extra_data_title_textarea.id = "series_extra_data_title_textarea_" + i;
        series_extra_data_title_textarea.value = all_chart_options.series[i].extra_data ? all_chart_options.series[i].extra_data[j].name : "";

        //make values box and label
        var series_extra_data_values_label = document.createElement("label");
        series_extra_data_values_label.className = "series_extra_data_values_label";
        series_extra_data_values_label.textContent = "Extra data values for tooltip: ";

        //values text area
        var series_extra_data_values_textarea = document.createElement("textarea");
        series_extra_data_values_textarea.className = "series_extra_data_values_textarea";
        series_extra_data_values_textarea.id = "series_extra_data_values_textarea_" + i;
        series_extra_data_values_textarea.value = all_chart_options.series[i].extra_data ? all_chart_options.series[i].extra_data[j].values.join("\n") : ""; ///need to make this LOPP THROUGH EACH EXTRA DATA IN ARRAY

        //notes
        var extra_data_notes = document.createElement("p");

        $(extra_data_notes).addClass("notes").text("For each point in a series, separate the extra value with a new line. Any formatting will be carried over, so if you want commas or a dollar sign in your value, make sure to include that here.");

        //add button
        var add_extra_data_button = document.createElement("div");
        $(add_extra_data_button).addClass("series_add_extra_data_button").text("+").css({
            cursor: "pointer",
            float: "left",
            "font-size": "190%",
            color: "#337ab7",
            "line-height": ".9"
        });

        //subtract button
        var subtract_extra_data_button = document.createElement("div");
        $(subtract_extra_data_button).addClass("series_subtract_extra_data_button").html("&minus;").css({
            cursor: "pointer",
            float: "left",
            marginLeft: "10px",
            "font-size": "190%",
            color: "#337ab7",
            "line-height": ".9",
            display: "none"
        });

        //clearfloat div
        var clear_div = utils_main.makeClearFloatDiv();

        //horizontal rule
        var extra_data_hr = document.createElement("hr");
        extra_data_hr.style = "margin-bottom: 0px;";

        //put it all together

        $(series_extra_data_div).append(extra_data_hr, series_extra_data_title_label, series_extra_data_title_textarea, series_extra_data_values_label, series_extra_data_values_textarea, extra_data_notes, add_extra_data_button, subtract_extra_data_button, clear_div);

        return series_extra_data_div;
    },

    /** populates #display_series_options with options for each series. Called when its side nav tab is selected from navigation_setup. **/
    populateForm: function populateForm(chart, all_chart_options) {

        var display_series_options_inner_div = $("#display_series_options_inner_div");
        display_series_options_inner_div.empty();

        $(chart.series).each(function (i, series) {

            //make series name header
            var series_name = document.createElement('h5');
            series_name.textContent = this.name;

            //make series color input
            var series_color_div = update_individual_series.makeSeriesColorDiv(chart, all_chart_options, i);

            //make outer snippet p tag
            var series_snippet = document.createElement('p');
            series_snippet.className = "series_snippet";

            series_snippet.appendChild(series_name);
            series_snippet.appendChild(series_color_div);

            //make series type div if applicable
            if (["line", "column"].indexOf(all_chart_options.chart.type) > -1) {
                var series_type_div = update_individual_series.makeSeriesTypeDiv(chart, all_chart_options, i);
                series_snippet.appendChild(series_type_div);
            }

            //make line style div
            var line_style_div = update_individual_series.makeLineStyleDiv(i);
            series_snippet.appendChild(line_style_div);

            //make "is series visible on startup?" div
            var series_visible_div = update_individual_series.makeSeriesVisibleDiv(all_chart_options, i);
            series_snippet.appendChild(series_visible_div);

            //make extra data div text area (default of 1, but can be more if series already has extra_data)
            if (series.extra_data) {
                $.each(series.extra_data, function (j) {
                    var series_extra_data_div = update_individual_series.makeSeriesExtraDataDiv(all_chart_options, i, j);
                    series_snippet.appendChild(series_extra_data_div);
                });
            } else {
                var series_extra_data_div = update_individual_series.makeSeriesExtraDataDiv(all_chart_options, i);
                series_snippet.appendChild(series_extra_data_div);
            }

            //append all
            $(display_series_options_inner_div).append(series_snippet);

            if (all_chart_options.chart.type === "line") {
                $(".line_style_div").show();
            }
        });

        //bind series type changes
        update_individual_series.seriesTypeIconChange(chart, all_chart_options);

        //bind line style changes
        update_individual_series.lineStyleSelectChange(chart, all_chart_options);

        //bind is visible by default changes
        update_individual_series.seriesVisibleChange(chart, all_chart_options);

        //bind extra data changes
        update_individual_series.seriesExtraDataChange(chart, all_chart_options);
    }

};

module.exports = update_individual_series;

},{"../keyboard_inputs.js":53,"../utils/utils_forms.js":67,"../utils/utils_main.js":68}],23:[function(require,module,exports){
"use strict";

/** when legend options are changed in the side area 
@namespace
*/

var update_legend = {

    /** decide if the legend should be reverse order **/
    updateIsReversed: function updateIsReversed(val, chart, all_chart_options) {

        var legend = chart.legend;
        legend.options.reversed = val;
        legend.render();

        all_chart_options.legend.reversed = val;
    },

    /** updates legend item width - usefull for making legends with lots of items look more aligned */
    updateItemWidth: function updateItemWidth(newItemWidth, chart, all_chart_options) {

        var legend = chart.legend;
        legend.options.itemWidth = newItemWidth;
        legend.render(false);

        all_chart_options.legend.itemWidth = newItemWidth;
    },

    /** if 'no legend' is selected, hide the legend, and set options, else, show it with the correct layout */
    updateLayout: function updateLayout(val, chart, all_chart_options) {

        var legend = chart.legend;
        if (val === "no_legend") {
            legend.group.hide();
            legend.box.hide();
            legend.display = false;
            legend.options.enabled = false;
            legend.render(false);

            val = undefined;
        } else {

            legend.options.layout = val;
            legend.render(false);
            legend.group.show();
            legend.box.show();
            legend.display = true;
            legend.options.enabled = true;
        }

        all_chart_options.legend.layout = val;
        all_chart_options.legend.enabled = legend.options.enabled;
    },

    /** set if when one legend item is clicked, the others hide */
    updateToggle: function updateToggle(toggle_enabled, chart, all_chart_options) {

        //update all_chart_options
        if (toggle_enabled) {

            var legendItemClick = function legendItemClick(event) {
                var selected = this.index;
                var allSeries = this.chart.series;
                $.each(allSeries, function (index, series) {
                    selected == index ? series.show() : series.hide();
                });
                return false;
            };
        } else {
            var legendItemClick = function legendItemClick(event) {};
        }

        if (!chart) {
            return legendItemClick;
        } else {
            all_chart_options.plotOptions.series.events.legendItemClick = legendItemClick;
        }

        //update in current chart
        $(chart.series).each(function (i) {
            var is_visible = i > 0 && toggle_enabled === true ? false : true;

            this.update({
                visible: is_visible,
                events: {
                    legendItemClick: all_chart_options.plotOptions.series.events.legendItemClick
                }
            });

            all_chart_options.series[i].visible = is_visible;
        });
    },

    /** update X and Y positions on legend */

    updateXYpositions: function updateXYpositions(newX, newY, chart, all_chart_options) {
        var legend = chart.legend;
        legend.options.x = newX;
        legend.options.y = newY;
        legend.render(false);

        all_chart_options.legend.x = newX;
        all_chart_options.legend.y = newY;
    }

};

module.exports = update_legend;

},{}],24:[function(require,module,exports){
"use strict";

var utils_main = require("../utils/utils_main.js");

/**
functions for the individual series tab for maps. Called ad populates from navigation_setup. Lets user fine adjust ranges and colors
@namespace
**/
var update_map_individual_series = {

    /** makes a color box, called from populateForm **/
    makeMapColorDiv: function makeMapColorDiv(chart, all_chart_options, all_map_options, color, i) {

        var map_color_div = document.createElement("div");
        map_color_div.className = "map_color_div";

        //make color input box
        var map_color_input = document.createElement('input');
        $(map_color_input).addClass("jscolor {valueElement:null}");
        map_color_input.id = "map_color_input" + i;

        //init with color, using jscolor.js
        var picker = new jscolor(map_color_input, {
            onFineChange: function onFineChange() {
                update_map_individual_series.updateMapColor(chart, all_chart_options, all_map_options, i, this);
            }

        });

        //create picker
        if (color.charAt(0) === "#") {
            //if hex
            picker.fromString(color);
        } else {
            //else color is rgb
            var rgb = utils_main.rgb2arr(color);
            picker.fromRGB(rgb[0], rgb[1], rgb[2]);
        }

        map_color_div.appendChild(map_color_input);

        return map_color_div;
    },

    /** makes the range value input boxes **/
    makeMapRangeInput: function makeMapRangeInput(all_map_options, i) {
        var map_ranges_div = document.createElement("div");

        var range = document.createElement("input");
        range.className = "map_range_input";

        var range_text = document.createElement("span");

        if (i === 0) {
            range_text.innerHTML = "&nbsp; next value and lower";
        } else if (i === all_map_options.colors.length - 1) {
            range.value = all_map_options.value_ranges[i - 1] || "";
            range_text.textContent = " and higher";
            map_ranges_div.appendChild(range);
        } else {
            range.value = all_map_options.value_ranges[i - 1] || "";
            range_text.textContent = " to..";
            map_ranges_div.appendChild(range);
        }

        map_ranges_div.appendChild(range_text);

        return map_ranges_div;
    },

    /** main function that loads the individual series area with color and range boxes **/
    populateForm: function populateForm(chart, all_chart_options, all_map_options) {

        var $display_series_options_inner_div = $("#display_series_options_inner_div");
        $display_series_options_inner_div.empty();

        $.each(all_map_options.colors, function (i) {

            var map_color_box = update_map_individual_series.makeMapColorDiv(chart, all_chart_options, all_map_options, this, i);

            var map_range_input = update_map_individual_series.makeMapRangeInput(all_map_options, i);

            $display_series_options_inner_div.append(map_color_box);
            $display_series_options_inner_div.append(map_range_input);

            //make clear float div
            var clear_div = utils_main.makeClearFloatDiv();
            $display_series_options_inner_div.append(clear_div);
        });

        $("#display_series_options_inner_div").show();
        update_map_individual_series.updateMapRange(chart, all_chart_options, all_map_options); //binds value input boxes
    },

    /** when range color boxes are changed, this is fired to change the colors in the map **/
    updateMapColor: function updateMapColor(chart, all_chart_options, all_map_options, i, jscolor) {
        var map_init = require("../initializers/maps/map_init.js");

        all_map_options.colors[i] = typeof jscolor === "string" ? jscolor : jscolor.toRGBString();
        map_init.loadNewMap(chart, all_chart_options, all_map_options, false); // false to not repopulate form
    },

    /** when custom value range input boxes are changed, this is fired **/
    updateMapRange: function updateMapRange(chart, all_chart_options, all_map_options) {
        var map_init = require("../initializers/maps/map_init.js");

        $(".map_range_input").keyup(function () {
            map_init.loadNewMap(chart, all_chart_options, all_map_options, false); //false for don't repopulate form
        });
    }

};

module.exports = update_map_individual_series;

},{"../initializers/maps/map_init.js":48,"../utils/utils_main.js":68}],25:[function(require,module,exports){
"use strict";

var map_colors_init = require("../initializers/maps/map_colors_init.js");
var map_init = require("../initializers/maps/map_init.js");

/**
Relates to the map color palettes. functions called from all_form_updates
@namespace
**/

var update_map_palettes = {

    /** when plus and minus buttons ("#add_map_color) are clicked, this is triggered **/
    changeAmount: function changeAmount(button) {

        $("#display_series_options_inner_div").empty(); //emptys the individual choices area so colors are redone.

        if (!button.hasClass("off")) {

            var mod = button.attr("id").replace("_map_color", "") == "add" ? 1 : -1;

            var new_palette_num = $(".map_color_palette_row.selected .map_color_palette_cell").length + mod;
            map_colors_init.loadMapColorPalettes(new_palette_num);

            $("#add_map_color, #minus_map_color").removeClass("off");
            if (new_palette_num > 6) {
                $("#add_map_color").addClass("off");
            } else if (new_palette_num < 3) {
                $("#minus_map_color").addClass("off");
            }
        }
    }

};

module.exports = update_map_palettes;

},{"../initializers/maps/map_colors_init.js":46,"../initializers/maps/map_init.js":48}],26:[function(require,module,exports){
"use strict";

/** when template are changed in the side area, these methods are called 
@namespace
*/
var update_template = {

    /** change the chart's RenderTo ID (the div ID that the chart is loaded into)  **/
    changeID: function changeID(new_ID, all_chart_options, all_map_options) {

        new_ID = $.trim(new_ID).replace(/^[^a-zA-Z_]+/g, "");
        if (!all_chart_options || all_map_options) {
            return new_ID;
        } else {
            all_chart_options.chart.renderTo = new_ID;
        }
    },

    /** change the chart height and witdh **/
    resize: function resize(val, dimension, chart, all_chart_options) {
        val = Number(val);
        if (!isNaN(val)) {
            $(".chart_display_area, .map_display_area").css(dimension, val + "px");
        }

        if (all_chart_options.chart.type !== "map") {
            chart.reflow();
            $("#chart_credits_text_textarea").trigger("input"); //fix credits loacation
        }
    },

    /** change the chart's inner margins **/
    margin: function margin(margins_arr, chart, all_chart_options) {

        $.each(chart.axes, function (i, e) {
            e.isDirty = true; //to tell axes to refresh
        });
        chart.margin = margins_arr;
        chart.redraw(false);

        all_chart_options.chart.margin = margins_arr;
    }
};

module.exports = update_template;

},{}],27:[function(require,module,exports){
"use strict";

var utils_main = require("../utils/utils_main.js");
var utils_forms = require("../utils/utils_forms");

/** when tooltip options are changed in the side area, these methods are called 
@namespace
*/
var update_tooltip = {

    /** gets a tooltip for bubble charts. Called from updateToolTip **/
    getBubbleTooltip: function getBubbleTooltip(chart, y_decimals, x_decimals, z_decimals, y_signs_arr, x_signs_arr, z_signs_arr, multiplier, chart_type, z_title, all_chart_options) {

        all_chart_options.tooltip.formatter = function () {
            var y_axis_title = this.series.yAxis.axisTitle ? this.series.yAxis.axisTitle.textStr : "Y-Axis";
            var x_axis_title = this.series.xAxis.axisTitle ? this.series.xAxis.axisTitle.textStr : "X-Axis";

            var s = "<b>" + this.series.name + "</b><br>" + y_axis_title + ": <b>" + y_signs_arr[0] + $(this.y * multiplier).addCommas(y_decimals) + y_signs_arr[1] + "</b><br/>" + x_axis_title + ": <b>" + x_signs_arr[0] + $(this.x * multiplier).addCommas(x_decimals) + x_signs_arr[1] + "</b><br/>" + z_title + ": <b>" + z_signs_arr[0] + $(this.point.z * multiplier).addCommas(z_decimals) + z_signs_arr[1] + "</b>";

            all_chart_options.series[this.series.index] ? s = all_chart_options.tooltip.addExtraData(all_chart_options.series[this.series.index].extra_data, this.point, s) : s = s;

            return s.replace(/\$-/g, "-$");
        };
    },

    /** gets a tooltip for drilldown charts. Called from updateToolTip**/
    getDrilldownTooltip: function getDrilldownTooltip(chart, y_decimals, y_signs_arr, multiplier, chart_type, all_chart_options) {

        all_chart_options.tooltip.formatter = function () {

            var y_val = y_signs_arr[0] + $(this.y * multiplier).addCommas(y_decimals) + y_signs_arr[1];

            var s = "<b>" + this.series.name + "</b><br>" + this.key + ": " + y_val;

            this.point.drilldown ? s = s + "<br>(Click to drill down)" : s = s;

            return s.replace(/\$-/g, "-$");
        };
    },

    /** gets a tooltip for scatter charts. Called from updateToolTip**/
    getScatterTooltip: function getScatterTooltip(chart, y_decimals, x_decimals, y_signs_arr, x_signs_arr, multiplier, chart_type, all_chart_options) {

        all_chart_options.tooltip.formatter = function () {
            var y_axis_title = this.series.yAxis.axisTitle ? this.series.yAxis.axisTitle.textStr : "Y-Axis";
            var x_axis_title = this.series.xAxis.axisTitle ? this.series.xAxis.axisTitle.textStr : "X-Axis";

            var s = "<b>" + this.series.name + "</b><br>" + y_axis_title + ": <b>" + y_signs_arr[0] + $(this.y * multiplier).addCommas(y_decimals) + y_signs_arr[1] + "</b><br>" + x_axis_title + ": <b>" + x_signs_arr[0] + $(this.x * multiplier).addCommas(x_decimals) + x_signs_arr[1] + "</b>";

            //add extra data//
            all_chart_options.series[this.series.index] ? s = all_chart_options.tooltip.addExtraData(all_chart_options.series[this.series.index].extra_data, this.point, s) : s = s;

            return s.replace(/\$-/g, "-$");
        };
    },

    /** gets a tooltip for typical charts (line, area, bar etc). Called from updateToolTip**/
    getTypicalTooltip: function getTypicalTooltip(chart, is_shared, y_decimals, y_signs_arr, multiplier, chart_type, all_chart_options) {

        if (is_shared) {
            //SHARED TOOLTIP

            all_chart_options.tooltip.shared = true;
            chart.tooltip.shared = true;

            all_chart_options.tooltip.formatter = function () {

                var shared_tooltip_arr = ["<b>" + this.x + "</b>"];

                $.each(this.points, function (i) {

                    var y_val = this.point.high ? " High: " + y_signs_arr[0] + $(this.point.high * multiplier).addCommas(y_decimals) + y_signs_arr[1] + " | Low: " + y_signs_arr[0] + $(this.point.low * multiplier).addCommas(y_decimals) + y_signs_arr[1] : y_signs_arr[0] + $(this.point.y * multiplier).addCommas(y_decimals) + y_signs_arr[1];

                    var s = this.series.name + ": " + y_val;

                    all_chart_options.series[i].extra_data ? s = all_chart_options.tooltip.addExtraData(all_chart_options.series[i].extra_data, this.point, s) : s = s;

                    var s = this.series.name + ": " + y_val;

                    shared_tooltip_arr.push(s);
                });

                return shared_tooltip_arr.join('<br/>').replace(/\$-/g, "-$");
            };
        } else {
            //NOT SHARED TOOLTIP

            all_chart_options.tooltip.formatter = function () {

                var y_val = this.point.high ? "High: " + y_signs_arr[0] + $(this.point.high * multiplier).addCommas(y_decimals) + y_signs_arr[1] + " | Low: " + y_signs_arr[0] + $(this.point.low * multiplier).addCommas(y_decimals) + y_signs_arr[1] : y_signs_arr[0] + $(this.y * multiplier).addCommas(y_decimals) + y_signs_arr[1];

                var s = "<b>" + this.series.name + "</b><br>" + this.x + ": " + y_val;

                all_chart_options.series[this.series.index] ? s = all_chart_options.tooltip.addExtraData(all_chart_options.series[this.series.index].extra_data, this.point, s) : s = s;
                return s.replace(/\$-/g, "-$");
            };
        }
    },

    /** update tooltip - decide which kind of chart and call that get tooltip function **/
    updateToolTip: function updateToolTip(chart, all_chart_options) {

        //default to single point tooltip
        all_chart_options.tooltip.shared = false;
        chart.tooltip.shared = false;

        //extra data function
        all_chart_options.tooltip.addExtraData = function (extra_data, point, s) {

            if (extra_data && extra_data[0].name) {

                $.each(extra_data, function (i) {
                    if (extra_data[i].values[point.index]) {
                        s = s + "<br>  " + extra_data[i].name + ": " + extra_data[i].values[point.index];
                    }
                });
            }
            return s;
        };

        var is_shared = utils_forms.getCheckBoxValue($("#chart_tooltip_shared_checkbox")),
            chart_type = $("#chart_type_icons .selected").divVal(),


        //y value decimals
        y_decimals = Number($("#chart_tooltip_force_decimals_select").val()),

        //x value decimals
        x_decimals = Number($("#chart_tooltip_force_decimals_x_select").val()),

        //z value decimals
        z_decimals = Number($("#chart_tooltip_force_decimals_z_select").val()),


        //y value signs
        y_signs = $("#chart_tooltip_signs_select").val(),
            y_signs_arr = [y_signs === "$" ? "$" : "", y_signs === "%" ? "%" : ""],

        //x value signs
        x_signs = $("#chart_tooltip_signs_x_select").val(),
            x_signs_arr = [x_signs === "$" ? "$" : "", x_signs === "%" ? "%" : ""],

        //z value signs
        z_signs = $("#chart_tooltip_signs_z_select").val(),
            z_signs_arr = [z_signs === "$" ? "$" : "", z_signs === "%" ? "%" : ""],
            multiplier = Number($("#chart_tooltip_y_multiple_select").val()),


        //bubble size title
        z_title = $("#chart_z_title_text_input").val() === "" ? "Z" : $("#chart_z_title_text_input").val();

        //IF A TYPICAL CHART
        if (["area", "line", "bar", "stacked_bar", "column", "stacked_column", "arearange", "columnrange"].indexOf(chart_type) > -1) {
            update_tooltip.getTypicalTooltip(chart, is_shared, y_decimals, y_signs_arr, multiplier, chart_type, all_chart_options);
        }

        //IF A DRILLDOWN CHART
        else if (chart_type === "drilldown") {
                update_tooltip.getDrilldownTooltip(chart, y_decimals, y_signs_arr, multiplier, chart_type, all_chart_options);
            }

            //IF A SCATTER CHART
            else if (chart_type === "scatter") {
                    update_tooltip.getScatterTooltip(chart, y_decimals, x_decimals, y_signs_arr, x_signs_arr, multiplier, chart_type, all_chart_options);
                }

                //IF A BUBBLE CHART
                else if (chart_type === "bubble") {
                        update_tooltip.getBubbleTooltip(chart, y_decimals, x_decimals, z_decimals, y_signs_arr, x_signs_arr, z_signs_arr, multiplier, chart_type, z_title, all_chart_options);
                    }

        if (!chart) {
            //for use in tooltip_init
            return all_chart_options.tooltip;
        }

        chart.tooltip.options.formatter = all_chart_options.tooltip.formatter;
        //these are looped through in utils.deepStringify from write_code to replace variable names with their values
        update_tooltip.replacement_obj = {
            y_decimals: y_decimals,
            x_decimals: x_decimals,
            z_decimals: z_decimals,
            multiplier: multiplier,
            y_signs_arr: y_signs_arr,
            x_signs_arr: x_signs_arr,
            z_signs_arr: z_signs_arr,
            z_title: z_title
        };

        //  all_chart_options.tooltip.formatter = utils_main.stringifyFormatter(all_chart_options.tooltip.formatter, update_tooltip.replacement_obj);
    }

};

module.exports = update_tooltip;

},{"../utils/utils_forms":67,"../utils/utils_main.js":68}],28:[function(require,module,exports){
"use strict";

var utils_main = require("../utils/utils_main.js");

/** when X-axis options are changed in the side area, these methods are called 
@namespace
*/

var update_x_axis = {

    /** update x-axis formatter **/
    /** update format when dollar / percent signs select is changed TODO!*/
    updateFormatter: function updateFormatter(only_numbers, add_commas, chart, all_chart_options) {

        var newXFormat = undefined;

        if (only_numbers) {
            newXFormat = function newXFormat() {
                return this.value.replace(/[^0-9\.\-]+/g, ''); //hide non-numbers if show only years box is checked//
            };
        }

        if (add_commas) {
            newXFormat = function newXFormat() {
                return $(Number(this.value)).addCommas(); //hide non-numbers if show only years box is checked//
            };
        }

        if (!chart) {
            // called when this is used in y_axis_init
            return newXFormat;
        }

        chart.xAxis[0].update({
            labels: {
                formatter: newXFormat
            }
        });

        all_chart_options.xAxis.labels.formatter = newXFormat;
    },

    /** update x-axis max */
    updateMax: function updateMax(newMax, chart, all_chart_options) {
        newMax = utils_main.checkForUndefined(newMax);
        if (!chart) {
            // called when this is used in x_axis_init
            return newMax;
        }

        chart.xAxis[0].update({
            max: newMax
        });

        all_chart_options.xAxis.max = newMax;
    },

    /** update y-axis min */
    updateMin: function updateMin(newMin, chart, all_chart_options) {
        newMin = utils_main.checkForUndefined(newMin);
        if (!chart) {
            // called when this is used in x_axis_init
            return newMin;
        }

        chart.xAxis[0].update({
            min: newMin
        });

        all_chart_options.xAxis.min = newMin;
    },

    /**makes x-axis MLR or standard style **/
    toggleMLRStyle: function toggleMLRStyle(is_checked, chart, all_chart_options) {

        //if using MLR styles
        if (is_checked) {
            all_chart_options.xAxis.tickPosition = "inside";
            all_chart_options.xAxis.tickColor = "#000";
        } else {
            //using standard styles
            all_chart_options.xAxis.tickPosition = "outside";
            all_chart_options.xAxis.tickColor = "#C0D0E0";
        }

        chart.xAxis[0].update({
            tickPosition: all_chart_options.xAxis.tickPosition,
            tickColor: all_chart_options.xAxis.tickColor
        });
    },

    /** update the x-axis title **/
    updateTitle: function updateTitle(new_title, chart, all_chart_options) {
        chart.xAxis[0].setTitle({
            text: new_title
        });

        all_chart_options.xAxis.title.text = new_title;
    },

    /** update the x-axis title indent (bar charts only) **/
    updateTitleIndent: function updateTitleIndent(new_indent, chart, all_chart_options) {
        chart.xAxis[0].setTitle({
            x: new_indent
        });

        all_chart_options.xAxis.title.x = new_indent;
    },

    /** update x axis tickmark interval **/
    updateTickmarkInterval: function updateTickmarkInterval(newInterval, chart, all_chart_options) {

        if (isNaN(newInterval) || newInterval === 0) {
            newInterval = undefined;
        };

        if (!chart) {
            // called when this is used in x_axis_init
            return newInterval;
        }

        if (newInterval > chart.xAxis[0].dataMax) {
            newInterval = chart.xAxis[0].dataMax;
        }

        chart.xAxis[0].update({
            tickInterval: newInterval
        });
        all_chart_options.xAxis.tickInterval = newInterval;
    }

};

module.exports = update_x_axis;

},{"../utils/utils_main.js":68}],29:[function(require,module,exports){
'use strict';

var utils_main = require("../utils/utils_main.js");

/** when Y-axis options are changed in the side area, these methods are called 
@namespace
*/
var update_y_axis = {

    /**makes y-axis MLR or standard style **/
    toggleMLRStyle: function toggleMLRStyle(is_checked, chart, all_chart_options) {

        //if using MLR styles
        if (is_checked) {
            all_chart_options.yAxis.tickWidth = 0;
            all_chart_options.yAxis.gridLineDashStyle = 'Solid';
        } else {
            //using standard styles
            all_chart_options.yAxis.tickWidth = 1;
            all_chart_options.yAxis.gridLineDashStyle = 'Dot';
        }

        chart.yAxis[0].update({
            tickWidth: all_chart_options.yAxis.tickWidth,
            gridLineDashStyle: all_chart_options.yAxis.gridLineDashStyle
        });
    },

    /** update format when dollar / percent signs select is changed */
    updateFormatter: function updateFormatter(sign, y_axis_decimals, dividend, chart, all_chart_options) {

        var y_axis_signs_arr = [sign === "$" ? "$" : "", sign === "%" ? "%" : ""];

        if (y_axis_decimals !== "null") {
            //if decimals are not null  

            var newYFormat = function newYFormat() {
                var s = Highcharts.numberFormat(this.value / dividend, y_axis_decimals, ".", ",");
                return y_axis_signs_arr[0] + s.replace(/\$-/g, "-$") + y_axis_signs_arr[1];
            };
        } else {
            //if decimals are null
            var newYFormat = function newYFormat() {
                var s = this.value / dividend == parseInt(this.value / dividend) ? Highcharts.numberFormat(this.value / dividend, 0, ".", ",") : Highcharts.numberFormat(this.value / dividend, 1, ".", ",");
                return y_axis_signs_arr[0] + s.replace(/\$-/g, "-$") + y_axis_signs_arr[1];
            };
        }

        if (!chart) {
            // called when this is used in y_axis_init
            return newYFormat;
        }

        chart.yAxis[0].update({
            labels: {
                formatter: newYFormat
            }
        });

        update_y_axis.replacement_obj = {
            y_axis_decimals: y_axis_decimals,
            dividend: dividend,
            y_axis_signs_arr: y_axis_signs_arr
        };

        all_chart_options.yAxis.labels.formatter = newYFormat;
    },

    /** update if y-axis is log */
    updateIsLog: function updateIsLog(val, chart, all_chart_options) {

        var type = val === true ? "logarithmic" : "linear";
        if (!chart) {
            // called when this is used in y_axis_init
            return type;
        }

        chart.yAxis[0].update({
            type: type
        });
        all_chart_options.yAxis.type = type;
    },

    /** update if y axis labels are on opposite side */
    updateIsOpposite: function updateIsOpposite(val, chart, all_chart_options) {
        chart.yAxis[0].update({
            opposite: val
        });
        all_chart_options.yAxis.opposite = val;

        //update y axis title position
        $("#chart_y_axis_x_position_input").val($("#chart_y_axis_x_position_input").val() * -1).keyup();
    },

    /** update y-axis max */
    updateMax: function updateMax(newMax, chart, all_chart_options) {
        newMax = utils_main.checkForUndefined(newMax);
        if (!chart) {
            // called when this is used in y_axis_init
            return newMax;
        }

        chart.yAxis[0].update({
            max: newMax
        });

        all_chart_options.yAxis.max = newMax;
    },

    /** update y-axis min */
    updateMin: function updateMin(newMin, chart, all_chart_options) {
        newMin = utils_main.checkForUndefined(newMin);
        if (!chart) {
            // called when this is used in y_axis_init
            return newMin;
        }

        chart.yAxis[0].update({
            min: newMin
        });

        all_chart_options.yAxis.min = newMin;
    },

    /** update the y axis title */
    updateTitle: function updateTitle(newTitle, chart, all_chart_options) {
        chart.yAxis[0].setTitle({
            text: newTitle
        });

        all_chart_options.yAxis.title.text = newTitle;
    },

    /** update y axis x-position (title.x) */
    updateXPosition: function updateXPosition(newXPosition, chart, all_chart_options) {

        newXPosition = utils_main.checkForUndefined(newXPosition);

        chart.yAxis[0].setTitle({
            x: newXPosition
        });

        all_chart_options.yAxis.title.x = newXPosition;
    },

    /** update y axis tickmark interval */
    updateTickmarkInterval: function updateTickmarkInterval(newInterval, chart, all_chart_options) {

        newInterval = utils_main.checkForUndefined(newInterval);

        if (!chart) {
            // called when this is used in y_axis_init
            return newInterval;
        }

        if (newInterval > chart.yAxis[0].dataMax) {
            newInterval = chart.yAxis[0].dataMax;
        }

        chart.yAxis[0].update({
            tickInterval: newInterval

        });
        all_chart_options.yAxis.tickInterval = newInterval;
    }

};

module.exports = update_y_axis;

},{"../utils/utils_main.js":68}],30:[function(require,module,exports){
"use strict";

var AllChartOptions = require("../../constructors/charts/all_chart_options.js"),
    chartInit = require("./chart_init.js"),
    colorsInit = require("./colors_init.js"),
    creditsInit = require("./credits_init.js"),
    exportingInit = require("./exporting_init.js"),
    legendInit = require("./legend_init.js"),
    plotOptionsInit = require("./plot_options_init.js"),
    seriesInit = require("./series_init.js"),
    subtitleInit = require("./subtitle_init.js"),
    titleInit = require("./title_init.js"),
    tooltipInit = require("./tooltip_init.js"),
    xAxisInit = require("./x_axis_init.js"),
    yAxisInit = require("./y_axis_init.js"),
    parseTableInput = require("../../parsers/parse_table_input.js"),
    utils_forms = require("../../utils/utils_forms.js");

/** create and return an instance of all_chart_options 
@module
**/
var allChartOptionsInit = function allChartOptionsInit(chart_type) {

    if (chart_type === "map") {
        chart_type = "line"; //create an initial line chart just to load the options, even if map is selected (will be clicked later in app.js)
    }

    var load_series_from = $("#table_input_load_series_from_icons .selected").divVal();
    var legend_toggle_enabled = utils_forms.getCheckBoxValue($("#legend_make_toggle_checkbox"));
    var input = $("#table_input_textarea").val();
    var colors = colorsInit();

    var parsed_table_output = parseTableInput(input, load_series_from, chart_type, legend_toggle_enabled, colors);

    //get options from individual inits
    var options = {
        chart: chartInit(chart_type),
        credits: creditsInit(),
        colors: colors,
        // exporting: exportingInit(),
        legend: legendInit(),
        plotOptions: plotOptionsInit(legend_toggle_enabled),
        series: parsed_table_output.series, //removed seriesInit(parsed_table_output.series)
        drilldown: parsed_table_output.drilldown || {},
        subtitle: subtitleInit(),
        title: titleInit(parsed_table_output.title_text),
        tooltip: tooltipInit(),
        xAxis: xAxisInit(parsed_table_output.x_axis_categories, chart_type),
        yAxis: yAxisInit(chart_type)

    };

    var all_chart_options = new AllChartOptions(options);
    return all_chart_options;
};

module.exports = allChartOptionsInit;

},{"../../constructors/charts/all_chart_options.js":3,"../../parsers/parse_table_input.js":62,"../../utils/utils_forms.js":67,"./chart_init.js":32,"./colors_init.js":33,"./credits_init.js":34,"./exporting_init.js":35,"./legend_init.js":36,"./plot_options_init.js":37,"./series_init.js":38,"./subtitle_init.js":39,"./title_init.js":40,"./tooltip_init.js":41,"./x_axis_init.js":42,"./y_axis_init.js":43}],31:[function(require,module,exports){
"use strict";

/** Has functions for setting up a chart animation (buttons, slider, etc)
@namespace
**/

var chart_animation_init = {

    /** Creates and returns a div containing a slider and play and pause buttons to animated the map  **/
    getAnimationDiv: function getAnimationDiv() {

        //outer div
        var chart_animation_div = document.createElement("div");
        chart_animation_div.style = "position: absolute; top: 28px; margin-left: 20px; z-index: 500; margin-bottom: -6px; -webkit-user-select: none;";

        //play button
        var play_button = document.createElement("div");
        play_button.style = "float: left; margin-right: 10px; color: #337ab7; font-size: 24px; cursor: pointer; position: relative; top: 4px;";
        play_button.innerHTML = "";
        play_button.className = "chart_play_button";

        //slider
        var chart_slider = document.createElement("input");
        chart_slider.setAttribute("type", "range");
        chart_slider.setAttribute("min", "0");
        chart_slider.setAttribute("max", "20");
        chart_slider.setAttribute("value", "0");
        chart_slider.style = "float: left; margin-right: 10px; color: #337ab7; font-size: 18px; cursor: pointer; width: 350px; position: relative; top: 12px;";
        chart_slider.className = "chart_slider";

        //animation title (i.e. date shown)
        var animation_title = document.createElement("h3");
        animation_title.textContent = "test";
        animation_title.style = "margin: 0px; font-family: sans-serif; font-weight: 200; color: #337ab7; font-size: 18px; position: relative; top: 8px; float: left;";
        animation_title.className = "animation_title";

        //put it all together in the div
        chart_animation_div.appendChild(play_button);

        chart_animation_div.appendChild(chart_slider);
        chart_animation_div.appendChild(animation_title);

        return chart_animation_div;
    }

};

module.exports = chart_animation_init;

},{}],32:[function(require,module,exports){
"use strict";

var ChartOptions = require("../../constructors/charts/chart.js");
var update_template = require("../../form_updates/update_template.js");

/** Initializer for "chart" options section of all_chart_options. Creates and returns a new instance 
@module
*/
var chartInit = function chartInit(chart_type) {

    if (chart_type === "drilldown") {
        chart_type = "column";
    }

    //load options from user inputs
    var options = {
        margin: [Number($("#top_margin_textinput").val()), Number($("#right_margin_textinput").val()), Number($("#bottom_margin_textinput").val()), Number($("#left_margin_textinput").val())],
        renderTo: update_template.changeID($("#chart_id_textinput").val()),
        type: chart_type,
        events: {
            load: function load() {
                this.credits.element.onclick = function () {
                    window.open('http://www.bls.gov', '_blank');
                };
            }
        }
    };

    var chart_options = new ChartOptions(options);
    return chart_options;
};

module.exports = chartInit;

},{"../../constructors/charts/chart.js":4,"../../form_updates/update_template.js":26}],33:[function(require,module,exports){
"use strict";

/** Initializer for "colors" options section of all_chart_options. Creates and returns a new instance 
@module
*/
var colorsInit = function colorsInit() {
    var color_arr = [];
    $("#color_palettes .selected .color_palette_cell").each(function () {
        color_arr.push($(this).css("background-color"));
    });

    if (color_arr.length < 1) {
        color_arr = ['#7cb5ec', '#434348', '#90ed7d', '#f7a35c', '#8085e9', '#f15c80', '#e4d354', '#2b908f', '#f45b5b', '#91e8e1', '#2f7ed8', '#0d233a', '#8bbc21', '#910000', '#1aadce', '#492970', '#f28f43', '#77a1e5', '#c42525', '#a6c96a'];
    }

    return color_arr;
};

module.exports = colorsInit;

},{}],34:[function(require,module,exports){
"use strict";

var Credits = require("../../constructors/charts/credits.js");

/** Initializer for "credits" options section of all_chart_options. Creates and returns a new instance 
@module
*/
var creditsInit = function creditsInit() {

    var credits_text = $("#chart_credits_text_textarea").val().replace(/\n/g, "<br>");
    /** calculate vertical y position of credits, depending on how many lines it has 
    @param text {string} the credits text, originally from #chart_credits_text_textarea
    */
    var calculateCreditsPosition = function calculateCreditsPosition(text) {
        var new_y_pos = text.split("<br>").length * -11;
        return new_y_pos;
    };

    //load options from user inputs
    var options = {
        text: credits_text,
        position: {
            y: calculateCreditsPosition(credits_text)
        }
    };

    var credits = new Credits(options);
    return credits;
};

module.exports = creditsInit;

},{"../../constructors/charts/credits.js":5}],35:[function(require,module,exports){
"use strict";

var Exporting = require("../../constructors/charts/exporting.js");

/** Initializer for "exporting" options section of all_chart_options. Creates and returns a new instance 
@module
*/
var exportingInit = function exportingInit() {

    //load options from user inputs
    var options = {};

    var exporting = new Exporting(options);
    return exporting;
};

module.exports = exportingInit;

},{"../../constructors/charts/exporting.js":6}],36:[function(require,module,exports){
"use strict";

var Legend = require("../../constructors/charts/legend.js");
var utils_forms = require("../../utils/utils_forms.js");
var utils_main = require("../../utils/utils_main.js");

/** Initializer for "legend" options section of all_chart_options. Creates and returns a new instance 
@module
*/
var legendInit = function legendInit() {

    var getLegendLayout = function getLegendLayout() {
        var legend_layout_val = $("#legend_layout_select").val();
        return legend_layout_val !== "no_legend" ? legend_layout_val : undefined;
    };

    //load options from user inputs
    var options = {
        layout: getLegendLayout(),
        x: Number($("#legend_placement_x").val()),
        y: Number($("#legend_placement_y").val()),
        reversed: utils_forms.getCheckBoxValue($("#legend_reverse_layout_checkbox")),
        itemWidth: utils_main.checkForUndefined($("#legend_item_width_input").val())

    };

    var legend = new Legend(options);
    return legend;
};

module.exports = legendInit;

},{"../../constructors/charts/legend.js":7,"../../utils/utils_forms.js":67,"../../utils/utils_main.js":68}],37:[function(require,module,exports){
"use strict";

var PlotOptions = require("../../constructors/charts/plot_options.js");
var update_legend = require("../../form_updates/update_legend.js");
var utils_forms = require("../../utils/utils_forms.js");

/** Initializer for "plotOptions" options section of all_chart_options. Creates and returns a new instance 
@module
*/
var plotOptionsInit = function plotOptionsInit(legend_toggle_enabled) {

    //load options from user inputs
    var options = {
        series: {
            events: {
                // when one legend item is clicked, the others hide
                legendItemClick: update_legend.updateToggle(legend_toggle_enabled)
            },

            dataLabels: {
                enabled: utils_forms.getCheckBoxValue($("#chart_show_data_labels_checkbox"))
            },

            lineWidth: 1.5,
            marker: {
                enabled: false,
                states: {
                    hover: {
                        enabled: true,
                        radius: 5
                    }
                }
            },
            states: {
                hover: {
                    lineWidth: 4
                }
            }

        }

    };

    /* unique chart options (choosing to keep these with every chart so I don't have to reload them with individual series when chart types are updated) */

    //bar or column options
    options.series.groupPadding = $("#group_padding_input").getValNumber() || 0.2;
    options.series.pointPadding = $("#point_padding_input").getValNumber() || 0.1;
    options.series.pointPlacement = null;
    options.series.stacking = null;
    options.series.minPointLength = 2;

    //just for bubble charts
    options.series.maxSize = 90;
    options.series.minSize = 4;
    options.series.sizeBy = 'width'; //instead of 'area', seems more accurate

    var plotOptions = new PlotOptions(options);
    return plotOptions;
};

module.exports = plotOptionsInit;

},{"../../constructors/charts/plot_options.js":8,"../../form_updates/update_legend.js":23,"../../utils/utils_forms.js":67}],38:[function(require,module,exports){
"use strict";

var Series = require("../../constructors/charts/series.js");

/** Initializer for "series" options section of all_chart_options. Creates and returns a new instance 
@module
*/
var seriesInit = function seriesInit(series) {

    //load options from user inputs
    var options = series;

    var series = new Series(options);

    console.log(series);
    return series.series;
};

module.exports = seriesInit;

},{"../../constructors/charts/series.js":9}],39:[function(require,module,exports){
"use strict";

var Subtitle = require("../../constructors/charts/subtitle.js");

/** Initializer for "subtitle" options section of all_chart_options. Creates and returns a new instance
@module
*/

var subtitleInit = function subtitleInit() {

    //load options from user inputs
    var options = {
        text: $("#chart_subtitle_textarea").val()
    };

    var subtitle = new Subtitle(options);
    return subtitle;
};

module.exports = subtitleInit;

},{"../../constructors/charts/subtitle.js":10}],40:[function(require,module,exports){
"use strict";

var Title = require("../../constructors/charts/title.js");

/** Initializer for "title" options section of all_chart_options. Creates and returns a new instance 
@module
*/
var titleInit = function titleInit(title_text) {

    //load options from user inputs
    var options = {
        text: title_text
    };

    var title = new Title(options);
    return title;
};

module.exports = titleInit;

},{"../../constructors/charts/title.js":11}],41:[function(require,module,exports){
"use strict";

var Tooltip = require("../../constructors/charts/tooltip.js");
var utils_forms = require("../../utils/utils_forms.js");

/** Initializer for "tooltip" options section of all_chart_options. Creates and returns a new instance 
@module
*/
var tooltipInit = function tooltipInit() {

    //load options from user inputs
    var options = {

        formatter: undefined ///formatter is created with update_tooltip as a callback (needs chart to exist first)

    };

    var tooltip = new Tooltip(options);
    return tooltip;
};

module.exports = tooltipInit;

},{"../../constructors/charts/tooltip.js":12,"../../utils/utils_forms.js":67}],42:[function(require,module,exports){
"use strict";

var update_x_axis = require("../../form_updates/update_x_axis.js");
var XAxis = require("../../constructors/charts/x_axis.js");
var utils_forms = require("../../utils/utils_forms.js");

/** Initializer for "xAxis" options section of all_chart_options. Creates and returns a new instance 
@module
*/
var xAxisInit = function xAxisInit(categories, chart_type) {

    //load options from user inputs
    var options = {

        categories: categories || undefined,

        labels: {
            formatter: update_x_axis.updateFormatter(utils_forms.getCheckBoxValue($("#chart_x_axis_show_only_years")))
        },

        max: update_x_axis.updateMax(Number($("#chart_x_axis_max_input").val())),
        min: update_x_axis.updateMin(Number($("#chart_x_axis_min_input").val())),

        plotLines: [{
            "value": 0,
            "color": "#c0c0c0",
            "dashStyle": "solid",
            "width": chart_type === "scatter" || chart_type === "bubble" ? 1 : 0
        }],
        title: {
            align: chart_type === "bar" || chart_type === "stacked_bar" ? "high" : "middle",
            text: $("#chart_x_axis_title_textarea").val(),
            x: chart_type === "bar" || chart_type === "stacked_bar" ? Number($("#chart_x_axis_x_position_input").val()) : 0
        },
        tickInterval: update_x_axis.updateTickmarkInterval(Number($("#chart_x_axis_tickmark_interval_input").val())),
        type: "linear"

    };

    var xAxis = new XAxis(options);
    return xAxis;
};

module.exports = xAxisInit;

},{"../../constructors/charts/x_axis.js":13,"../../form_updates/update_x_axis.js":28,"../../utils/utils_forms.js":67}],43:[function(require,module,exports){
"use strict";

var utils_main = require("../../utils/utils_main.js");
var YAxis = require("../../constructors/charts/y_axis.js");
var update_y_axis = require("../../form_updates/update_y_axis.js");
var utils_forms = require("../../utils/utils_forms.js");

/** Initializer for "yAxis" options section of all_chart_options. Creates and returns a new instance 
@module
*/
var yAxisInit = function yAxisInit(chart_type) {

    /** load options from user inputs */
    var options = {

        labels: {
            formatter: undefined //fomatter is made on call back in all_form_updates.js
        },

        max: update_y_axis.updateMax(Number($("#chart_y_axis_max_input").val())),
        min: update_y_axis.updateMin(Number($("#chart_y_axis_min_input").val())),
        type: update_y_axis.updateIsLog(utils_forms.getCheckBoxValue($("#chart_y_axis_log_checkbox"))),
        opposite: utils_forms.getCheckBoxValue($("#chart_y_axis_opposite_checkbox")),
        tickInterval: update_y_axis.updateTickmarkInterval(Number($("#chart_y_axis_tickmark_interval_input").val())),

        title: {
            text: $("#chart_y_axis_title_textarea").val(),
            align: chart_type === "bar" ? "middle" : "high",
            x: chart_type === "bar" || chart_type === "stacked_bar" ? 0 : Number($("#chart_y_axis_x_position_input").val()),
            y: chart_type === "bar" || chart_type === "stacked_bar" ? 8 : -20
        }

    };

    var yAxis = new YAxis(options);
    return yAxis;
};

module.exports = yAxisInit;

},{"../../constructors/charts/y_axis.js":14,"../../form_updates/update_y_axis.js":29,"../../utils/utils_forms.js":67,"../../utils/utils_main.js":68}],44:[function(require,module,exports){
"use strict";

/** Called from map_init.convertMapOptionsToSVG if user selected animated map. 
@module
**/

var map_animation_init = {

    /** Creates and returns a div containing a slider and play and pause buttons to animated the map  **/
    getAnimationDiv: function getAnimationDiv(all_map_options) {

        //outer div
        var map_animation_div = document.createElement("div");
        $(map_animation_div).css({
            position: "relative",
            "margin-left": "20px",
            "z-index": "500",
            "margin-bottom": "-6px",
            "-webkit-user-select": "none"
        });

        //play button
        var play_button = document.createElement("div");
        $(play_button).css({
            float: "left",
            "margin-right": "10px",
            color: "#337ab7",
            "font-size": "32px",
            cursor: "pointer",
            position: "relative",
            top: "-6px"
        }).html("").addClass("map_play_button");

        //step backward button
        var step_backward_button = document.createElement("div");
        $(step_backward_button).css({
            float: "left",
            "margin-right": "10px",
            color: "#337ab7",
            "font-size": "26px",
            cursor: "pointer",
            position: "relative",
            top: "-5px"
        }).html("&lt").addClass("map_step_backward_button");

        //step forward button
        var step_forward_button = document.createElement("div");
        $(step_forward_button).css({
            float: "left",
            "margin-right": "10px",
            "margin-left": "-2px",
            color: "#337ab7",
            "font-size": "26px",
            cursor: "pointer",
            position: "relative",
            top: "-5px"
        }).html("&gt").addClass("map_step_forward_button");

        //slider
        var map_slider = document.createElement("input");
        $(map_slider).attr({
            "type": "range",
            "min": "0",
            "max": all_map_options.animated_value_titles.length - 1,
            "value": "0"
        }).css({
            float: "left",
            "margin-right": "10px",
            color: "#337ab7",
            "font-size": "26px",
            cursor: "pointer",
            width: all_map_options.sized_for_spotlight ? "310px" : "400px",
            position: "relative",
            top: "10px"
        }).addClass("map_slider");

        //animation title (i.e. date shown)
        var animation_title = document.createElement("span");
        $(animation_title).text(all_map_options.animated_value_titles[0]).css({
            margin: "0px",
            "font-family": "sans-serif",
            "font-weight": "200",
            color: "#337ab7",
            "font-size": "24px",
            position: "relative",
            top: "5px",
            float: "left"
        }).addClass("animation_title");

        //put it all together in the div
        $(map_animation_div).append(play_button, step_backward_button, step_forward_button, map_slider, animation_title);

        //adjust legend placement
        //        $("#legend_placement_y").val(70);
        //        all_map_options.legend.y = 70;

        return map_animation_div;
    },

    /** sets up the play, pause, and slider functionality in animated maps **/
    setUpMapAnimation: function setUpMapAnimation(all_map_options, map_display_area) {

        //when slider changes, change the values displayed in the map and the animation title
        $(".map_slider", map_display_area).on("input", function () {
            var slider_val = $(this).val();

            //update animated title
            $(".animation_title", map_display_area).text(all_map_options.animated_value_titles[slider_val]);

            //reasign map values
            $("path[loc_name], circle[loc_name]", map_display_area).each(function () {
                var $this = $(this);
                var this_animated_vals = $this.attr("animated_vals");
                var new_val = this_animated_vals ? this_animated_vals.split(";")[slider_val] : "N/A";

                $this.attr("loc_value", new_val);

                var new_fill = ""; //new color to be assigned
                //then recolor
                if (new_val === null || new_val === "N/A") {
                    new_fill = "rgb(223, 223, 223)";
                }

                if (new_val <= all_map_options.value_ranges[0]) {
                    new_fill = all_map_options.colors[0];
                }

                for (var i = 0; i < all_map_options.value_ranges.length; i++) {
                    //for length of value_ranges array, assign colors
                    if (new_val > all_map_options.value_ranges[i]) {
                        new_fill = all_map_options.colors[i + 1];
                    }
                }

                //if a circle, resize and give opacity

                if ($this.attr("r") && all_map_options.map_type !== "state") {

                    var this_area = new_val ? Math.abs(new_val) / all_map_options.circle_size_multiple || 0 : 0;
                    $this.attr("r", Math.sqrt(this_area / Math.PI));

                    $this.attr("fill", new_fill.replace(')', ', 0.75)').replace('rgb', 'rgba'));
                } else {
                    //for paths, no resize or opacity
                    $this.attr("fill", new_fill);
                }
            }); // end path / circle loop
        });

        var playing; //becomes playing function that moves slider value to the right

        //move the slider a step in a direction. if at max, make 0
        var moveSlider = function moveSlider(num) {
            var $map_slider = $(".map_slider", map_display_area);

            $map_slider.val($map_slider.val() === $map_slider.attr("max") ? 0 : Number($map_slider.val()) + num).trigger("input");
        };

        //play function, run when play button is clicked
        var playMap = function playMap(map_display_area) {
            //assign (and start) playing interval to playing var
            playing = setInterval(function (map_display_area) {
                //increase slider value by one unless at max. If at max, make 0
                moveSlider(1);
            }, all_map_options.animation_delay);
        };

        //pause function, run when pause button is clicked
        var pauseMap = function pauseMap() {
            clearInterval(playing);
        };

        //style buttons
        $(".map_play_button, .map_step_backward_button, .map_step_forward_button", map_display_area).hover(function () {
            $(this).css("color", "#b73438"); //red
        }, function () {
            $(this).css("color", "#337ab7"); //blue
        });

        //play / pause button click
        $(".map_play_button", map_display_area).click(function () {
            var $this = $(this);

            $this.toggleClass("playing");

            if ($this.hasClass("playing")) {
                //if user clicked it to play, start animation, and show pause button
                $this.html("&nbsp;||");

                playMap(map_display_area);
            } else {
                //if user click it to pause, show play button and stop animation
                $this.html("");

                pauseMap(map_display_area);
            }
        });

        //step forward button click
        $(".map_step_forward_button", map_display_area).click(function () {
            moveSlider(1);
        });

        //step back button click
        $(".map_step_backward_button", map_display_area).click(function () {
            moveSlider(-1);
        });
    }

};

module.exports = map_animation_init;

},{}],45:[function(require,module,exports){
"use strict";

var utils_main = require("../../utils/utils_main.js");

/** Given an array of map circles, this sorts them by value and decides what radius they should have 
@module
**/

var map_circle_sizes_init = {

    /** Given an array of map circles, this sorts them by value and decides what radius they should have  **/
    getCircleSizes: function getCircleSizes(all_map_options) {

        var circle_values_arr = utils_main.valueSort(all_map_options.areas);
        //get multiple and adjust for big numbers
        all_map_options.circle_size_multiple = $("#map_circle_size_range").val();
        if (circle_values_arr[circle_values_arr.length - 1] > 100) {
            all_map_options.circle_size_multiple = all_map_options.circle_size_multiple * .05;
        }

        //assign R value to each circle area

        $(all_map_options.areas).each(function () {

            var this_area = this.value ? Math.abs(this.value) || 1 : 0;
            this.r = Math.sqrt(this_area / Math.PI) * all_map_options.circle_size_multiple;
        });

        map_circle_sizes_init.sortCircles(all_map_options.areas);
    },

    /** sorts circles so that smaller ones will appear on top in the map **/
    sortCircles: function sortCircles(areas) {
        areas.sort(function (a, b) {

            //if no radius (ie a path, make order a high number so it gets stacked near the bottom)
            a.order = a.r ? a.r : 100000000000;
            b.order = b.r ? b.r : 100000000000;

            return b.order - a.order;
        });
    }

};

module.exports = map_circle_sizes_init;

},{"../../utils/utils_main.js":68}],46:[function(require,module,exports){
"use strict";

var utils_main = require("../../utils/utils_main.js");
var utils_forms = require("../../utils/utils_forms.js");
/** Given an array of map areas, this sorts them by value and decides which colors they should have 
@module
**/

var map_colors_init = {

    cached_map_options: {},

    /** colors existing svg paths - used when chart is updated  **/
    colorPaths: function colorPaths(all_map_options) {

        $.each(all_map_options.areas, function () {

            $('.map_display_area path[loc_name="' + this.loc_name + '"], .map_display_area circle[loc_name="' + this.loc_name + '"]').attr("fill", this.color);
        });
    },

    /** assigns colors to all_map_options.areas depending on where their values are on a range**/
    getBoundaryMapColors: function getBoundaryMapColors(all_map_options, colors) {

        all_map_options = all_map_options || map_colors_init.cached_map_options; //used cached if all_map_options not passed

        //get all values in order
        var values_arr = utils_main.valueSort(all_map_options.areas);

        //divide values into ranges
        var value_ranges = []; //to be used to color areas

        //use custom input if available
        if ($(".map_range_input").length > 0) {
            //grab from custom if available

            $.each($(".map_range_input"), function () {
                value_ranges.push(Number($(this).val()));
            });
        } else {
            //else calculate

            var fraction = 1 / all_map_options.ranges_amount;
            for (var i = fraction; i < 1; i = i + fraction) {
                value_ranges.push(values_arr[Math.floor(values_arr.length * i)]);
            }
        }

        //set new cached array
        map_colors_init.cached_value_ranges = value_ranges;

        //add color property to each obj in map_objs depending on its value
        $.each(all_map_options.areas, function () {
            if (this.value === null || this.value === "N/A") {
                this.color = "rgb(223, 223, 223)"; //gray
            } else {
                    //not N/A

                    if (this.value <= value_ranges[0]) {
                        this.color = colors[0];
                    }

                    for (i = 0; i < value_ranges.length; i++) {
                        //for length of value_ranges array, assign colors
                        if (this.value > value_ranges[i]) {
                            this.color = colors[i + 1];
                        }
                    }
                }
        });

        map_colors_init.cached_map_options = all_map_options;

        all_map_options.value_ranges = value_ranges;
        all_map_options.colors = colors;
        return all_map_options;
    },

    /** make and return an array of colors from a color palette **/
    newColorArray: function newColorArray(color_palette) {
        var selected_colors = [];

        if ($(".map_color_div .jscolor").length > 0) {
            //grab from custom if available

            $.each($(".map_color_div .jscolor"), function () {
                selected_colors.push($(this).css("background-color"));
            });
        } else {
            $.each($(".map_color_palette_cell", color_palette), function () {
                selected_colors.push($(this).css("background-color"));
            });
        }

        return selected_colors;
    },

    /** load map color palette boxes into #map_color_palettes **/
    loadMapColorPalettes: function loadMapColorPalettes(val) {

        var selected_index = utils_forms.getSelectedIndex($(".map_color_palette_row")); //get current selected index to click later
        var allFormUpdates = require("../../form_updates/all_form_updates.js");

        var val = val || 4;
        $("#map_color_palettes").load("./components/map_color_palettes_" + val + ".htm", function () {
            allFormUpdates.colorPaletteRowClick(); // reinits the click functionality

            $(".map_color_palette_row:eq(" + selected_index + ")").click(); //click a color to initiialize a new map

            if (val > 2) {
                $("#minus_map_color").attr("class", "on"); //turn minus button on
            }

            if (val < 6) {
                $("#add_map_color").attr("class", "on"); //turn plus button on
            }
        });
    }
};

module.exports = map_colors_init;

},{"../../form_updates/all_form_updates.js":16,"../../utils/utils_forms.js":67,"../../utils/utils_main.js":68}],47:[function(require,module,exports){
"use strict";

/** 
functions for map credits
@module
*/

var map_credits_init = {

    /**Gets credits from a text input element and returns it **/
    mapCreditsInit: function mapCreditsInit(input) {
        var map_credits = {
            text: input.val().replace(/\n/g, "<br>"),
            style: "color: #000; font-family: sans-serif; font-weight: normal; font-size: 12px; padding: 10px; margin-bottom: -5px; position: absolute; bottom: 0px; z-index: 500"
        };
        return map_credits;
    },

    /** creates and returns a styled map div credits with text **/
    getMapCredits: function getMapCredits(credits) {
        var map_credits = document.createElement("div");
        map_credits.innerHTML = credits.text;
        map_credits.setAttribute("style", credits.style);

        return map_credits;
    }
};

module.exports = map_credits_init;

},{}],48:[function(require,module,exports){
"use strict";

var utils_forms = require("../../utils/utils_forms.js");
var parseForMap = require("../../parsers/parse_for_map.js");
var map_animation_init = require("./map_animation_init.js");
var map_colors_init = require("./map_colors_init.js");
var map_title_init = require("./map_title_init.js");
var map_subtitle_init = require("./map_subtitle_init.js");
var map_tooltip_init = require("./map_tooltip_init.js");
var map_legend_init = require("./map_legend_init");
var map_credits_init = require("./map_credits_init.js");
var map_circle_sizes_init = require("./map_circle_sizes_init.js");
var update_map_individual_series = require("../../form_updates/update_map_individual_series.js");
var update_template = require("../../form_updates/update_template.js");
var areas_colored_report = require("../../utils/areas_colored_report.js");

/** 
Map initialization object
@namespace
**/

var map_init = {

    /** creates / sets all map options, the main object that the map svg is made from **/
    createAllMapOptions: function createAllMapOptions(all_map_options, areas, map_type) {

        //setup empty all_map_options
        all_map_options = {
            render_ID: update_template.changeID($("#chart_id_textinput").val(), null, all_map_options),
            title: {},
            subtitle: {},
            colors: [],
            circle_size_multiple: 1,
            is_animated: utils_forms.getCheckBoxValue($("#map_animated_checkbox")),
            animation_delay: Number($("#map_animation_speed_range").val()),
            legend: {
                enabled: utils_forms.getCheckBoxValue($("#map_legend_enabled_checkbox")),
                reversed: utils_forms.getCheckBoxValue($("#legend_reverse_layout_checkbox")),
                x: Number($("#legend_placement_x").val()),
                y: Number($("#legend_placement_y").val())
            },
            map_type: map_type,
            viewbox: "",
            sized_for_spotlight: $("#map_spotlight_size_checkbox").is(":checked"),
            ranges_amount: $(".map_color_palette_row.selected .map_color_palette_cell").length,
            value_ranges: [],
            credits: {},
            tooltip: {
                dollar_sign: "",
                percent_sign: "",
                decimals: "",
                na_text: ""
            },
            extra_value_titles: [],
            animated_value_titles: [],
            areas: areas

        };

        //   console.log(all_map_options);

        //set viewbox
        switch (map_type) {
            case "county":
                all_map_options.viewbox = "95 -10 380 380";
                break;
            case "state":
                all_map_options.viewbox = "180 0 620 620";
                break;
            case "metro_area":
                all_map_options.viewbox = "45 0 670 510";
                break;
        }

        var table_input = $("#table_input_textarea").val();

        //set title
        all_map_options.title = map_title_init.mapTitleInit(table_input);

        //set subtitle
        all_map_options.subtitle = map_subtitle_init.mapSubtitleInit($("#chart_subtitle_textarea"));

        //set credits
        all_map_options.credits = map_credits_init.mapCreditsInit($("#chart_credits_text_textarea"));

        //set tooltip format
        map_tooltip_init.formatMapToolTip(all_map_options);

        //assign values to all_map_options.areas based on table input

        parseForMap(all_map_options, table_input);

        var colors = map_colors_init.newColorArray($(".map_color_palette_row.selected")); //gets array of colors depending on what is selected
        map_colors_init.getBoundaryMapColors(all_map_options, colors); //mods all_map_options.areas to include fill colors depending on values

        //get circle sizes for circle type maps
        if (map_type === "metro_area") {
            map_circle_sizes_init.getCircleSizes(all_map_options); //decides what radius map circle elements will have, depending on their value
        }

        return all_map_options;
    },

    /** converts all_map_options (actually an array of objects by now after the .get() auto conversion) to svg and puts it on page **/
    convertMapOptionsToSVG: function convertMapOptionsToSVG(all_map_options) {
        var map_display_area = $("#" + all_map_options.render_ID + ".map_display_area");

        //  var map_display_area = $(".map_display_area");
        map_display_area.empty();

        var map_outer_div = map_init.getMapOuterDiv(all_map_options); //creates and returns outer map div

        var map_outer_svg = map_init.getMapOuterSVG(all_map_options); //creates and returns empty map svg tag
        map_init.populateSVGAreas(all_map_options, map_outer_svg); //colorizes paths, sets circle attributes, appends g elements to svg

        var map_title = map_title_init.getMapTitle(all_map_options.title); //creates and returns a styled map h2 title with text
        var map_subtitle = map_subtitle_init.getMapSubtitle(all_map_options.subtitle); //creates and returns a styled map h3 title with text
        var map_credits = map_credits_init.getMapCredits(all_map_options.credits); //creates and returns a styled map div credits with text

        var tooltip_div = map_tooltip_init.getMapTooltip(); //creates and returns an empty tooltip div template

        //put elements together
        $(map_outer_div).append(tooltip_div, map_title, map_subtitle); //tooltip

        // if it's animated, make and add the slider
        if (all_map_options.is_animated) {
            var map_animation_div = map_animation_init.getAnimationDiv(all_map_options);
            map_outer_div.appendChild(map_animation_div);
        }

        var map_legend = all_map_options.legend.enabled ? map_legend_init.getMapLegend(all_map_options) : undefined; //creates and returns a styled map div legend with color boxes and text

        //put more together
        $(map_outer_div).append(map_outer_svg, map_legend, map_credits);

        map_display_area.append($(map_outer_div)); //put map on page

        //reverse legend if needed
        if (all_map_options.legend.reversed) {
            var map_legend_div = $(".map_legend_div");
            $(map_legend_div).children().each(function (i, div) {
                map_legend_div.prepend(div);
            });
        }

        return map_display_area;
    },

    /** creates and returns an empty map outer div. This will hold the map svg, tooltip box, legend, title, etc. **/

    getMapOuterDiv: function getMapOuterDiv(all_map_options) {

        var div = document.createElement("div");

        $(div).css({
            position: "relative",
            width: all_map_options.sized_for_spotlight ? "595px" : "695px",
            "min-height": all_map_options.sized_for_spotlight ? "530px" : "590px",
            "text-align": "left",
            margin: "auto",
            "background-color": "#FFFFFF"
        }).addClass("map_outer_div");

        return div;
    },

    /** creates and returns an empty map svg element **/
    getMapOuterSVG: function getMapOuterSVG(all_map_options) {

        var svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        $(svg).css({
            "z-index": "400",
            position: "relative",
            left: "13px",
            top: "-9px",
            "background-color": "#fff",
            "height": all_map_options.sized_for_spotlight ? "382px" : "450px",
            "width": all_map_options.sized_for_spotlight ? "578px" : "680px"

        }).addClass("map_svg");

        svg.setAttribute("viewBox", all_map_options.viewbox);

        return svg;
    },

    /** Initial Function (called from map icon click) - calls functions to loads the map json, convert it to svg, loads options and displays map in .map_display_area **/
    loadNewMap: function loadNewMap(chart, all_chart_options, all_map_options, repopulate_form) {

        $(".map_play_button.playing").click(); //if animated map is playing, stop it - prevents errors

        var navigation_setup = require("../../navigation_setup.js");

        var map_type = $("#map_type_select").val();

        var filename = "json/maps/" + map_type + "_map.json";

        $.get(filename, function (areas) {

            var all_map_options = map_init.createAllMapOptions(all_map_options, areas, map_type);

            //give .map_display_area the chosen ID
            $(".map_display_area").attr("id", all_map_options.render_ID);

            //convert all_map_options to svg and puts it on page, returns jquery object of map div
            var map_display_area = map_init.convertMapOptionsToSVG(all_map_options);

            //adjust map_display_area size
            map_init.resizeMap(all_map_options);

            //init tooltip and highlighting
            map_init.setUpMapHover(all_map_options, map_display_area);

            //init legend hovering
            map_init.setUpMapLegendHover(map_display_area);

            //init animation functionality if applicabla
            if (all_map_options.is_animated) {
                map_animation_init.setUpMapAnimation(all_map_options, map_display_area);
            }

            //init state links to eag pages
            map_init.setUpMapStateLinks(map_display_area);

            //init individual series range setup
            if (repopulate_form === true) {
                setTimeout(function () {
                    update_map_individual_series.populateForm(chart, all_chart_options, all_map_options);
                }, 1000);
            }

            //reinit navigation get code button click so that load chart code button will work
            navigation_setup.getCodeButtonClick(all_chart_options, all_map_options);

            //generate areas colored report
            areas_colored_report.generateReport(all_map_options);
        });
    },

    /** resizes chart_display_area by changing input values and triggering keyup **/
    resizeMap: function resizeMap(all_map_options) {
        var new_width = all_map_options.sized_for_spotlight ? 615 : 710;
        var new_height = all_map_options.sized_for_spotlight ? 590 : 650;
        $("#chart_width_textinput").val(new_width).keyup();
        $("#chart_height_textinput").val(new_height).keyup();
    },

    /** populates map svg (creates paths and circles) with options from all_map_options.areas. Called from convertMapOptionsToSVG() **/

    populateSVGAreas: function populateSVGAreas(all_map_options, map_outer_svg) {

        $.each(all_map_options.areas, function () {

            var g = document.createElementNS("http://www.w3.org/2000/svg", "g");

            if (this.d) {
                //path outline

                var el = document.createElementNS("http://www.w3.org/2000/svg", "path");
                el.setAttributeNS(null, "d", this.d); //sets path outline
                el.setAttributeNS(null, "stroke", "#646464"); //set path stroke

                if (all_map_options.map_type === "metro_area") {
                    //transform smaller for metro area maps
                    el.setAttributeNS(null, "transform", "scale(0.8) translate(0, 5.471371609992666)");
                    el.setAttributeNS(null, "fill", this.color || "#E0E0E0");
                }

                if (this.loc_name) {
                    //if it's a named area, set values and color
                    el.setAttributeNS(null, "loc_value", this.value);
                    el.setAttributeNS(null, "fill", this.color || "#E0E0E0");
                    el.setAttribute("loc_name", this.loc_name);
                }

                if (this.class === "border") {
                    el.setAttributeNS(null, "fill", "none");
                    el.setAttributeNS(null, "stroke", "#A9A9A9");
                    el.setAttributeNS(null, "stroke-width", 2);
                }
            } else {
                //circle (DC or metro area)

                var el = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                el.setAttributeNS(null, "r", this.r); //radius
                el.setAttributeNS(null, "cx", this.cx); //x pos
                el.setAttributeNS(null, "cy", this.cy); //y pos
                el.setAttributeNS(null, "stroke", this.color ? "rgba(67, 67, 72, .8)" : "#337ab7"); //stroke

                if (all_map_options.map_type === "metro_area") {
                    el.setAttributeNS(null, "fill", this.color ? this.color.replace(')', ', 0.75)').replace('rgb', 'rgba') : "#337ab7"); //fill
                } else {
                        el.setAttributeNS(null, "fill", this.color ? this.color : "#337ab7"); //fill
                    }

                if (this.loc_name) {
                    //if it's a named area, set value and color
                    el.setAttributeNS(null, "loc_value", this.value);
                    el.setAttribute("loc_name", this.loc_name);
                }
            }

            if (this.style) {
                el.setAttribute("style", this.style);
            }

            el.setAttribute("class", this.class);
            this.extra_vals ? el.setAttributeNS(null, "extra_vals", this.extra_vals.join(";")) : null;
            this.animated_vals ? el.setAttributeNS(null, "animated_vals", this.animated_vals.join(";")) : null;

            if (this.id) {
                el.setAttribute("id", this.id);
            }

            g.appendChild(el);
            map_outer_svg.appendChild(g);
        });
    },

    /** sets up hover functionality for the map **/
    setUpMapHover: function setUpMapHover(all_map_options, map_display_area) {

        //other areas fade out when an area is hovered
        $("path[loc_name], circle[loc_name]", map_display_area).hover(function () {

            var $this = $(this);

            //gray out other states, highlight this one
            $("path, circle", map_display_area).attr("fill-opacity", ".05");
            $this.attr("fill-opacity", "1");

            //// populate tooltip
            var this_tooltip = $(".map_tooltip", map_display_area); //get element
            //set title
            $(".tooltip_title", this_tooltip).text($this.attr("loc_name") || "");

            //add main value to tooltip if applicable
            var this_loc_value = $this.attr("loc_value"); //get main value
            if (this_loc_value !== "null") {
                this_loc_value = Number(this_loc_value);

                var value_html = "<span style='font-size: 80%'>" + all_map_options.tooltip.dollar_sign + "</span>" + $(this_loc_value).addCommas(all_map_options.tooltip.decimals || "") + "<span style='font-size: 80%'>" + all_map_options.tooltip.percent_sign + "</span>";

                //add extra values to tooltip if applicable, and not animated

                if (!all_map_options.is_animated) {

                    var this_extra_vals = $this.attr("extra_vals"); //get extra values (if applicable)
                    if (this_extra_vals) {
                        this_extra_vals = this_extra_vals.split(";");
                        $.each(this_extra_vals, function (i) {
                            value_html = value_html + "<p style='font-size: 40%; line-height: 1.1; margin: 2px 0px 2px 0px;'><span style='color: black'>" + all_map_options.extra_value_titles[i] + ": </span>" + this_extra_vals[i] + "</p>";
                        });
                    }
                }
            } else {
                //if no loc_value
                var value_html = "<span style='font-size: 70%'>" + all_map_options.tooltip.na_text + "</span>";
            }

            //set main value
            $(".tooltip_main_value", this_tooltip).html(value_html);

            this_tooltip.show(); //show just this map's tooltip
        }, function () {
            //mouse out

            //return to all previous fill opacity
            $("path, circle", map_display_area).attr("fill-opacity", "1");

            //hide tooltip
            $(".map_tooltip").hide();
        });
    },

    /** set up hover functionality for the map legend **/
    setUpMapLegendHover: function setUpMapLegendHover(map_display_area) {
        $(".map_legend_item", map_display_area).hover(function () {
            var this_color = $(this).children(".map_legend_color").css("background-color");
            $(".map_legend_text", this).css("color", "#B73438"); //make text red

            //lower opacity on other areas (paths)
            $("path", map_display_area).each(function () {
                var this_fill = $(this).attr("fill");
                if (this_fill !== this_color) {
                    $(this).attr("fill-opacity", ".1");
                }
            });
            //lower opacity on other areas (circles)
            $("circle", map_display_area).each(function () {
                var this_fill = $(this).attr("fill");
                if (this_fill.replace(', 0.75)', ')').replace('rgba', 'rgb') !== this_color) {
                    $(this).attr("fill-opacity", ".1").attr("stroke-opacity", ".02");
                }
            });
        }, function () {

            //bring back opacity
            $("path, circle", map_display_area).each(function () {
                $(this).attr("fill-opacity", "1").attr("stroke-opacity", "1");
            });

            $(".map_legend_text", this).css("color", "#000"); //make text black
        });
    },

    /** Set up state links to eag page if applicable **/

    setUpMapStateLinks: function setUpMapStateLinks(map_display_area) {

        $("path[loc_name], circle[loc_name]", map_display_area).each(function () {
            var thisID = $(this).attr("id");
            if (thisID) {
                $(this).css("cursor", "pointer").click(function () {
                    window.open("http://www.bls.gov/eag/eag." + thisID + ".htm", '_blank');
                });
            }
        });
    }

};

module.exports = map_init;

},{"../../form_updates/update_map_individual_series.js":24,"../../form_updates/update_template.js":26,"../../navigation_setup.js":54,"../../parsers/parse_for_map.js":58,"../../utils/areas_colored_report.js":63,"../../utils/utils_forms.js":67,"./map_animation_init.js":44,"./map_circle_sizes_init.js":45,"./map_colors_init.js":46,"./map_credits_init.js":47,"./map_legend_init":49,"./map_subtitle_init.js":50,"./map_title_init.js":51,"./map_tooltip_init.js":52}],49:[function(require,module,exports){
"use strict";

/** 
                            creates and returns a styled map div legend with color boxes and text 
                            @namespace
                            **/

var map_legend_init = {

    /** creates and returns a map legend div **/
    getMapLegend: function getMapLegend(all_map_options) {

        //create outer legend box
        var map_legend_div = document.createElement("div");
        map_legend_div.setAttribute("class", "map_legend_div");
        map_legend_div.setAttribute("style", "position: absolute; top: " + (all_map_options.legend.y + 390) + "px; left: " + (all_map_options.legend.x + 261) + "px; min-width: 131px; min-height: 130px; margin: auto; z-index: 500");

        //create legend item for each color
        var dollar = all_map_options.tooltip.dollar_sign;
        var percent = all_map_options.tooltip.percent_sign;

        $.each(all_map_options.colors, function (i) {

            var map_legend_item = document.createElement("div"); //outer div for each legend item
            map_legend_item.setAttribute("class", "map_legend_item");
            map_legend_item.setAttribute("style", "min-width: 171px; min-height: 15px; margin-bottom: 7px; cursor: default;");

            var map_legend_color = document.createElement("div"); //map color box div for each legend item
            map_legend_color.setAttribute("class", "map_legend_color");

            //set round color boxes for metro type maps
            var border_radius = all_map_options.map_type === "metro_area" ? "50px" : "0px";
            map_legend_color.setAttribute("style", "width: 15px; height: 15px; background-color: " + all_map_options.colors[i] + "; float: left; border: rgb(153, 153, 153) solid .5px; border-radius: " + border_radius + "");

            var map_legend_text = document.createElement("div"); //map text div for each legend item
            map_legend_text.setAttribute("class", "map_legend_text");
            map_legend_text.setAttribute("style", "color: black; float: left; line-height: 1em; margin-left: 5px; font-size: 12px;");

            var dec = all_map_options.tooltip.decimals;

            //set mod so that numbers in legend are 1, .1, .01, or .001 off   

            //set legend text content
            if (i === 0) {
                map_legend_text.textContent = dollar + $(all_map_options.value_ranges[i]).addCommas(dec) + percent + " and lower";
            } else if (i === all_map_options.colors.length - 1) {

                map_legend_text.textContent = dollar + $(map_legend_init.valueMod(all_map_options.value_ranges[i - 1], all_map_options, dec)).addCommas(dec) + percent + " and higher";
            } else {
                map_legend_text.textContent = dollar + $(map_legend_init.valueMod(all_map_options.value_ranges[i - 1], all_map_options, dec)).addCommas(dec) + percent + " to " + dollar + $(all_map_options.value_ranges[i]).addCommas(dec) + all_map_options.tooltip.percent_sign;
            }

            map_legend_item.appendChild(map_legend_color);
            map_legend_item.appendChild(map_legend_text);
            map_legend_div.appendChild(map_legend_item);
        });

        return map_legend_div;
    },

    /** returns a mod so that numbers in legend are 1, .1, .01, or .001 off so they don't overlap **/
    valueMod: function valueMod(val, all_map_options, dec) {
        var mod = .01;

        switch (dec) {

            case "0":
                {
                    if (all_map_options.value_ranges[all_map_options.value_ranges.length - 1] > 100) {
                        mod = 1;
                    } else if (all_map_options.value_ranges[all_map_options.value_ranges.length - 1] > 10) {
                        mod = .1;
                    }
                    break;
                }
            case "1":
                {
                    mod = .1;
                    break;
                }
            case "2":
                {
                    mod = .01;
                    break;
                }
            case "3":
                {
                    mod = .001;
                    break;
                }

        }

        if (dec > 0 || mod > .01) {
            //if decimals are not set
            return val + mod;
        } else if (mod === .01) {

            return Number((val + mod).toFixed(2));
        } else if (mod === .001) {
            return Number((val + mod).toFixed(3));
        }
    }

};

module.exports = map_legend_init;

},{}],50:[function(require,module,exports){
"use strict";

/** 
functions for map subtitle
@namespace
*/

var map_subtitle_init = {

    /**Gets title from a text input element and returns it **/
    mapSubtitleInit: function mapSubtitleInit(input) {
        var map_subtitle = {
            text: $.trim(input.val()),
            style: "color: #000; font-family: sans-serif; font-weight: normal; font-size: 12px; padding: 10px; margin: 0px; "
        };
        return map_subtitle;
    },

    /** creates and returns a styled map h3 subtitle with text **/
    getMapSubtitle: function getMapSubtitle(subtitle) {
        var map_subtitle = document.createElement("h3");
        map_subtitle.textContent = subtitle.text;
        map_subtitle.setAttribute("style", subtitle.style);

        return map_subtitle;
    }
};

module.exports = map_subtitle_init;

},{}],51:[function(require,module,exports){
"use strict";

/** Gets title from a table and returns it
@module
*/

var map_title_init = {

    /** creates and returns a styled map h2 title with text **/
    getMapTitle: function getMapTitle(title) {
        var map_title = document.createElement("h2");
        map_title.textContent = title.text;
        map_title.setAttribute("style", title.style);

        return map_title;
    },

    mapTitleInit: function titleInit(table_input) {
        var map_title = {
            text: $.trim($("caption", $(table_input)).text()),
            style: "color: #000; font-family: sans-serif; font-weight: bold; font-size:14px; padding: 10px; margin-bottom: 0px; text-align: left; border-bottom: none"
        };
        return map_title;
    }
};

module.exports = map_title_init;

},{}],52:[function(require,module,exports){
"use strict";

/** Map tooltip object 
@namespace
**/

var map_tooltip_init = {

    /** creates and returns an empty tooltip div template **/
    getMapTooltip: function getMapTooltip() {

        var tooltip_div = document.createElement("div");
        tooltip_div.className = "map_tooltip";
        tooltip_div.setAttribute("style", "min-width: 200px; min-height: 60px; background-color: #FCF8E3; border: solid 1px #395463; position: absolute; left: 353px; top: 5px; z-index: 501; display: none; padding-right: 5px;");

        var tooltip_title = document.createElement("h2");
        tooltip_title.className = "tooltip_title";
        tooltip_title.setAttribute("style", "color: #000; font-family: sans-serif; font-weight: bold; font-size:16px; margin: 5px 0px 0px 5px; ");

        var tooltip_main_value = document.createElement("h4");
        tooltip_main_value.className = "tooltip_main_value";
        tooltip_main_value.setAttribute("style", "color: #395463; font-family: sans-serif; font-weight: bold; font-size:38px; margin: 0px 0px 0px 5px;");

        tooltip_div.appendChild(tooltip_title);
        tooltip_div.appendChild(tooltip_main_value);

        return tooltip_div;
    },

    /** mods all_map_options.tooltip to have a dollar sign or percent sign if that option is selected **/
    formatMapToolTip: function formatMapToolTip(all_map_options) {
        all_map_options.tooltip.dollar_sign = $("#chart_tooltip_signs_select").val() === "$" ? "$" : "";
        all_map_options.tooltip.percent_sign = $("#chart_tooltip_signs_select").val() === "%" ? "%" : "";
        all_map_options.tooltip.decimals = $("#chart_tooltip_force_decimals_select").val();
        all_map_options.tooltip.na_text = $("#map_tooltip_na_text_input").val();
    }

};

module.exports = map_tooltip_init;

},{}],53:[function(require,module,exports){
"use strict";

var update_individual_series = require("./form_updates/update_individual_series.js");

/**
 * Contains functions that deal with keyboard inputs
 * @namespace
 */
var keyboard_inputs = {

    adjValue: function adjValue(val, direction) {
        var val = Number(val);
        if (!isNaN(val)) {
            return direction === "+" ? val + 10 : val - 10;
        } else {
            return val;
        }
    },

    /** clicks the next element of a given classname than the one selected
    @param classname {string} the class name of each of the elements
    @param selected_classname {string} the name of the selected element
    **/
    clickNext: function clickNext(classname, selected_classname, prev) {
        var only_visible = classname === "tab" ? ":visible" : "";

        var next = 0;
        var len = $("." + classname + only_visible).length;

        $("." + classname + only_visible).each(function (i) {
            if ($(this).hasClass(selected_classname)) {

                next = prev ? i + prev : i + 1; //if a prev exists, go backwards
                if (next === len) {
                    //if end is reached, go to first
                    next = 0;
                }
            }
        });
        $("." + classname + only_visible + ":eq(" + next + ")").click();
    },

    /** when nothing is selected, pressing up or down changes which side nav tab is selected */
    sideNavTabShortcuts: function sideNavTabShortcuts() {
        var keys = keyboard_inputs,
            $h = $("#chart_height_textinput"),
            $w = $("#chart_width_textinput"),
            $rm = $("#right_margin_textinput"),
            $lm = $("#left_margin_textinput"),
            $tm = $("#top_margin_textinput"),
            $bm = $("#bottom_margin_textinput");

        $(document).unbind().keydown(function (e) {

            //chart resizing keys
            if (e.shiftKey && e.keyCode === 40) {
                //shift + down
                e.preventDefault();
                $h.val(keys.adjValue($h.val(), "+")).keyup();
            } else if (e.shiftKey && e.keyCode === 38) {
                //shift + up
                e.preventDefault();
                $h.val(keys.adjValue($h.val(), "-")).keyup();
            } else if (e.shiftKey && e.keyCode === 37) {
                //shift + left
                e.preventDefault();
                $w.val(keys.adjValue($w.val(), "-")).keyup();
            } else if (e.shiftKey && e.keyCode === 39) {
                //shift + right
                e.preventDefault();
                $w.val(keys.adjValue($w.val(), "+")).keyup();
            }

            //margin resizing keys (up and right margins)
            else if ((event.ctrlKey || event.metaKey) && e.keyCode === 39) {
                    //ctrl/cmd + right
                    e.preventDefault();
                    $rm.val(keys.adjValue($rm.val(), "-")).keyup();
                } else if ((event.ctrlKey || event.metaKey) && e.keyCode === 37) {
                    //ctrl/cmd + left
                    e.preventDefault();
                    $rm.val(keys.adjValue($rm.val(), "+")).keyup();
                } else if ((event.ctrlKey || event.metaKey) && e.keyCode === 38) {
                    //ctrl/cmd + up
                    e.preventDefault();
                    $tm.val(keys.adjValue($tm.val(), "-")).keyup();
                } else if ((event.ctrlKey || event.metaKey) && e.keyCode === 40) {
                    //ctrl/cmd + down
                    e.preventDefault();
                    $tm.val(keys.adjValue($tm.val(), "+")).keyup();
                }

                //margin resizing keys (bottom and left margins
                else if (event.altKey && e.keyCode === 39) {
                        //alt + right
                        e.preventDefault();
                        $lm.val(keys.adjValue($lm.val(), "+")).keyup();
                    } else if (event.altKey && e.keyCode === 37) {
                        //alt + left
                        e.preventDefault();
                        $lm.val(keys.adjValue($lm.val(), "-")).keyup();
                    } else if (event.altKey && e.keyCode === 38) {
                        //alt + up
                        e.preventDefault();
                        $bm.val(keys.adjValue($bm.val(), "+")).keyup();
                    } else if (event.altKey && e.keyCode === 40) {
                        //alt + down
                        e.preventDefault();
                        $bm.val(keys.adjValue($bm.val(), "-")).keyup();
                    }

                    //side nav up and down keys
                    else if (e.keyCode === 38) {
                            //up
                            e.preventDefault();
                            keys.clickNext("tab", "selected_tab", -1); //-1 for prev
                        } else if (e.keyCode === 40) {
                                //down
                                e.preventDefault();
                                keys.clickNext("tab", "selected_tab");
                            }

                            //chart type (cycle through)   
                            else if (e.shiftKey && e.keyCode === 67) {
                                    //shift + c
                                    e.preventDefault();
                                    keys.clickNext("chart_type_icon", "selected");
                                }

                                //data load - series names from columns / rows
                                else if (e.keyCode === 9) {
                                        //tab
                                        e.preventDefault();
                                        keys.clickNext("load_series_from_icon", "selected");
                                    }

                                    //color template (cycle through)   
                                    else if (e.keyCode === 67) {
                                            //c
                                            e.preventDefault();

                                            if ($(".map_display_area").is(":visible")) {
                                                keys.clickNext("map_color_palette_row", "selected"); //map colors
                                            } else {
                                                    keys.clickNext("color_palette_row", "selected"); //chart colors
                                                }
                                        }

                                        //side nav shortcut keys
                                        else if (e.keyCode === 83) {
                                                //s
                                                $("#tab_chart_template").click();
                                            } else if (e.keyCode === 68) {
                                                //d
                                                $("#tab_data").click();
                                            } else if (e.keyCode === 73) {
                                                //i
                                                $("#tab_series_options").click();
                                            } else if (e.keyCode === 76) {
                                                //l
                                                $("#tab_chart_legend").click();
                                            } else if (e.keyCode === 88) {
                                                //x
                                                $("#tab_chart_x_axis").click();
                                            } else if (e.keyCode === 89) {
                                                //y
                                                $("#tab_chart_y_axis").click();
                                            } else if (e.keyCode === 84) {
                                                //t
                                                $("#tab_chart_tooltip").click();
                                            } else if (e.keyCode === 78) {
                                                //n
                                                $("#tab_chart_credits").click();
                                            } else if (e.keyCode === 69) {
                                                //69
                                                $("#tab_chart_extra_options").click();
                                            }
        });
    },

    /** in number entry inputs, pressing up or down will adjust value */
    numberChange: function numberChange(e) {
        if (e.keyCode === 38) {
            //up
            $(this).val(keyboard_inputs.adjValue($(this).val(), "+"));
        } else if (e.keyCode === 40) {
            //down
            $(this).val(keyboard_inputs.adjValue($(this).val(), "-"));
        }
    },

    /** initialize listenters 
    when a number entry input is focused on, attach those event listeners
    when it leaves to main document, attach those. called from navigation_setup.InitNavWithChart()
    **/
    initListeners: function initListeners() {

        $("input, textarea").focus(function () {
            $(document).unbind();

            $(this).off("keydown"); //so it doesnt duplicate when moving from one entry to another
            $(".number_entry").on("keydown", keyboard_inputs.numberChange);
        });
        $("input, textarea").blur(function () {
            $(this).off("keydown");
            //reinit side tab nav shortcuts
            keyboard_inputs.sideNavTabShortcuts();
        });

        //unbind nav quick keys when over the code result area
        $("#main_result_code_div").hover(function () {
            $(document).unbind();
        }, function () {
            keyboard_inputs.sideNavTabShortcuts();
        });
    }

};

module.exports = keyboard_inputs;

},{"./form_updates/update_individual_series.js":22}],54:[function(require,module,exports){
"use strict";

var utils_main = require("./utils/utils_main.js");
var update_individual_series = require("./form_updates/update_individual_series.js");
var keyboard_inputs = require("./keyboard_inputs.js");
var write_code = require("./utils/write_code.js");

/** object that contains functions for all the navigation, ie changing between options and chart types 
@namespace
*/
var navigation_setup = {

    /** when tabs on left side nav bar are clicked, options displayed are changed **/
    sideNavTabsChange: function sideNavTabsChange(chart, all_chart_options) {

        $("#side_nav_tabs .tab").unbind().click(function () {
            //change selected menu tabs
            $("#side_nav_tabs .selected_tab").removeClass("selected_tab");
            $(this).addClass("selected_tab");

            //change display div showing
            var selectedID = "#" + $(this).attr("id").replace("tab", "display");
            $("#side_display .selected_display").removeClass("selected_display");
            $(selectedID).addClass("selected_display");

            //if this is "Individual Series Options", run that setup function
            if (selectedID === "#display_series_options" && all_chart_options.chart.type != "map") {
                //for charts

                update_individual_series.populateForm(chart, all_chart_options);
            }
        });
    },

    /** when chart code is hovered over, update DISABLED FOR NOW  **/
    //    chartOutputCodeFocus: function (all_chart_options, all_map_options) {
    //        $("#chart_output_code").unbind().mouseenter(function () {
    //            write_code.writeCode(all_chart_options, all_map_options);
    //        });
    //    },

    /** when clear next text area button (X) is clicked, find and clear the text of the next textarea */
    clearNextTextareaClick: function clearNextTextareaClick() {
        $(".clear_next_textarea_button").click(function () {
            $(this).next("textarea").val("");
        });
    },

    /**When a close box X is clicked, closes the containing popup div **/
    closeBoxIconClick: function closeBoxIconClick() {
        $(".close_box_icon").click(function () {
            $(this).parent().parent().slideUp(50);
            //     $(".chart_display_area, .map_display_area").toggleClass("fixed");
        });
    },

    /** when #color_palette_reverse_icon is clicked, reverse the orders of each palette */
    colorPaletteReverseIconClick: function colorPaletteReverseIconClick() {
        $("#color_palette_reverse_icon").click(function () {
            $(".color_palette_row, .map_color_palette_row").each(function () {
                var this_row = $(this);
                var color_cells = this_row.children('.color_palette_cell, .map_color_palette_cell');
                this_row.prepend(color_cells.get().reverse());
            });
            $("#color_palettes .selected, .map_color_palette_row.selected").click(); //click to change colors in chart
        });
    },

    /** when a get code button is clicked, update and show the code area. */
    getCodeButtonClick: function getCodeButtonClick(all_chart_options, all_map_options) {

        $("#get_code_button").unbind().click(function (e) {
            $(".load_chart_showing").removeClass("load_chart_showing"); //hide the load saved chart area if it's showing
            $("#load_chart_div").hide();

            var $get_code_span = $("#get_code_text");

            if ($get_code_span.text() === "Get code") {
                //show loading
                $(".glyphicon-refresh-animate").css("visibility", "visible");
                $("#main_result_code_div").slideDown(50, function () {
                    //write all_chart_options
                    $get_code_span.text("Hide code");
                    write_code.writeCode(all_chart_options, all_map_options);
                    //hide loading
                    $(".glyphicon-refresh-animate").css("visibility", "hidden");
                });
            } else {
                $("#main_result_code_div").slideUp(50);
                $get_code_span.text("Get code");
                $("#chart_output_code, #chart_html_code").val("");
            }

            $(this).toggleClass("code_on");

            //    $(".chart_display_area, .map_display_area").toggleClass("fixed"); //so chart will go down to still be visible

            //scroll to top of page
            $("html, body").animate({
                scrollTop: 0
            }, "slow");
        });
    },

    /** when a help icon is clicked */
    helpIconClick: function helpIconClick() {

        $(".help_icon").click(function () {
            $(this).toggleClass("help_on");

            $(".notes", $(this).parents(".display, #main_result_code_div, #load_chart_div, #side_nav_top, #areas_colored_report_div")).toggle();
        });
    },

    /** when show_load_chart_area_button is clicked, show that entry area **/

    loadChartButtonClick: function loadChartButtonClick(chart, all_chart_options) {
        $("#show_load_chart_area_button").unbind().click(function () {
            $("#main_result_code_div").slideUp(50, function () {
                //hide the get code area if it's showing
                $("#load_chart_div").slideToggle(50);
                $(".code_on").removeClass("code_on");
                $("#get_code_text").text("Get code");
                // $(".chart_display_area").toggleClass("fixed");
            });

            $(this).toggleClass("load_chart_showing");
        });
    },

    /** when areas of the chart are clicked, open that section **/
    chartClicks: function chartClicks() {

        //give applicable chart areas pointer mouse
        $(".highcharts-yaxis-labels text, .highcharts-xaxis-labels text, .highcharts-tooltip, .highcharts-series-group, svg>text:last-child").unbind().css("cursor", "pointer");

        //subtitle	
        //        $(".highcharts-subtitle").click(function () {
        //            console.log("sub");
        //        });

        //y axis label
        //        $(".highcharts-yaxis-title").click(function () {
        //  console.log("y title");
        //        });

        $(".highcharts-yaxis-labels").click(function () {
            $("#tab_chart_y_axis").click();
            $("#chart_y_axis_title_textarea").select();
        });

        //x axis
        //        $(".highcharts-xaxis-title").click(function () {
        //  console.log("x tit");
        //        });

        $(".highcharts-xaxis-labels").click(function () {
            $("#tab_chart_x_axis").click();
            $("#chart_x_axis_title_textarea").select();
        });

        //credits
        $("svg>text:last-child").click(function (e) {
            e.preventDefault();
            $("#tab_chart_credits").click();
            $("#chart_credits_text_textarea").select();
        });

        //tooltip
        $(".highcharts-series-group, .highcharts-tooltip").click(function () {
            if ($("#chart_type_icons .selected").divVal() !== "drilldown") {
                $("#tab_chart_tooltip").click();
            }
        });
    },

    /** Bind open code editor button **/

    openCodeEditorClick: function openCodeEditorClick() {

        $("#open_code_editor_button").click(function () {
            sessionStorage.setItem("export_code_html", $("#chart_html_code").val());
            sessionStorage.setItem("export_code_js", $("#chart_output_code").val());

            var newChartWindow = window.open("code_editor/code-editor.htm", "_blank");
        });
    },

    /** INIT ALL NAVIGATION that needs parameters, called from all_form_updates when page is loaded, and whenever a saved chart is loaded **/
    initNavWithChart: function initNavWithChart(chart, all_chart_options, all_map_options) {

        //  navigation_setup.chartOutputCodeFocus(all_chart_options, all_map_options);
        navigation_setup.getCodeButtonClick(all_chart_options, all_map_options);
        navigation_setup.loadChartButtonClick(chart, all_chart_options);
        navigation_setup.sideNavTabsChange(chart, all_chart_options);
        navigation_setup.chartClicks();

        keyboard_inputs.initListeners(chart, all_chart_options);
        keyboard_inputs.sideNavTabShortcuts(chart, all_chart_options);
    },

    /** FIRST NAVIGATION INIT, called from app.js when page is loaded. These never need to be re-initialized **/
    firstNavInit: function firstNavInit() {

        navigation_setup.closeBoxIconClick();
        navigation_setup.clearNextTextareaClick();
        navigation_setup.colorPaletteReverseIconClick();
        navigation_setup.helpIconClick();
        navigation_setup.openCodeEditorClick();
    }

};

module.exports = navigation_setup;

},{"./form_updates/update_individual_series.js":22,"./keyboard_inputs.js":53,"./utils/utils_main.js":68,"./utils/write_code.js":69}],55:[function(require,module,exports){
"use strict";

var chart_animation_init = require("../initializers/charts/chart_animation_init.js");
var utils_main = require("../utils/utils_main.js");

/** 
 * Parsing function for animated bubble charts
 * @module
 * @param input {element} input jquery table element retrieved from textarea
 * @param chart_type {string} type of chart (line, bar etc.)
 * @returns {object} Object with chart title, X-axis categories and series array of objects
 */
var parseForAnimatedBubble = function parseForAnimatedBubble(input, chart_type, colors, chart, all_chart_options) {
    var output = {}; //obj that gets returned
    output.x_axis_categories = undefined; //resets this in case there were previous categories

    //set up array of data arrays to be used in the timeline. this data[time] will replace data in the initial series array when it's animated
    all_chart_options.timeline = {};
    all_chart_options.timeline.data = [];
    all_chart_options.timeline.dates = []; //e.g. years - to be populated by each row header.
    output.series = []; //initial series array - gets a seriesObj for each series

    //reset mins and maxes (used for placing invisible min and max sized bubbles so other bubbles aren't resized when animated)
    utils_main.limits.resetMax();

    //get data for each bubble and push to and timeline.dates

    $("tbody tr", input).each(function (i, row) {
        all_chart_options.timeline.dates.push($.trim($("th:eq(0)", row).text()));

        //    get data values from each row's td cells (every third cell for xyz groups)
        all_chart_options.timeline.data.push([]);
        $("td:nth-child(3n - 1)", row).each(function (j) {
            var x = $(this).getNumber();
            var y = $(this).next().getNumber();
            var z = $(this).next().next().getNumber();

            //get min and max bubble sizes to use later for invisible bubbles.
            utils_main.limits.setMax(z);
            utils_main.limits.setMin(z);

            var xyz_arr = [x, y, z];

            all_chart_options.timeline.data[i].push(xyz_arr);
        });
    });

    //for each series name in the top row of the table header make a series with a bubble for the first row in the tbody
    $("thead tr:eq(0) th:gt(0)", input).each(function (i) {
        var series_obj = {
            name: $.trim($(this).text()),
            data: [all_chart_options.timeline.data[0][i]],
            date: all_chart_options.timeline.dates[0],
            type: chart_type,
            lineWidth: 0,
            marker: {
                enabled: true
            },
            color: colors[i],
            _symbolIndex: i
        };
        output.series.push(series_obj);
    });

    //put in the invisible placeholder series that are based on the min/max values - this way bubbles resize against a constant

    //put min and max arrays in
    for (var i = 0, len = all_chart_options.timeline.data.length; i < len; i++) {
        all_chart_options.timeline.data[i].unshift([0, 0, utils_main.limits.getMin()], [0, 0, utils_main.limits.getMax()]);
    }

    var min_size_placeholder = {
        name: "invisible min size placeholder series",
        data: [all_chart_options.timeline.data[0][0]],
        date: all_chart_options.timeline.dates[0],
        type: chart_type,
        lineWidth: 0,
        marker: {
            enabled: false
        },
        color: "none",
        showInLegend: false,
        zIndex: -1
    };

    var max_size_placeholder = $.extend({}, min_size_placeholder, {
        name: "invisible max size placeholder series",
        data: [all_chart_options.timeline.data[0][1]]
    });

    output.series.unshift(min_size_placeholder, max_size_placeholder);

    /** Creates and places a div containing a slider and play and pause buttons to animated the chart. Also set their functions  **/
    all_chart_options.timeline.animation = function () {

        //outer div//
        var chart_animation_div = document.createElement("div");
        $(chart_animation_div).css({
            position: "absolute",
            top: "33px",
            "margin-left": "20px",
            "z-index": "500",
            "margin-bottom": "-6px",
            "-webkit-user-select": "none"
        }).addClass("chart_animation_div");

        //animation title (i.e. date shown)//
        var animation_title = document.createElement("h3");

        $(animation_title).text(all_chart_options.timeline.dates[0]).css({
            margin: "0px",
            "font-family": "sans-serif",
            "font-weight": "200",
            color: "#337ab7",
            "font-size": "20px",
            position: "relative",
            top: "10px",
            float: "left"
        }).addClass("animation_title");

        //slider//
        var chart_slider = document.createElement("input");

        $(chart_slider).attr({
            type: "range",
            min: "0",
            max: all_chart_options.timeline.dates.length - 1,
            value: "0",
            class: "chart_slider"
        }).css({
            float: "left",
            "margin-right": "10px",
            color: "#337ab7",
            "font-size": "18px",
            cursor: "pointer",
            width: "350px",
            position: "relative",
            top: "15px"
        }).on("input change", function () {
            var new_time_index = this.value;

            $.each(chart.series, function (i, e) {
                e.update({
                    data: [all_chart_options.timeline.data[new_time_index][i]]
                });
            });

            animation_title.textContent = all_chart_options.timeline.dates[new_time_index];
        });

        var playing; //becomes setTimeout function playing stepForward//

        //set step forward function//
        var stepForward = function stepForward() {

            var $chart_slider = $(chart_slider);
            $chart_slider.val() === $chart_slider.attr("max") ? $chart_slider.val(0).trigger("input") : $chart_slider.val(Number($chart_slider.val()) + 1).trigger("input");
        };

        //play button//
        var play_button = document.createElement("div");

        $(play_button).css({
            float: "left",
            "margin-right": "10px",
            color: "#337ab7",
            "font-size": "24px",
            cursor: "pointer",
            position: "relative",
            top: "4px"
        }).html("").addClass("chart_play_button").click(function () {

            if ($(this).hasClass("playing")) {
                //if playing, stop//
                $(this).removeClass("playing").html("");
                clearInterval(playing);
            } else {
                //if stopped, start playing//
                playing = setInterval(function () {
                    stepForward();
                }, 500);

                $(this).addClass("playing").html("&nbsp; ||");
            }
        });

        //put it all together in the div//
        chart_animation_div.appendChild(play_button);
        chart_animation_div.appendChild(chart_slider);
        chart_animation_div.appendChild(animation_title);

        var chart_id = "#" + all_chart_options.chart.renderTo;
        setTimeout(function () {
            $(chart_id).prepend(chart_animation_div);
        }, 100);
    };
    all_chart_options.timeline.animation();

    return output;
};

module.exports = parseForAnimatedBubble;

},{"../initializers/charts/chart_animation_init.js":31,"../utils/utils_main.js":68}],56:[function(require,module,exports){
"use strict";

/** 
 * Parsing function for bubble charts
 * @module
 * @param input {element} input jquery table element retrieved from textarea
 * @param chart_type {string} type of chart (line, bar etc.)
 * @returns {object} Object with chart title, X-axis categories and series array of objects
 */
var parseForBubble = function parseForBubble(input, chart_type, colors) {
    var output = {};
    output.x_axis_categories = undefined; //resets this in case there were previous categories

    //load series names from row heads, and data from row tds
    output.series = [];
    $("tbody tr", input).each(function (i) {

        var this_row = $(this);

        var seriesObj = {
            name: $.trim($("th:eq(0)", this_row).text()),
            data: [],
            type: chart_type,
            lineWidth: 0,
            marker: {
                enabled: true
            },
            color: colors[i],
            _symbolIndex: i
        };

        //get data values from each row's td cells (every third cell for xyz groups)
        $("td:nth-child(3n - 1)", this_row).each(function (i) {
            var x = $(this).getNumber();
            var y = $(this).next().getNumber();
            var z = $(this).next().next().getNumber();
            var xyz_arr = [x, y, z];
            seriesObj.data.push(xyz_arr);
        });

        output.series.push(seriesObj);
    });

    return output;
};

module.exports = parseForBubble;

},{}],57:[function(require,module,exports){
"use strict";

//get x or z val for bubbles
var getBubbleVal = function getBubbleVal(str) {
    if (str === "x") {
        return $(this).parent().next().next().getNumber();
    }
    if (str === "z") {
        return $(this).parent().next().next().next().getNumber();
    }
};

//creates and pushes a new series object into the drilldown.series array
var pushDrillSeries = function pushDrillSeries(output, drill_type, this_name, next_sub) {

    output.drilldown.series.push({
        name: this_name,
        id: this_name,
        data: [],
        type: drill_type,
        lineWidth: 0,
        sub: next_sub
    });
};

/** Parsing function for drilldown charts. See http://api.highcharts.com/highcharts#drilldown for more.
 * @module
 * @param input {element} input jquery table element retrieved from textarea
 * @param drill_type {string} type of drilldown (column or bar)
 * @param colors {array}
 * @returns {object} Object with series array and drilldown series array of objects*/
var parseForDrilldown = function parseForDrilldown(input, drill_type, colors) {

    try {

        //main obj that gets a series and drilldown.series arrays and is returned
        var output = {};

        output.x_axis_categories = drill_type === "bubble" ? null : [];

        //top series array
        output.series = [{
            name: $.trim($("thead tr:first th:first", input).text()),
            colorByPoint: true,
            data: [],
            type: drill_type
        }];

        //drilldown object with a series array of objects - that will have a name, id, and data array
        output.drilldown = {
            drillUpButton: {
                relativeTo: 'spacingBox',
                position: {
                    y: 0,
                    x: 0
                }
            },
            series: []
        };

        /** parsing function for top level series **/
        var parseTopLevel = function parseTopLevel() {
            var top_indexes = [];
            $("tbody th p", input).each(function (i) {
                if (!$(this).is('[class*="sub"]') || $(this).is('[class*="sub0"]')) {
                    //if class is sub0 or nothing

                    var this_name = $.trim($(this).text());
                    var this_val = $(this).parent().next().getNumber();

                    //check if there's levels beneath this
                    var this_drilldown = $("tbody th:eq(" + (i + 1) + ") p", input).is('[class="sub1"]') ? this_name : null;

                    //if so, set up a drilldown series obj
                    if (this_drilldown) {
                        top_indexes.push(i);
                        pushDrillSeries(output, drill_type, this_name, "sub1");
                    }

                    output.series[0].data.push({
                        name: this_name,
                        x: drill_type === "bubble" ? getBubbleVal("x") : undefined,
                        y: this_val,
                        z: drill_type === "bubble" ? getBubbleVal("z") : undefined,
                        color: colors[output.series[0].data.length],
                        type: drill_type,
                        drilldown: this_drilldown,
                        lineWidth: 0,
                        sub: "sub0"
                    });
                }
            });

            return top_indexes;
        }; //end parseTopLevel

        /**parsing function for sub levels **/
        var drill_series_index = 0; // output.drilldown.series index (increments after this_sub === current_sub statement)

        var parseSubLevel = function parseSubLevel(current_sub, indexes) {
            var drill_found = false; //if returned false, loop will stop calling this func
            var indexes_count = 0; // gets incremented to move through indexes array
            var new_indexes = []; //keeps track of row indexes for start of each sub

            ///go through drilldown series array and populate with data

            $(output.drilldown.series).each(function (i, e) {

                var this_sub = this.sub;

                if (this_sub === current_sub) {
                    var high_i = indexes[indexes_count + 1] ? indexes[indexes_count + 1] : 10000000;
                    var low_i = indexes[indexes_count];

                    //go through each row with this sub and add them as an obj to that drilldown series data array
                    $("tbody th:lt(" + high_i + "):gt(" + low_i + ") p." + this_sub, input).each(function () {
                        var this_name = $(this).text();

                        var this_row = $(this).parent().parent();
                        var this_row_index = this_row.index();
                        var this_y = $("td:eq(0)", this_row).getNumber();

                        //check if there's a level beneath this
                        var next_sub = "sub" + Number(Number(this_sub.replace("sub", "")) + 1);
                        var this_drilldown = $("p", this_row.next()).is('[class="' + next_sub + '"]') ? this_name : null;

                        output.drilldown.series[drill_series_index].data.push({
                            name: this_name,
                            x: drill_type === "bubble" ? getBubbleVal("x") : undefined,
                            y: this_y,
                            z: drill_type === "bubble" ? getBubbleVal("z") : undefined,
                            sub: next_sub,
                            type: drill_type,
                            lineWidth: 0,
                            drilldown: this_drilldown
                        });

                        //if there was a next sub level found, create that drilldown series with an id, name, and empty data array
                        if (this_drilldown) {
                            drill_found = true;
                            new_indexes.push(this_row_index);

                            pushDrillSeries(output, drill_type, this_name, next_sub);
                        }
                    }); //end loop through p.[sub]

                    drill_series_index++;
                    indexes_count++;
                } // end if specfific sub
            }); //end loop through output.drilldown.series

            // console.log(output.drilldown.series);

            return {
                drill_found: drill_found,
                indexes: new_indexes
            };
        }; //end parseSubLevel

        //make the top level series
        var top_indexes = parseTopLevel();

        //  loop through sub levels until no more drilldowns found
        var current_sub = 1;
        var drill_stat = parseSubLevel("sub" + current_sub, top_indexes);

        while (drill_stat.drill_found) {
            current_sub++;
            drill_stat = parseSubLevel("sub" + current_sub, drill_stat.indexes);
        }

        //        console.log("top_indexes", top_indexes);
        //
        //        ///////make first sub indexes /////
        //        var parseSubs = function (indexes, sub_level, skip_num) {
        //
        //            var sub_indexes = [];
        //            var next_sub_level = "sub" + Number(Number(sub_level.replace("sub", "")) + 1);
        //            console.log(next_sub_level);
        //
        //            $(indexes).each(function (i) {
        //                //get high and low row indexes from array - this is the subset
        //                var high_i = indexes[i + 1] ? indexes[i + 1].index : 10000000;
        //                var low_i = indexes[i].index;
        //
        //                $("tbody th:lt(" + high_i + "):gt(" + low_i + ") p", input).each(function (j, e) {
        //
        //
        //                    //look only at the .sub1 th p's
        //                    if ($(this).is('[class*="' + sub_level + '"]')) {
        //
        //                        var row_index = $(this).parent().parent().index();
        //                        var next_index = row_index + 1;
        //                        var next_row_p_class = $("tbody tr:eq(" + next_index + ") th p", input).attr("class");
        //                        var next_row_title = $("tbody tr:eq(" + next_index + ") th p", input).text();
        //
        //                        var this_name = $.trim($(this).text());
        //                        var this_val = $(this).parent().next().getNumber();
        //
        //
        //                        //look if this has a sub under it, if so, add drilldown
        //                        if (next_row_p_class === next_sub_level) {
        //
        //                            sub_indexes.push({
        //                                name: this_name,
        //                                index: row_index
        //                            });
        //
        //
        //                            var this_drilldown = this_name;
        //
        //
        //                            //add a drilldown series object to the end
        //                            output.drilldown.series.push({
        //                                name: this_name,
        //                                id: this_name,
        //                                data: [],
        //                                type: drill_type,
        //                                lineWidth: 0
        //                            });
        //
        //                        }
        //
        //
        //                        console.log(i + skip_num);
        //                        console.log(output.drilldown.series);
        //                        console.log(this_name);
        //                        //add the data to the recently set up drilldown series obj (i is an index of the loop through indexes)
        //                        output.drilldown.series[i + skip_num].data.push({
        //                            name: this_name,
        //                            x: drill_type === "bubble" ? getBubbleVal("x") : undefined,
        //                            y: this_val,
        //                            z: drill_type === "bubble" ? getBubbleVal("z") : undefined,
        //                            type: drill_type,
        //                            drilldown: this_drilldown || undefined,
        //                            lineWidth: 0
        //
        //                        });
        //
        //                    }
        //
        //
        //                });
        //
        //
        //
        //            });
        //
        //            return sub_indexes;
        //        }
        //
        //
        //
        //
        //        ///DO the sub level parsing if applicable ////
        //        if (top_indexes.length > 0) {
        //            //first round of subs
        //            var sub_indexes = parseSubs(top_indexes, "sub1", 0); //(index obj, current sub level, number to skip when pushing to drilldown.series[i+skip_num].data)
        //
        //            //next rounds of subs
        //            var sub_num = 1;
        //            while (sub_indexes.length > 0) {
        //
        //                var skip_num = sub_indexes.length + 1;
        //                console.log("skip", skip_num);
        //                sub_num++;
        //                console.log("sub", sub_num);
        //
        //                sub_indexes = parseSubs(sub_indexes, "sub" + sub_num, skip_num);
        //            }
        //        }

        return output;
    } catch (e) {
        console.log(e);
        $(".alert-danger").text("Sorry, the table wasn't formatted correctly for a drilldown chart. Please see the example on the data tab.");

        setTimeout(function () {
            $(".alert-danger").text("");
        }, 10000);
    }
};

module.exports = parseForDrilldown;

},{}],58:[function(require,module,exports){
"use strict";

/** 
 * Parsing function for maps  - adds values to all_map_options.areas based on table input
 * @module
 * @param all_map_options {object} main map object with path and svg options
 * @param input {element} input jquery table element retrieved from textarea
 * @returns {object} modded map object with path d's and fill colors
 */

var parseForMap = function parseForMap(all_map_options, table_input) {

    all_map_options.areas_not_found_from_table = [];

    $("tbody tr", $(table_input)).each(function () {
        //get location name, value, and extra values from table input

        var thisRow = this;
        var row_loc_name = $.trim($("th", thisRow).text()); //location name
        var row_val = $("td:eq(0)", thisRow).getNumber(); //main value

        var extra_vals = []; //extra values
        var animated_vals = []; //animated values for animated maps

        //if animated, add animated titles and values
        if (all_map_options.is_animated) {

            $("td", thisRow).each(function () {
                animated_vals.push($(this).getNumber());
            });

            //else add extra value titles and values
        } else {

                $("td:gt(0)", thisRow).each(function () {
                    extra_vals.push($.trim($(this).text()));
                });
            }

        var found = false;
        //assign values on objs in all_map_options.areas array
        for (var i = 0, len = all_map_options.areas.length; i < len; i++) {

            if (all_map_options.areas[i].loc_name === row_loc_name) {
                all_map_options.areas[i].value = row_val;
                all_map_options.areas[i].extra_vals = extra_vals;
                all_map_options.areas[i].animated_vals = animated_vals;

                found = true;
                break;
            }
        }

        //if an area from the table is not found in the map, push it to the array to show in the report
        if (!found) {
            all_map_options.areas_not_found_from_table.push(row_loc_name);
        }
    }); //end tbody tr loop

    //adds titles to an array from THs
    var addTitles = function addTitles(i, arr) {
        $("thead th:gt(" + i + ")", $(table_input)).each(function () {
            all_map_options[arr].push($.trim($(this).text()));
        });
    };

    //if animated, add animated titles and values
    if (all_map_options.is_animated) {
        addTitles(0, "animated_value_titles");

        //else add extra value titles and values
    } else {
            addTitles(1, "extra_value_titles");
        }
};

module.exports = parseForMap;

},{}],59:[function(require,module,exports){
"use strict";

/** 
 * Parsing function for range chart types. Values in the first column will load as a line or just markers depending on type of range. Then, values from the second column will load as the top range, and values from the third column will load as the bottom range. To load more lines with ranges, add more columns.
 * @module
 * @param input {element} input jquery table element retrieved from textarea
 * @param load_series_from {string} column_heads or column_rows
 * @param chart_type {string} type of chart (line, bar etc.)
 * @returns {object} Object with chart title, X-axis categories and series array of objects
 */

var parseForRange = function parseForRange(input, chart_type, colors) {

    var type = chart_type.replace("stacked_", "");

    var output = {};
    output.series = [];

    //load x-axis categories from row heads
    output.x_axis_categories = [];
    $("tbody th", input).each(function () {
        output.x_axis_categories.push($.trim($(this).text()));
    });

    //load series object names from column heads, and data from each column tds

    $("thead tr:last th:nth-child(3n - 1)", input).each(function (i) {
        var seriesObj = {
            name: $.trim($(this).text()),
            data: [],
            type: "line",
            lineWidth: chart_type === "columnrange" ? 0 : 1,
            marker: {
                enabled: chart_type === "columnrange"
            },
            color: colors[i],
            _symbolIndex: i,
            stacking: null,
            zIndex: 1
        };

        //data from each column's tds
        $("tbody tr", input).each(function () {
            var this_row = $(this);
            $("td:eq(" + i + ")", this_row).each(function () {
                seriesObj.data.push($(this).getNumber());
            });
        });

        //get range series
        var rangeObj = {
            name: $.trim($(this).text()) + ' range',
            data: [],
            type: chart_type,
            lineWidth: 0,
            linkedTo: ':previous',
            color: chart_type === "columnrange" ? colors[i + 1] : colors[i],
            fillOpacity: 0.3,
            zIndex: 0,
            stacking: null
        };

        //data from next 2 columns
        $("tbody tr", input).each(function () {
            var this_row = $(this);
            $("td:eq(" + (i + 1) + ")", this_row).each(function () {
                var high = $(this).getNumber();
                var low = $(this).next().getNumber();
                rangeObj.data.push([low, high]);
            });
        });

        output.series.push(seriesObj);
        output.series.push(rangeObj);
    });

    return output;
};

module.exports = parseForRange;

},{}],60:[function(require,module,exports){
"use strict";

/** 
 * Parsing function for scatter charts
 * @module
 * @param input {element} input jquery table element retrieved from textarea
 * @param chart_type {string} type of chart (line, bar etc.)
 * @returns {object} Object with chart title, X-axis categories and series array of objects
 */
var parseForScatter = function parseForScatter(input, chart_type, colors) {

    var output = {};
    output.x_axis_categories = undefined; //resets this in case there were previous categories

    //load series names from row heads, and data from row tds
    output.series = [];
    $("tbody tr", input).each(function (i) {

        var this_row = $(this);

        var seriesObj = {
            name: $.trim($("th:eq(0)", this_row).text()),
            data: [],
            type: chart_type,
            lineWidth: 0,
            marker: {
                enabled: true,
                symbol: "circle"
            },
            color: colors[i],
            _symbolIndex: i
        };

        //get data values from each row's td cells
        $("td:even", this_row).each(function (i) {
            var x = $(this).getNumber();
            var y = $(this).next().getNumber();
            if (y === null || y === undefined) {
                $(".alert-danger").text("Sorry, the table wasn't formatted correctly for a scatter chart. Please see the example on the data tab.");

                setTimeout(function () {
                    $(".alert-danger").text("");
                }, 10000);
            }

            var xy_arr = [x, y];

            seriesObj.data.push(xy_arr);
        });

        output.series.push(seriesObj);
    });

    return output;
};

module.exports = parseForScatter;

},{}],61:[function(require,module,exports){
"use strict";

/** 
 * Parsing function for typical chart types (line, bar, column) 
 * @module
 * @param input {element} input jquery table element retrieved from textarea
 * @param load_series_from {string} column_heads or column_rows
 * @param chart_type {string} type of chart (line, bar etc.)
 * @returns {object} Object with chart title, X-axis categories and series array of objects
 */

var parseForTypicalChart = function parseForTypicalChart(input, load_series_from, chart_type, legend_toggle_enabled, colors) {

    var type = chart_type.replace("stacked_", "");

    var output = {};
    output.series = [];

    /** If loading series names from column heads is selected*/
    if (load_series_from === "column_heads") {
        //load x-axis categories from row heads
        output.x_axis_categories = [];
        $("tbody th", input).each(function () {
            output.x_axis_categories.push($.trim($(this).text()));
        });

        //load series object names from column heads, and data from each column tds

        $("thead tr:last th:gt(0)", input).each(function (i) {
            var seriesObj = {
                name: $.trim($(this).text()),
                data: [],
                type: type,
                color: colors[i],
                _symbolIndex: i,
                stacking: ["area", "stacked_bar", "stacked_column"].indexOf(chart_type) > -1 ? "stacked" : null,
                visible: i > 0 && legend_toggle_enabled === true ? false : true

            };

            //data from each column's tds
            $("tbody tr", input).each(function () {
                var this_row = $(this);
                $("td:eq(" + i + ")", this_row).each(function () {
                    seriesObj.data.push($(this).getNumber());
                });
            });

            output.series.push(seriesObj);
        });

        /** Else if loading series names from row heads is selected*/
    } else {

            //load x-axis categories from column heads
            output.x_axis_categories = [];
            $("thead th:gt(0)", input).each(function () {
                output.x_axis_categories.push($.trim($(this).text()));
            });

            //load series object names from row heads, and data from row tds
            $("tbody tr", input).each(function (i) {

                var this_row = $(this);

                var seriesObj = {
                    name: $.trim($("th:eq(0)", this_row).text()),
                    data: [],
                    //                dataLabels: {
                    //                    enabled: all_chart_options ? all_chart_options.plotOptions.series.dataLabels.enabled : false
                    //                },
                    type: type,
                    color: colors[i],
                    _symbolIndex: i,
                    stacking: ["area", "stacked_bar", "stacked_column"].indexOf(chart_type) > -1 ? "stacked" : null,
                    visible: i > 0 && legend_toggle_enabled === true ? false : true
                };

                //get data values from each row's td cells
                $("td", this_row).each(function () {
                    seriesObj.data.push($(this).getNumber());
                });

                output.series.push(seriesObj);
            });
        }

    return output;
};

module.exports = parseForTypicalChart;

},{}],62:[function(require,module,exports){
"use strict";

/* takes the table html from a given textarea and parses it into an object, depending on useer-selected inputs */

/* parsing function for typical chart types (line, bar, column) */
var parseForTypicalChart = require("./parse_for_typical_chart.js");

/* parsing function for range charts */
var parseForRange = require("./parse_for_range.js");

/* parsing function for scatter charts */
var parseForScatter = require("./parse_for_scatter.js");

/* parsing function for bubble charts */
var parseForBubble = require("./parse_for_bubble.js");

/* parsing function for animated bubble charts */
var parseForAnimatedBubble = require("./parse_for_animated_bubble.js");

/* parsing function for drilldown charts */
var parseForDrilldown = require("./parse_for_drilldown.js");

/** 
 * Function that decides which parse function to run, depending on chart type
 * @module
 * @param input {element} input jquery table element retrieved from textarea
 * @param load_series_from {string} column_heads or column_rows
 * @param chart_type {string} type of chart (line, bar etc.)
 * @returns {object} Object with chart title, X-axis categories and series array of objects
 */

var parseTableInput = function parseTableInput(input, load_series_from, chart_type, legend_toggle_enabled, colors, chart, all_chart_options) {

    //if animated map is playing, stop it and remove - also prevents errors
    $(".map_play_button.playing").click();
    $(".chart_animation_div").remove();

    var output = {};

    /** Depending on the chart type, start that parsing */
    if (["area", "line", "bar", "stacked_bar", "column", "stacked_column"].indexOf(chart_type) > -1) {
        output = parseForTypicalChart(input, load_series_from, chart_type, legend_toggle_enabled, colors);
    } else if (chart_type == "arearange" || chart_type == "columnrange") {
        output = parseForRange(input, chart_type, colors);
    } else if (chart_type == "bubble") {
        if ($("#bubble_animated_checkbox").is(':checked')) {
            output = parseForAnimatedBubble(input, chart_type, colors, chart, all_chart_options);
        } else {
            output = parseForBubble(input, chart_type, colors);
        }
    } else if (chart_type == "scatter") {
        output = parseForScatter(input, chart_type, colors);
    } else if (chart_type == "drilldown") {
        var drill_type = $("#drilldown_type_select").val();
        output = parseForDrilldown(input, drill_type, colors);
    }

    //add chart title (same for all types of charts)
    output.title_text = $("caption", input).text();

    return output;
};

module.exports = parseTableInput;

},{"./parse_for_animated_bubble.js":55,"./parse_for_bubble.js":56,"./parse_for_drilldown.js":57,"./parse_for_range.js":59,"./parse_for_scatter.js":60,"./parse_for_typical_chart.js":61}],63:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

/** 
Contains functions that make a report showing what areas from the given map were colored and what weren't
@module
**/
var areas_colored_report = {

    /** gerates the report **/
    generateReport: function generateReport(all_map_options) {

        var areas_colored = [];
        var areas_not_colored = [];

        $.each(all_map_options.areas, function (i, e) {

            console.log(e.loc_name, e.value, _typeof(e.value));

            if (e.loc_name && typeof e.value === "number") {
                //if the area has a value
                areas_colored.push(e.loc_name);
            } else if (e.loc_name && _typeof(e.value) === "object") {
                //if it's null or undefined
                areas_not_colored.push(e.loc_name);
            }
        });

        //alphabetize lists
        areas_colored.sort();
        areas_not_colored.sort();
        all_map_options.areas_not_found_from_table.sort();

        //bind to link and popup box
        $(".alert-danger").text($(areas_colored.length).addCommas() + " areas colored. Click for details.").css({
            "cursor": "pointer",
            "text-decoration": "underline"
        }).unbind().click(function () {
            areas_colored_report.showReport(all_map_options, areas_colored, areas_not_colored);
        });
    },

    /** bind clicking the alert-danger text popup to bring up the areas colored report **/
    showReport: function showReport(all_map_options, areas_colored, areas_not_colored) {
        $("#areas_colored_report_div").slideDown(50, function () {
            $("#areas_colored_textarea").val(areas_colored.join("\n"));
            $("#areas_not_colored_textarea").val(areas_not_colored.join("\n"));
            $("#areas_not_found_from_table_textarea").val(all_map_options.areas_not_found_from_table.join("\n"));
        });
    }

};

module.exports = areas_colored_report;

},{}],64:[function(require,module,exports){
"use strict";

var utils_main = require("../utils/utils_main.js");

/** calculate recession dates function 
@namespace
**/

var calculate_recession_dates = {

    /** calculate recession dates function  **/
    createPlotBands: function createPlotBands(x_axis_categories, dates_type) {

        //load new plotbands
        var plot_bands_arr = [];

        if (dates_type === "no_recession") {
            return plot_bands_arr;
        }

        if (dates_type === "quarterly_recession") {
            ///quarterly dates
            var recessionDateStartsArray = ["Q2 1953", "Q3 1957", "Q2 1960", "Q4 1969", "Q4 1973", "Q1 1980", "Q3 1981", "Q3 1990", "Q1 2001", "Q4 2007"];
            var recessionDateEndsArray = ["Q2 1954", "Q2 1958", "Q1 1961", "Q4 1970", "Q1 1975", "Q3 1980", "Q4 1982", "Q1 1991", "Q4 2001", "Q2 2009"];
        }

        if (dates_type === "monthly_recession") {
            //monthly dates
            var recessionDateStartsArray = ["Jul 1953", "Aug 1957", "Apr 1960", "Dec 1969", "Nov 1973", "Jan 1980", "Jul 1981", "Jul 1990", "Mar 2001", "Dec 2007"];
            var recessionDateEndsArray = ["May 1954", "Apr 1958", "Feb 1961", "Nov 1970", "Mar 1975", "Jul 1980", "Nov 1982", "Mar 1991", "Nov 2001", "Jun 2009"];
        }

        if (dates_type === "eci_recession") {
            //ECI dates
            var recessionDateStartsArray = ["Jun 1953", "Sep 1957", "Jun 1960", "Dec 1969", "Dec 1973", "Mar 1980", "Sep 1981", "Sep 1990", "Mar 2001", "Dec 2007"];
            var recessionDateEndsArray = ["Jun 1954", "Jun 1958", "Mar 1961", "Dec 1970", "Mar 1975", "Sep 1980", "Dec 1982", "Mar 1991", "Dec 2001", "Jun 2009"];
        }

        var plotBandStart = 0;
        var plotBandEnd = 0;
        var plot_band_starts_arr = [];
        var plot_band_ends_arr = [];

        ///get start indexes
        for (var i = 0, len = recessionDateStartsArray.length; i < len; i++) {
            var foundStartIndex = x_axis_categories.indexOf(recessionDateStartsArray[i]);
            if (foundStartIndex >= 0) {
                plot_band_starts_arr.push(foundStartIndex);
            }
        }

        ///get ends indexes
        for (var i = 0, len = recessionDateEndsArray.length; i < len; i++) {
            var foundEndIndex = x_axis_categories.indexOf(recessionDateEndsArray[i]);
            if (foundEndIndex >= 0) {
                plot_band_ends_arr.push(foundEndIndex);
            }
        }

        //fix if lengths aren't the same
        if (plot_band_starts_arr[0] > plot_band_ends_arr[0]) {
            plot_band_starts_arr.unshift(0);
        }
        if (plot_band_ends_arr.length < plot_band_starts_arr.length) {
            plot_band_ends_arr.push(x_axis_categories.length - 1);
        }

        ///alert if not found
        if (plot_band_starts_arr.length == 0) {
            utils_main.showError("There are no matching recession dates, or your dates aren't formatted in the needed style.");
        } else {
            for (var i = 0, len = plot_band_starts_arr.length; i < len; i++) {
                var newPlotBand = {
                    color: 'rgb(222, 222, 222)',
                    from: plot_band_starts_arr[i],
                    to: plot_band_ends_arr[i]
                };
                plot_bands_arr.push(newPlotBand);
            }
        }
        return plot_bands_arr;
    },

    /** add the recession plot bands array to the actual chart **/
    insertPlotBands: function insertPlotBands(plot_bands_arr, chart, all_chart_options) {

        chart.xAxis[0].update({
            plotBands: plot_bands_arr
        });

        //add note about recession shading if applicable
        if (plot_bands_arr.length > 1) {
            var credits = "Shaded areas represent recessions as determined by the National Bureau of Economic Research.\nClick legend items to change data display. Hover over chart to view data.\nSource: U.S. Bureau of Labor Statistics.";
        } else {
            var credits = "Click legend items to change data display. Hover over chart to view data.\nSource: U.S. Bureau of Labor Statistics.";
        }
        $("#chart_credits_text_textarea").val(credits);

        all_chart_options.xAxis.plotBands = plot_bands_arr;
    }

};

module.exports = calculate_recession_dates;

},{"../utils/utils_main.js":68}],65:[function(require,module,exports){
"use strict";

/** 
 * custom jQuery extensions
 * @module
 */
var jq_extensions = function () {

    jQuery.fn.extend({

        /** extend so that we can get and set "value" with divs */
        divVal: function divVal(string) {
            if (arguments.length === 0) {
                return $(this).attr("value") || $(this).attr("type") || $(this).index();
            } else {
                $(this).attr("value", string);
                return $(this);
            }
        },

        /** puts commas in a number */
        addCommas: function addCommas(decimals) {

            var val = this[0] || 0;

            if (val == 0) {
                return 0;
            } else if (isNaN(val) || val < 999 && val > -999 && decimals < 1) {
                //small numbers auto decimals
                return val;
            } else if (val < 999 && val > -999 && decimals > 0) {
                //small numbers fixed decimals
                return val.toFixed(decimals);
            } else if ((val > 999 || val < -999) && decimals > 0) {
                //big numbers fixed decimals
                while (/(\d+)(\d{3})/.test(val.toString())) {
                    val = val.toFixed(decimals).replace(/(\d+)(\d{3})/, '$1' + ',' + '$2');
                }
            } else if (val > 999 || val < -999) {
                //big number auto decimals
                while (/(\d+)(\d{3})/.test(val.toString())) {
                    val = val.toString().replace(/(\d+)(\d{3})/, '$1' + ',' + '$2');
                }
            }

            return val;
        },

        /** takes an element's text string and returns a number, trimming spaces and removing non-numbers (good for numbers with commas etc.)*/
        getNumber: function getNumber() {
            var val = $.trim($(this).text().replace(/\(.*\)/, "").replace(/[^0-9\.\-]+/g, ''));

            return val === "" || isNaN(Number(val)) ? null : Number(val);
        },

        /** gets a .val() but returns 0 if isNaN **/
        getValNumber: function getValNumber() {
            return isNaN(Number($(this).val())) ? 0 : Number($(this).val());
        }

    });
}();

module.exports = jq_extensions;

},{}],66:[function(require,module,exports){
"use strict";

/** checks if the app was loaded from the Better Table Wizard, and if so, loads that table and selects that icon 
@module
**/

var loadFromTableWizard = function () {
    if (window.opener) {

        if (window.opener.importedTable && window.opener.importedTable.length > 0) {

            $(".chart_type_icon").removeClass("selected");

            $("#" + window.opener.importedChartType).addClass("selected");

            $("#table_input_textarea").val(window.opener.importedTable);

            window.opener.importedTable = null; //clear it so when page refreshes it's not the same table still
        }
    }
}();

module.exports = loadFromTableWizard;

},{}],67:[function(require,module,exports){
"use strict";

/**
 * Forms utility object, contains functions that work with form elements
 * @namespace
 */
var utils_forms = {

    /** returns true if checkbox is checked, false if not 
    @param elem {element} checkbox element
    @returns {bool}
    */
    getCheckBoxValue: function getCheckBoxValue(elem) {
        return elem.is(':checked');
    },

    /** gets an array of values from a given class 
    @param class_name {string}
    @returns {array}
    */
    getClassValuesArray: function getClassValuesArray(class_name) {
        var arr = [];
        $("." + class_name).each(function () {
            arr.push(Number($(this).val()));
        });
        return arr;
    },

    /** given a group of elements, this gives the index of an element with a class of "selected" **/
    getSelectedIndex: function getSelectedIndex(elem) {
        var selected_index = 0;
        elem.each(function (i) {
            if ($(this).hasClass("selected")) {
                selected_index = i;
            }
        });

        return selected_index;
    },

    /** When clipboard icon is clicked, this copies the next <pre> text to a clipboard via a hidden textarea **/
    copyToClipBoard: function () {
        $(".copy_to_clipboard_button").click(function () {

            var copied_text = $(this).nextAll("textarea:eq(0)").select();
            var copy_message_span = $(this).next().children(".copy_message");
            //   $(this).nextAll("textarea:eq(0)").val(copied_text).select(); //move text to hidden text area so it can be selected and copied

            try {
                var successful = document.execCommand('copy');
                var msg = successful ? 'Copied!' : 'Not copied! Try again in a few seconds.';
                copy_message_span.text(msg);

                setTimeout(function () {
                    //hide message after a bit
                    copy_message_span.text("");
                }, 2000);
            } catch (err) {
                alert("Your browser won't allow this to copy - please do it manually");
            }
        });
    }()

};

module.exports = utils_forms;

var copyToClipBoard = function copyToClipBoard(button) {
    try {
        var successful = document.execCommand('copy');
        var msg = successful ? 'Copied!' : 'Not copied! Try again in a few seconds.';

        copy_message;

        button.value = msg;
        setTimeout(function () {
            button.value = "Copy All";
        }, 2000);
    } catch (err) {
        alert("Your browser won't allow this to copy - please do it manually");
    }
};

},{}],68:[function(require,module,exports){
"use strict";

/**
 * Main utility object, contains functions that get reused often, including the code writing
 * @namespace
 */
var utils_main = {

    /** check value - if 0 or not a number, return undefined **/
    checkForUndefined: function checkForUndefined(val) {
        if (val === "0") {
            return 0;
        }

        if (isNaN(val) || val === "") {
            return undefined;
        }

        return Number(val);
    },

    /** 
    turns objects into strings, methods are stringified and put in an array to replace placeholders in the JSON later
    @returns {string} JSON
    */
    deepStringify: function deepStringify(obj) {
        var update_tooltip = require("../form_updates/update_tooltip.js");
        var update_y_axis = require("../form_updates/update_y_axis.js");

        var fn_count = 0;

        var stringified_obj = {
            string: "",
            functions_arr: []
        };

        stringified_obj.string = JSON.stringify(obj, function (key, value) {

            //functions are named "function1, function2" and later replaced with the real function after the rest of the json has been stringified
            if (typeof value === 'function') {

                //combine y axis and tooltip replacement objs
                var replacements_obj = $.extend({}, update_tooltip.replacement_obj, update_y_axis.replacement_obj);

                //put these string functions in the array for later
                stringified_obj.functions_arr.push(utils_main.stringifyFormatter(value, replacements_obj));

                // use a placeholder text in this json
                var fn_placeholder = "function" + fn_count;

                fn_count++;
                return fn_placeholder;
            } else {
                return value;
            }
        }).replace(/\\n/g, "");

        return stringified_obj;
    },

    /** if drilled into a drilldown, click the up button to get out - prevents errors **/
    drillUp: function drillUp() {
        while ($(".highcharts-button").length > 0) {
            $(".highcharts-button").click();
        }
    },

    /** functions to set or return min max values **/
    limits: {

        max: 0,
        min: undefined,

        setMax: function setMax(val) {
            utils_main.limits.max = val > utils_main.limits.max ? val : utils_main.limits.max;
        },

        setMin: function setMin(val) {
            if (utils_main.limits.min === undefined) {
                utils_main.limits.min = val;
            } else {
                utils_main.limits.min = val < utils_main.limits.min ? val : utils_main.limits.min;
            }
        },

        resetMax: function resetMax() {
            utils_main.limits.max = 0;
        },

        resetMin: function resetMin() {
            utils_main.limits.min = undefined;
        },

        getMax: function getMax() {
            return utils_main.limits.max;
        },

        getMin: function getMin() {
            return utils_main.limits.min;
        }
    },

    /** 
    creates and returns a clearfloat class div
    @returns {element} div with "clearfloat" class
    */
    makeClearFloatDiv: function makeClearFloatDiv() {
        var clear_div = document.createElement("div");
        clear_div.className = "clearfloat";
        return clear_div;
    },

    /** looks at an array, takes string "false" or "null" and returns false or null **/
    parseBoolsFromArray: function parseBoolsFromArray(arr) {
        return arr.map(function (e) {
            if (e === "true") {
                return true;
            } else if (e === "false") {
                return false;
            } else if (e === "null") {
                return null;
            } else {
                return e;
            }
        });
    },

    /** Converts an rgb string to an array of 3 values**/
    rgb2arr: function rgb2arr(rgb) {
        return rgb.replace(/[^0-9\,]+/g, '').split(",").map(function (item) {
            return parseInt(item, 10);
        });
    },

    /** Displays an error message for a few seconds**/
    showError: function showError(string) {
        $(".alert-danger").text(string);
        setTimeout(function () {
            $(".alert-danger").text("");
        }, 8000);
    },

    /** stringify tooltip / y-axis formatter function **/
    stringifyFormatter: function stringifyFormatter(formatter, replacement_obj) {

        var formatter_str = formatter.toString().replace(/\/\/.*\/\//g, ""); //replace notes in between //...//

        //x,y,z signs array replacements

        formatter_str = formatter_str.replace(/y_signs_arr\[0\]/g, '"' + replacement_obj.y_signs_arr[0] + '"').replace(/y_signs_arr\[1\]/g, '"' + replacement_obj.y_signs_arr[1] + '"').replace(/x_signs_arr\[0\]/g, '"' + replacement_obj.x_signs_arr[0] + '"').replace(/x_signs_arr\[1\]/g, '"' + replacement_obj.x_signs_arr[1] + '"').replace(/z_signs_arr\[0\]/g, '"' + replacement_obj.z_signs_arr[0] + '"').replace(/z_signs_arr\[1\]/g, '"' + replacement_obj.z_signs_arr[1] + '"').replace(/y_axis_signs_arr\[0\]/g, '"' + replacement_obj.y_axis_signs_arr[0] + '"').replace(/y_axis_signs_arr\[1\]/g, '"' + replacement_obj.y_axis_signs_arr[1] + '"');

        for (name in replacement_obj) {
            var re = new RegExp("\\b" + name, "g");

            if (isNaN(Number(replacement_obj[name]))) {
                //replace strings with quotes
                formatter_str = formatter_str.replace(re, '"' + replacement_obj[name] + '"');
            } else {
                formatter_str = formatter_str.replace(re, replacement_obj[name]); //replace numbers without quotes
            }

            formatter_str = formatter_str.replace('+ ""', "").replace('"" +', "").replace(/y \* 1(?!0)/g, "y").replace(/value \/ 1(?!0)/g, "value"); //replace empty strings and remove divide or times by 1
        }

        return formatter_str;
    },

    valueSort: function valueSort(arr) {
        var values_arr = [];
        $.each(arr, function () {
            if (this.value) {
                values_arr.push(this.value);
            }
        });
        values_arr.sort(function (a, b) {
            return a - b;
        });

        return values_arr;
    }
};

module.exports = utils_main;

},{"../form_updates/update_tooltip.js":27,"../form_updates/update_y_axis.js":29}],69:[function(require,module,exports){
"use strict";

var chart_recall = require("../chart_recall.js");
var utils_main = require("./utils_main.js");
/** functions for chart / map code output 
@namespace
**/

var write_code = {

    /** calls code writing functions and writes to code area*/
    writeCode: function writeCode(all_chart_options, all_map_options) {

        var width = $("#chart_width_textinput").val();
        var height = $("#chart_height_textinput").val();
        var id = all_chart_options.chart.renderTo;

        if (all_chart_options.chart.type !== "map") {
            //not map

            var html_string = write_code.writeChartHTMLCode(all_chart_options, width, height, id);
            var js_string = write_code.writeChartJSCode(all_chart_options);
        } else {
            //map
            var html_string = write_code.writeMapHTMLCode(all_map_options, width, height, id);
            var js_string = write_code.writeMapJSCode(all_map_options);
        }

        //put code in the <code>
        $("#chart_html_code").val(html_string);

        //put js code in code area
        $("#chart_output_code").val(js_string);
    },

    /** creates and returns chart HTML code  **/
    writeChartHTMLCode: function writeChartHTMLCode(all_chart_options, width, height, id) {

        var html_string = '<div id="' + id + '" style = "position: relative; width: ' + width + 'px; height: ' + height + 'px; margin: auto; padding: 0px;"> </div>';

        return html_string;
    },

    /** creates and returns map HTML code  **/
    writeMapHTMLCode: function writeMapHTMLCode(all_map_options, width, height, id) {

        var html_string = '<div class="map_display_area" id="' + id + '" style = "width: ' + width + 'px; height: ' + (height - 60) + 'px; margin: auto; padding: 0px;"> </div>';

        return html_string;
    },

    /** place code in chart_output_code and reinit highlight */
    writeChartJSCode: function writeChartJSCode(all_chart_options) {

        var draw_chart = require("../draw_chart.js");

        //save chart input values
        all_chart_options.saved_values = chart_recall.saveValues();

        var chart_options_js = utils_main.deepStringify(all_chart_options);

        chart_options_js.string = chart_options_js.string.replace(/"function(\d+)"/g, function (match, i) {
            return chart_options_js.functions_arr[i];
        }) // replace function place holders with their function string from its index in the array
        .replace(/headers=\\"rowHead\d+ columnHead\d+\\"/g, "") //trim down table alt output to make it smaller
        .replace(/id=\\"(rowHead|columnHead)\d+\\"/g, "")
        //replace ansi symbols (n-dash etc), with printed js code
        .replace(//, "\\u2013") //ndash
        .replace(//, "\\u2014") //mdash
        .replace(/\s{2,} /g, " ") //replace several spaces with one
        .replace(/"null"/g, "null") //replace "null" with null
         + ";\n\n";

        //write callback function
        chart_options_js.string = chart_options_js.string + "var chartCallback = " + draw_chart.chartCallback.toString();+"\n";

        //add surrounding JS (doc ready, render chart, jq extensions...)
        chart_options_js.string = '$(document).ready(function(){\n\
             var all_chart_options = ' + chart_options_js.string + ';\n\
Highcharts.setOptions({lang: {thousandsSep: ","}});\n\n\
    var chart = new Highcharts.Chart(all_chart_options, chartCallback(all_chart_options));\n\
});\n\
jQuery.fn.extend({addCommas:' + $("string").addCommas.toString() + ' });';

        return chart_options_js.string;
    },

    /** creates and returns map JS code  **/
    writeMapJSCode: function writeMapJSCode(all_map_options) {

        var map_init = require("../initializers/maps/map_init.js");
        var map_subtitle_init = require("../initializers/maps/map_subtitle_init.js");
        var map_title_init = require("../initializers/maps/map_title_init.js");
        var map_credits_init = require("../initializers/maps/map_credits_init.js");
        var map_legend_init = require("../initializers/maps/map_legend_init.js");
        var map_tooltip_init = require("../initializers/maps/map_tooltip_init.js");
        var map_animation_init = require("../initializers/maps/map_animation_init.js");

        var map_js = utils_main.deepStringify(all_map_options);

        //write out map options object
        map_js.string = "$(document).ready(function(){\n" + "var all_map_options = " + map_js.string + ";\n\n" +

        //write out functions needed to convert all_map_options to svg //

        //map_init

        "var map_init = {}; \n" +

        //map_init.getMapOuterDiv
        "map_init.getMapOuterDiv = " + map_init.getMapOuterDiv.toString() + ";\n\n" +

        //map_init.getMapOuterSVG
        "map_init.getMapOuterSVG = " + map_init.getMapOuterSVG.toString() + ";\n\n" +

        //map_init.populateSVGAreas
        "map_init.populateSVGAreas = " + map_init.populateSVGAreas.toString() + ";\n\n" +

        //map_title_init.getMapTitle
        "var map_title_init = {}; \n map_title_init.getMapTitle = " + map_title_init.getMapTitle.toString() + ";\n\n" +

        //map_subtitle_init.getMapSubtitle
        "var map_subtitle_init = {}; \n map_subtitle_init.getMapSubtitle = " + map_subtitle_init.getMapSubtitle.toString() + ";\n\n" +

        //map_credits_init.getMapCredits
        "var map_credits_init = {}; \n map_credits_init.getMapCredits = " + map_credits_init.getMapCredits.toString() + ";\n\n" +

        //map_legend_init.valueMod
        "var map_legend_init = {}; \n map_legend_init.valueMod = " + map_legend_init.valueMod.toString() + ";\n\n" +

        //map_legend_init.getMapLegend
        "map_legend_init.getMapLegend = " + map_legend_init.getMapLegend.toString() + ";\n\n" +

        //map_tooltip_init.getMapTooltip
        "var map_tooltip_init = {}; \n map_tooltip_init.getMapTooltip = " + map_tooltip_init.getMapTooltip.toString() + ";\n\n" +

        //map_init.convertMapOptionsToSVG
        "map_init.convertMapOptionsToSVG = " + map_init.convertMapOptionsToSVG.toString() + ";\n\n" +

        //map_init.setUpMapHover
        "map_init.setUpMapHover = " + map_init.setUpMapHover.toString() + ";\n\n" +

        //map_init.setUpMapLegendHover
        "map_init.setUpMapLegendHover = " + map_init.setUpMapLegendHover.toString() + ";\n\n" +

        //map_init.setUpMapStateLinks
        "map_init.setUpMapStateLinks = " + map_init.setUpMapStateLinks.toString() + ";\n\n" +

        //map_animation_init.getAnimationDiv (only if used)
        "var map_animation_init = {}; \n map_animation_init.getAnimationDiv = " + (all_map_options.is_animated ? map_animation_init.getAnimationDiv.toString() : null) + ";\n\n" +

        //map_animation_init.setUpMapAnimation (only if used)
        "map_animation_init.setUpMapAnimation = " + (all_map_options.is_animated ? map_animation_init.setUpMapAnimation.toString() : null) + ";\n\n" +

        //call functions
        "var map_display_area = map_init.convertMapOptionsToSVG(all_map_options);\n\n" + //converts all_map_options to svg and puts it on page

        //init tooltip and highlighting
        "map_init.setUpMapHover(all_map_options, map_display_area);\n\n" +

        //init legend hovering
        "map_init.setUpMapLegendHover(map_display_area);\n\n" +

        //init state links to eag pages
        "map_init.setUpMapStateLinks(map_display_area);\n\n" + (

        //init setup of animation functions (if used)
        all_map_options.is_animated ? "map_animation_init.setUpMapAnimation(all_map_options, map_display_area);\n\n" : "") +

        ///end of doc ready
        "});" +

        //add jQuery addcommas extension
        'jQuery.fn.extend({addCommas:' + $("string").addCommas.toString() + ' });';

        //replacements
        map_js.string = map_js.string.replace(//g, "\\u25B6");

        return map_js.string;
    }

};

module.exports = write_code;

},{"../chart_recall.js":2,"../draw_chart.js":15,"../initializers/maps/map_animation_init.js":44,"../initializers/maps/map_credits_init.js":47,"../initializers/maps/map_init.js":48,"../initializers/maps/map_legend_init.js":49,"../initializers/maps/map_subtitle_init.js":50,"../initializers/maps/map_title_init.js":51,"../initializers/maps/map_tooltip_init.js":52,"./utils_main.js":68}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzY3JpcHRzX3NyYy9hcHAuanMiLCJzY3JpcHRzX3NyYy9jaGFydF9yZWNhbGwuanMiLCJzY3JpcHRzX3NyYy9jb25zdHJ1Y3RvcnMvY2hhcnRzL2FsbF9jaGFydF9vcHRpb25zLmpzIiwic2NyaXB0c19zcmMvY29uc3RydWN0b3JzL2NoYXJ0cy9jaGFydC5qcyIsInNjcmlwdHNfc3JjL2NvbnN0cnVjdG9ycy9jaGFydHMvY3JlZGl0cy5qcyIsInNjcmlwdHNfc3JjL2NvbnN0cnVjdG9ycy9jaGFydHMvZXhwb3J0aW5nLmpzIiwic2NyaXB0c19zcmMvY29uc3RydWN0b3JzL2NoYXJ0cy9sZWdlbmQuanMiLCJzY3JpcHRzX3NyYy9jb25zdHJ1Y3RvcnMvY2hhcnRzL3Bsb3Rfb3B0aW9ucy5qcyIsInNjcmlwdHNfc3JjL2NvbnN0cnVjdG9ycy9jaGFydHMvc2VyaWVzLmpzIiwic2NyaXB0c19zcmMvY29uc3RydWN0b3JzL2NoYXJ0cy9zdWJ0aXRsZS5qcyIsInNjcmlwdHNfc3JjL2NvbnN0cnVjdG9ycy9jaGFydHMvdGl0bGUuanMiLCJzY3JpcHRzX3NyYy9jb25zdHJ1Y3RvcnMvY2hhcnRzL3Rvb2x0aXAuanMiLCJzY3JpcHRzX3NyYy9jb25zdHJ1Y3RvcnMvY2hhcnRzL3hfYXhpcy5qcyIsInNjcmlwdHNfc3JjL2NvbnN0cnVjdG9ycy9jaGFydHMveV9heGlzLmpzIiwic2NyaXB0c19zcmMvZHJhd19jaGFydC5qcyIsInNjcmlwdHNfc3JjL2Zvcm1fdXBkYXRlcy9hbGxfZm9ybV91cGRhdGVzLmpzIiwic2NyaXB0c19zcmMvZm9ybV91cGRhdGVzL3VwZGF0ZV9jaGFydF9vcHRpb25zLmpzIiwic2NyaXB0c19zcmMvZm9ybV91cGRhdGVzL3VwZGF0ZV9jaGFydF90eXBlLmpzIiwic2NyaXB0c19zcmMvZm9ybV91cGRhdGVzL3VwZGF0ZV9jb2xvcnMuanMiLCJzY3JpcHRzX3NyYy9mb3JtX3VwZGF0ZXMvdXBkYXRlX2NyZWRpdHMuanMiLCJzY3JpcHRzX3NyYy9mb3JtX3VwZGF0ZXMvdXBkYXRlX2RhdGEuanMiLCJzY3JpcHRzX3NyYy9mb3JtX3VwZGF0ZXMvdXBkYXRlX2luZGl2aWR1YWxfc2VyaWVzLmpzIiwic2NyaXB0c19zcmMvZm9ybV91cGRhdGVzL3VwZGF0ZV9sZWdlbmQuanMiLCJzY3JpcHRzX3NyYy9mb3JtX3VwZGF0ZXMvdXBkYXRlX21hcF9pbmRpdmlkdWFsX3Nlcmllcy5qcyIsInNjcmlwdHNfc3JjL2Zvcm1fdXBkYXRlcy91cGRhdGVfbWFwX3BhbGV0dGVzLmpzIiwic2NyaXB0c19zcmMvZm9ybV91cGRhdGVzL3VwZGF0ZV90ZW1wbGF0ZS5qcyIsInNjcmlwdHNfc3JjL2Zvcm1fdXBkYXRlcy91cGRhdGVfdG9vbHRpcC5qcyIsInNjcmlwdHNfc3JjL2Zvcm1fdXBkYXRlcy91cGRhdGVfeF9heGlzLmpzIiwic2NyaXB0c19zcmMvZm9ybV91cGRhdGVzL3VwZGF0ZV95X2F4aXMuanMiLCJzY3JpcHRzX3NyYy9pbml0aWFsaXplcnMvY2hhcnRzL2FsbF9jaGFydF9vcHRpb25zX2luaXQuanMiLCJzY3JpcHRzX3NyYy9pbml0aWFsaXplcnMvY2hhcnRzL2NoYXJ0X2FuaW1hdGlvbl9pbml0LmpzIiwic2NyaXB0c19zcmMvaW5pdGlhbGl6ZXJzL2NoYXJ0cy9jaGFydF9pbml0LmpzIiwic2NyaXB0c19zcmMvaW5pdGlhbGl6ZXJzL2NoYXJ0cy9jb2xvcnNfaW5pdC5qcyIsInNjcmlwdHNfc3JjL2luaXRpYWxpemVycy9jaGFydHMvY3JlZGl0c19pbml0LmpzIiwic2NyaXB0c19zcmMvaW5pdGlhbGl6ZXJzL2NoYXJ0cy9leHBvcnRpbmdfaW5pdC5qcyIsInNjcmlwdHNfc3JjL2luaXRpYWxpemVycy9jaGFydHMvbGVnZW5kX2luaXQuanMiLCJzY3JpcHRzX3NyYy9pbml0aWFsaXplcnMvY2hhcnRzL3Bsb3Rfb3B0aW9uc19pbml0LmpzIiwic2NyaXB0c19zcmMvaW5pdGlhbGl6ZXJzL2NoYXJ0cy9zZXJpZXNfaW5pdC5qcyIsInNjcmlwdHNfc3JjL2luaXRpYWxpemVycy9jaGFydHMvc3VidGl0bGVfaW5pdC5qcyIsInNjcmlwdHNfc3JjL2luaXRpYWxpemVycy9jaGFydHMvdGl0bGVfaW5pdC5qcyIsInNjcmlwdHNfc3JjL2luaXRpYWxpemVycy9jaGFydHMvdG9vbHRpcF9pbml0LmpzIiwic2NyaXB0c19zcmMvaW5pdGlhbGl6ZXJzL2NoYXJ0cy94X2F4aXNfaW5pdC5qcyIsInNjcmlwdHNfc3JjL2luaXRpYWxpemVycy9jaGFydHMveV9heGlzX2luaXQuanMiLCJzY3JpcHRzX3NyYy9pbml0aWFsaXplcnMvbWFwcy9tYXBfYW5pbWF0aW9uX2luaXQuanMiLCJzY3JpcHRzX3NyYy9pbml0aWFsaXplcnMvbWFwcy9tYXBfY2lyY2xlX3NpemVzX2luaXQuanMiLCJzY3JpcHRzX3NyYy9pbml0aWFsaXplcnMvbWFwcy9tYXBfY29sb3JzX2luaXQuanMiLCJzY3JpcHRzX3NyYy9pbml0aWFsaXplcnMvbWFwcy9tYXBfY3JlZGl0c19pbml0LmpzIiwic2NyaXB0c19zcmMvaW5pdGlhbGl6ZXJzL21hcHMvbWFwX2luaXQuanMiLCJzY3JpcHRzX3NyYy9pbml0aWFsaXplcnMvbWFwcy9tYXBfbGVnZW5kX2luaXQuanMiLCJzY3JpcHRzX3NyYy9pbml0aWFsaXplcnMvbWFwcy9tYXBfc3VidGl0bGVfaW5pdC5qcyIsInNjcmlwdHNfc3JjL2luaXRpYWxpemVycy9tYXBzL21hcF90aXRsZV9pbml0LmpzIiwic2NyaXB0c19zcmMvaW5pdGlhbGl6ZXJzL21hcHMvbWFwX3Rvb2x0aXBfaW5pdC5qcyIsInNjcmlwdHNfc3JjL2tleWJvYXJkX2lucHV0cy5qcyIsInNjcmlwdHNfc3JjL25hdmlnYXRpb25fc2V0dXAuanMiLCJzY3JpcHRzX3NyYy9wYXJzZXJzL3BhcnNlX2Zvcl9hbmltYXRlZF9idWJibGUuanMiLCJzY3JpcHRzX3NyYy9wYXJzZXJzL3BhcnNlX2Zvcl9idWJibGUuanMiLCJzY3JpcHRzX3NyYy9wYXJzZXJzL3BhcnNlX2Zvcl9kcmlsbGRvd24uanMiLCJzY3JpcHRzX3NyYy9wYXJzZXJzL3BhcnNlX2Zvcl9tYXAuanMiLCJzY3JpcHRzX3NyYy9wYXJzZXJzL3BhcnNlX2Zvcl9yYW5nZS5qcyIsInNjcmlwdHNfc3JjL3BhcnNlcnMvcGFyc2VfZm9yX3NjYXR0ZXIuanMiLCJzY3JpcHRzX3NyYy9wYXJzZXJzL3BhcnNlX2Zvcl90eXBpY2FsX2NoYXJ0LmpzIiwic2NyaXB0c19zcmMvcGFyc2Vycy9wYXJzZV90YWJsZV9pbnB1dC5qcyIsInNjcmlwdHNfc3JjL3V0aWxzL2FyZWFzX2NvbG9yZWRfcmVwb3J0LmpzIiwic2NyaXB0c19zcmMvdXRpbHMvY2FsY3VsYXRlX3JlY2Vzc2lvbl9kYXRlcy5qcyIsInNjcmlwdHNfc3JjL3V0aWxzL2pxX2V4dGVuc2lvbnMuanMiLCJzY3JpcHRzX3NyYy91dGlscy9sb2FkX2Zyb21fdGFibGVfd2l6YXJkLmpzIiwic2NyaXB0c19zcmMvdXRpbHMvdXRpbHNfZm9ybXMuanMiLCJzY3JpcHRzX3NyYy91dGlscy91dGlsc19tYWluLmpzIiwic2NyaXB0c19zcmMvdXRpbHMvd3JpdGVfY29kZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztBQ0NBLEVBQUUsUUFBRixFQUFZLEtBQVosQ0FBa0IsWUFBWTs7O0FBRzFCLFFBQUksZ0JBQWdCLFFBQVEsMEJBQVIsQ0FBaEIsQ0FIc0I7QUFJMUIsUUFBSSxhQUFhLFFBQVEsb0JBQVIsQ0FBYjs7OztBQUpzQixLQVMxQixDQUFFLEdBQUYsQ0FBTSxrQ0FBTixFQUEwQyxVQUFVLEtBQVYsRUFBaUI7QUFDdkQsVUFBRSx1QkFBRixFQUEyQixHQUEzQixDQUErQixLQUEvQjs7O0FBRHVELFlBSW5ELHNCQUFzQixRQUFRLGdDQUFSLENBQXRCOzs7O0FBSm1ELFlBUW5ELGtCQUFrQixFQUFsQixDQVJtRDtBQVN2RCxZQUFJLGFBQWEsRUFBRSw2QkFBRixFQUFpQyxNQUFqQyxFQUFiOzs7QUFU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Wix3RUEvRFk7OztBQWtFWiw2REFsRVk7OztBQXFFWiw0REFyRVk7OztBQXlFWCx3QkFBZ0IsV0FBaEIsR0FBOEIsOEVBQTlCLEdBQStHLEVBQS9HLENBekVXOzs7QUE0RVosYUE1RVk7OztBQStFWixzQ0EvRVksR0ErRXFCLEVBQUUsUUFBRixFQUFZLFNBQVosQ0FBc0IsUUFBdEIsRUEvRXJCLEdBK0V3RCxNQS9FeEQ7OztBQWR1QixjQWdHdkMsQ0FBTyxNQUFQLEdBQWdCLE9BQU8sTUFBUCxDQUFjLE9BQWQsQ0FBc0IsSUFBdEIsRUFBNEIsU0FBNUIsQ0FBaEIsQ0FoR3VDOztBQWtHdkMsZUFBTyxPQUFPLE1BQVAsQ0FsR2dDO0tBQTNCOztDQWxHaEI7O0FBME1KLE9BQU8sT0FBUCxHQUFpQixVQUFqQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKiogbWFpbiBhcHAgZmlsZSwgc3RhcnRzIGV2ZXJ5dGhpbmcgb2ZmICoqL1xuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuXG4gICAgLy91dGlsc1xuICAgIHZhciBqcV9leHRlbnNpb25zID0gcmVxdWlyZShcIi4vdXRpbHMvanFfZXh0ZW5zaW9ucy5qc1wiKTtcbiAgICB2YXIgdXRpbHNfbWFpbiA9IHJlcXVpcmUoXCIuL3V0aWxzL3V0aWxzX21haW5cIik7XG5cblxuICAgIC8vbG9hZCB0ZXN0IHRhYmxlIGludG8gdGFibGVfaW5wdXRfdGV4dGFyZWFcblxuICAgICQuZ2V0KFwiLi9kZXYvdGVzdF90YWJsZXMvdGVzdF90YWJsZS5odG1cIiwgZnVuY3Rpb24gKHRhYmxlKSB7XG4gICAgICAgICQoXCIjdGFibGVfaW5wdXRfdGV4dGFyZWFcIikudmFsKHRhYmxlKTtcblxuICAgICAgICAvL2NoZWNrIGlmIGFwcCB3YXMgb3BlbmVkIGZyb20gdGhlIGNoYXJ0IHdpemFyZCAoaW1lZGlhdGVseSBpbnZva2VkIGZ1bmN0aW9uKVxuICAgICAgICB2YXIgbG9hZEZyb21UYWJsZVdpemFyZCA9IHJlcXVpcmUoXCIuL3V0aWxzL2xvYWRfZnJvbV90YWJsZV93aXphcmRcIik7XG5cbiAgICAgICAgLy9pbml0aWFsIGVtcHR5IGFsbCBtYXAgb3B0aW9uc1xuXG4gICAgICAgIHZhciBhbGxfbWFwX29wdGlvbnMgPSB7fTtcbiAgICAgICAgdmFyIGNoYXJ0X3R5cGUgPSAkKFwiI2NoYXJ0X3R5cGVfaWNvbnMgLnNlbGVjdGVkXCIpLmRpdlZhbCgpO1xuXG4gICAgICAgIC8vaW5pdGlhbCBhbGwgY2hhcnQgb3B0aW9ucyBpbml0XG4gICAgICAgIHZhciBhbGxDaGFydE9wdGlvbnNJbml0ID0gcmVxdWlyZShcIi4vaW5pdGlhbGl6ZXJzL2NoYXJ0cy9hbGxfY2hhcnRfb3B0aW9uc19pbml0LmpzXCIpO1xuICAgICAgICB2YXIgYWxsX2NoYXJ0X29wdGlvbnMgPSBhbGxDaGFydE9wdGlvbnNJbml0KGNoYXJ0X3R5cGUpO1xuXG4gICAgICAgIC8vZHJhdyBjaGFydFxuICAgICAgICB2YXIgZHJhd19jaGFydCA9IHJlcXVpcmUoXCIuL2RyYXdfY2hhcnQuanNcIik7XG4gICAgICAgIHZhciBjaGFydCA9IGRyYXdfY2hhcnQuaW5pdChhbGxfY2hhcnRfb3B0aW9ucywgZHJhd19jaGFydC5jaGFydENhbGxiYWNrKTtcblxuICAgICAgICAvL3BhZ2UgaW5pdCAobmF2aWdhdGlvbiBhbmQga2V5Ym9hcmQgZW50cmllcylcbiAgICAgICAgdmFyIG5hdmlnYXRpb25fc2V0dXAgPSByZXF1aXJlKFwiLi9uYXZpZ2F0aW9uX3NldHVwLmpzXCIpO1xuICAgICAgICBuYXZpZ2F0aW9uX3NldHVwLmZpcnN0TmF2SW5pdCgpO1xuXG5cbiAgICAgICAgLy9hbGwgZm9ybSB1cGRhdGVzIC0gd2hlbiB1cGRhdGVzIGFyZSBtYWRlLCB1cGRhdGUgdGhlIGNoYXJ0LiB0aGlzIGFsc28gY2FsbHMgc29tZSBuYXYgYW5kIGtleWJvYXJkIGlucHV0IGluaXRzXG4gICAgICAgIHZhciBhbGxGb3JtVXBkYXRlcyA9IHJlcXVpcmUoXCIuL2Zvcm1fdXBkYXRlcy9hbGxfZm9ybV91cGRhdGVzLmpzXCIpO1xuICAgICAgICBhbGxGb3JtVXBkYXRlcyhjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMsIGFsbF9tYXBfb3B0aW9ucyk7XG4gICAgICAgIFxuICAgICAgICAvL2RpcGxheSBvbmx5IG9wdGlvbnMgcmVsYXRlZCB0byBjaGFydCB0eXBlIFxuICAgICAgICBhbGxGb3JtVXBkYXRlcy5kaXNwbGF5T3B0aW9ucyhjaGFydF90eXBlKTtcblxuICAgICAgICAvL2NsaWNrIHNlbGVjdGVkIGljb24gdG8gbWFrZSBzdXJlIGV2ZXJ5dGhpbmcgaW4gdGhlIGNoYXJ0IGxvYWRzIGNvcnJlY3RseVxuICAgICAgICQoXCIjY2hhcnRfdHlwZV9pY29ucyAuc2VsZWN0ZWRcIikuY2xpY2soKTtcbiAgICAgICAgXG5cbiAgICB9KTtcblxuXG5cbn0pOyIsInZhciB1dGlsc19mb3JtcyA9IHJlcXVpcmUoXCIuL3V0aWxzL3V0aWxzX2Zvcm1zLmpzXCIpO1xuXG5cblxuXG4vKipcbiAqIENvbnRhaW5zIGZ1bmN0aW9ucyB0aGF0IGRlYWwgd2l0aCBjaGFydCAob3B0aW9ucyBzZWxlY3RlZCBhbmQgZGF0YSBsb2FkZWQpIHNhdmluZyBhbmQgbG9hZGluZ1xuICogQG5hbWVzcGFjZVxuICovXG5cbnZhciBjaGFydF9yZWNhbGwgPSB7XG5cblxuICAgIC8qKiByZWFkcyBhbGwgb2YgdGhlIHBhZ2UncyBzZWxlY3RhYmxlIG9wdGlvbnMgYW5kIGxvYWRzIHZhbHVlcyBpbnRvIGFuIG9iamVjdCAqKi9cblxuICAgIHNhdmVWYWx1ZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9vYmplY3QgdG8gbG9hZCBlYWNoIGlucHV0J3MgdmFsdWVzIGFuZCBJRCdzIGludG8gKHRleHRhcmVhcywgc2VsZWN0cywgY2hlY2tib3hlcywgZGl2IGljb25zIGV0YyApXG4gICAgICAgIHZhciBzYXZlZF92YWx1ZXMgPSBbXTtcblxuICAgICAgICAkKFwiaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsICNjaGFydF90eXBlX2ljb25zLCAjdGFibGVfaW5wdXRfbG9hZF9zZXJpZXNfZnJvbV9pY29ucywgI2NvbG9yX3BhbGV0dGVzLCAuc2VyaWVzX3R5cGVfZGl2XCIsICQoXCIjc2lkZV9tYWluXCIpKS5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMubm9kZU5hbWUgPT09IFwiRElWXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXRfdmFsID0gJCh0aGlzKS5jaGlsZHJlbihcIltjbGFzcyo9J3NlbGVjdGVkJ11cIikuZGl2VmFsKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBpbnB1dF92YWwgPSB0aGlzLnR5cGUgPT09IFwiY2hlY2tib3hcIiA/IHV0aWxzX2Zvcm1zLmdldENoZWNrQm94VmFsdWUoJCh0aGlzKSkgOiAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzYXZlZF92YWx1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6ICQodGhpcykuYXR0cihcImlkXCIpLFxuICAgICAgICAgICAgICAgIHZhbDogaW5wdXRfdmFsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShzYXZlZF92YWx1ZXMpKTtcbiAgICAgICAgcmV0dXJuIHNhdmVkX3ZhbHVlcztcblxuICAgIH0sXG5cblxuXG5cbiAgICAvKiogdGFrZXMgaW5wdXQgKG9yaWdpbmFsbHkgZnJvbSAjbG9hZF9jaGFydF90ZXh0YXJlYSwgcGFyc2VzIGl0LCBhbmQgc2V0cyBvcHRpb24gdmFsdWVzIGFjY29yZGluZ2x5LCB0byBsb2FkIGEgc2F2ZWQgY2hhcnQpICoqL1xuXG4gICAgbG9hZFZhbHVlczogZnVuY3Rpb24gKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucywgaW5wdXQpIHtcbiAgICAgICAgdmFyIHV0aWxzX21haW4gPSByZXF1aXJlKFwiLi91dGlscy91dGlsc19tYWluLmpzXCIpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaW5wdXQgPSBKU09OLnBhcnNlKGlucHV0KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdXRpbHNfbWFpbi5zaG93RXJyb3IoXCJTb3JyeSwgdGhlIEpTT04gcGFyc2luZyBkaWRuJ3Qgd29yay4gUGxlYXNlIGRvdWJsZSBjaGVjayB5b3VyIGlucHV0LiBcIiArIGUpO1xuICAgICAgICB9XG5cblxuICAgICAgICAvKiogZ29lcyB0aHJvdWdoIGFuIGFycmF5IG9mIG9iamVjdHMgd2l0aCBpZCAvIHZhbCwgc2V0cyBlbGVtZW50cyB3aXRoIGEgZ2l2ZW4gSUQgdG8gdGhhdCB2YWx1ZSAqKi9cbiAgICAgICAgdmFyIHNldFZhbHVlcyA9IGZ1bmN0aW9uIChhcnIsIHNldF9pbmRpdmlkdWFsX3NlcmllcyAvKmJvb2wqLyApIHtcbiAgICAgICAgICAgIHZhciBpbmRpdmlkdWFsX3Nlcmllc19vcHRpb25zID0gW107IC8vZ2V0cyBwb3B1bGF0ZWQgaWYgc2VyaWVzX2NvbG9yIGFuZCBsaW5lX3N0eWxlX3NlbGVjdCBhcmUgZm91bmRcblxuICAgICAgICAgICAgJC5lYWNoKGFyciwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzZXRfaW5kaXZpZHVhbF9zZXJpZXMgJiYgdGhpcy5pZC5tYXRjaCgvc2VyaWVzX2NvbG9yfGxpbmVfc3R5bGVfc2VsZWN0fHNlcmllc190eXBlX2Rpdi8pKSB7IC8vbG9vayBpZiB0aGlzIGlkIGhhcyB0byBkbyB3aXRoIGluZGl2aWR1YWwgc2VyaWVzIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgaW5kaXZpZHVhbF9zZXJpZXNfb3B0aW9ucy5wdXNoKHRoaXMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSBcIkRJVlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChlbGVtZW50KS5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChlbGVtZW50KS5jaGlsZHJlbihcIlt2YWx1ZT0nXCIgKyB0aGlzLnZhbCArIFwiJ11cIikuYWRkQ2xhc3MoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICQoZWxlbWVudCkuY2hpbGRyZW4oXCJbdHlwZT0nXCIgKyB0aGlzLnZhbCArIFwiJ11cIikuY2xpY2soKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQudHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jaGVja2VkID0gdGhpcy52YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQudmFsdWUgPSB0aGlzLnZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gaW5kaXZpZHVhbF9zZXJpZXNfb3B0aW9ucztcbiAgICAgICAgfTsgLy9lbmQgc2V0VmFsdWVzXG5cblxuXG5cblxuICAgICAgICB2YXIgaW5kaXZpZHVhbF9zZXJpZXNfb3B0aW9ucyA9IHNldFZhbHVlcyhpbnB1dCwgZmFsc2UpOyAvL2ZhbHNlIHRvIG5vdCBzZXQgaW5kaXZkdWFsIHNlcmllcyB5ZXRcblxuICAgICAgICAvL2luaXRpYWwgYWxsIGNoYXJ0IG9wdGlvbnMgaW5pdCBhbmQgcmVkcmF3IGNoYXJ0XG4gICAgICAgIHZhciBhbGxDaGFydE9wdGlvbnNJbml0ID0gcmVxdWlyZShcIi4vaW5pdGlhbGl6ZXJzL2NoYXJ0cy9hbGxfY2hhcnRfb3B0aW9uc19pbml0LmpzXCIpO1xuICAgICAgICB2YXIgZHJhd19jaGFydCA9IHJlcXVpcmUoXCIuL2RyYXdfY2hhcnQuanNcIik7XG4gICAgICAgIHZhciBjaGFydF90eXBlID0gJChcIiNjaGFydF90eXBlX2ljb25zIC5zZWxlY3RlZFwiKS5kaXZWYWwoKTtcbiAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMgPSBhbGxDaGFydE9wdGlvbnNJbml0KGNoYXJ0X3R5cGUpO1xuICAgICAgICBjaGFydCA9IHVuZGVmaW5lZDtcbiAgICAgICAgY2hhcnQgPSBkcmF3X2NoYXJ0LmluaXQoYWxsX2NoYXJ0X29wdGlvbnMsIGRyYXdfY2hhcnQuY2hhcnRDYWxsYmFjayk7XG5cbiAgICAgICAgLy9yZWluaXQgZm9ybSB1cGRhdGVzIGJpbmRpbmdzXG4gICAgICAgIHZhciBhbGxGb3JtVXBkYXRlcyA9IHJlcXVpcmUoXCIuL2Zvcm1fdXBkYXRlcy9hbGxfZm9ybV91cGRhdGVzLmpzXCIpO1xuICAgICAgICBhbGxGb3JtVXBkYXRlcyhjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpO1xuXG4gICAgICAgIC8vcmUgcG9wdWxhdGUgdGhlIGluZGl2aWR1YWwgc2VyaWVzIG9wdGlvbnMgZm9ybXNcbiAgICAgICAgdmFyIHVwZGF0ZV9pbmRpdmlkdWFsX3NlcmllcyA9IHJlcXVpcmUoXCIuL2Zvcm1fdXBkYXRlcy91cGRhdGVfaW5kaXZpZHVhbF9zZXJpZXMuanNcIik7XG4gICAgICAgIHVwZGF0ZV9pbmRpdmlkdWFsX3Nlcmllcy5wb3B1bGF0ZUZvcm0oY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICAgICAgc2V0VmFsdWVzKGluZGl2aWR1YWxfc2VyaWVzX29wdGlvbnMsIHRydWUpOyAvL3RydWUgdG8gc2V0IGluZGl2ZHVhbCBzZXJpZXMgbm93XG5cblxuICAgICAgICAvKiAgdHJpZ2dlciBjaGFuZ2VzIHRvIHVwZGF0ZSBjaGFydCAgKi9cblxuICAgICAgICAvL2xpbmUgc3R5bGUgY2hhbmdlc1xuICAgICAgICAkKFwiLmxpbmVfc3R5bGVfc2VsZWN0XCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5jaGFuZ2UoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9pbmRpdmlkdWFsIGNvbG9yIGNoYW5nZXNcbiAgICAgICAgJChcIi5qc2NvbG9yXCIpLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHZhciBjb2xvciA9IFwiI1wiICsgJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgIHVwZGF0ZV9pbmRpdmlkdWFsX3Nlcmllcy51cGRhdGVTZXJpZXNDb2xvcihjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMsIGksIGNvbG9yKTtcbiAgICAgICAgICAgICQodGhpcykuZm9jdXMoKS5ibHVyKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vYWRkIHJlY2Vzc2lvbiBzaGFkaW5nXG4gICAgICAgICQoXCIjY2hhcnRfYWRkX3JlY2Vzc2lvbl9zaGFkaW5nX3NlbGVjdFwiKS5jaGFuZ2UoKTtcblxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7IC8vc2Nyb2xscyB0byB0b3BcblxuICAgIH0sXG5cblxuXG5cbiAgICAvKiogd2hlbiBsb2FkX2NoYXJ0X2J1dHRvbiBpcyBjbGlja2VkLCBsb2FkIHRoZSBpbnB1dCBvcHRpb25zIGZyb20gI2xvYWRfY2hhcnRfdGV4dGFyZWEgYW5kIHVwZGF0ZSB0aGUgY2hhcnQgKiovXG5cbiAgICBpbml0TG9hZDogZnVuY3Rpb24gKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucykge1xuXG4gICAgICAgICQoXCIjbG9hZF9jaGFydF9idXR0b25cIikudW5iaW5kKCkuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlID0gL1wic2F2ZWRfdmFsdWVzXCI6ICooXFxbW1xcc1xcU10rfVxcXSkvOyAvL2xvb2tzIGZvciBzYXZlZCB2YWx1ZXMgYXJyYXkgb2Ygb2JqZWN0c1xuICAgICAgICAgICAgdmFyIGlucHV0ID0gJChcIiNsb2FkX2NoYXJ0X3RleHRhcmVhXCIpLnZhbCgpLm1hdGNoKHJlKVsxXTsgLy9zZXBhcmF0ZSBhbGxfY2hhcnRfb3B0aW9ucyBvYmogZnJvbSB0ZXh0YXJlYVxuXG4gICAgICAgICAgICAkKFwiI2xvYWRfY2hhcnRfZGl2XCIpLmhpZGUoZnVuY3Rpb24gKCkgeyAvL2hpZGUgdGhpcyBhcmVhIChtYWtlcyBsb2FkaW5nIG11Y2ggZmFzdGVyKVxuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0X3JlY2FsbC5sb2FkVmFsdWVzKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucywgaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI3Nob3dfbG9hZF9jaGFydF9hcmVhX2J1dHRvblwiKS5yZW1vdmVDbGFzcyhcImxvYWRfY2hhcnRfc2hvd2luZ1wiKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG5cblxuXG5cbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY2hhcnRfcmVjYWxsOyIsIi8qKiBcbiogQWxsIENoYXJ0IG9wdGlvbnMgY29uc3RydWN0b3IuIENvbWJpbmVzIGFsbCBvdGhlciBvcHRpb25zIGludG8gbWFpbiBvcHRpb25zIG9iamVjdC4gSW5mbyBhdCBodHRwOi8vYXBpLmhpZ2hjaGFydHMuY29tL2hpZ2hjaGFydHMgXG5AY29uc3RydWN0b3IgQWxsQ2hhcnRPcHRpb25zXG5AcGFyYW0gbyB7b2JqZWN0fSBjaGFydCBvcHRpb25zIG9iamVjdFxuKi9cbnZhciBBbGxDaGFydE9wdGlvbnMgPSBmdW5jdGlvbiAobykge1xuICAgIHRoaXMuY2hhcnQgPSBvLmNoYXJ0O1xuICAgIHRoaXMuY29sb3JzID0gby5jb2xvcnM7XG4gICAgdGhpcy5sZWdlbmQgPSBvLmxlZ2VuZDtcbiAgICB0aGlzLnBsb3RPcHRpb25zID0gby5wbG90T3B0aW9ucztcbiAgICB0aGlzLnNlcmllcyA9IG8uc2VyaWVzO1xuICAgIHRoaXMuZHJpbGxkb3duID0gby5kcmlsbGRvd247XG4gICAgdGhpcy5zdWJ0aXRsZSA9IG8uc3VidGl0bGU7XG4gICAgdGhpcy50aXRsZSA9IG8udGl0bGU7XG4gICAgdGhpcy50b29sdGlwID0gby50b29sdGlwO1xuICAgIHRoaXMueEF4aXMgPSBvLnhBeGlzO1xuICAgIHRoaXMueUF4aXMgPSBvLnlBeGlzO1xuICAgIHRoaXMuY3JlZGl0cyA9IG8uY3JlZGl0cztcbiAgLy8gIHRoaXMuZXhwb3J0aW5nID0gby5leHBvcnRpbmc7XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSBBbGxDaGFydE9wdGlvbnM7IiwiLyoqIENoYXJ0IG9wdGlvbnMgY29uc3RydWN0b3IuIEluZm8gYXQgaHR0cDovL2FwaS5oaWdoY2hhcnRzLmNvbS9oaWdoY2hhcnRzI2NoYXJ0XG4qIEBjb25zdHJ1Y3RvciBDaGFydE9wdGlvbnMgXG4qICBAcGFyYW0gbyB7b2JqZWN0fSBjaGFydCBvcHRpb25zIG9iamVjdFxuKi9cbnZhciBDaGFydE9wdGlvbnMgPSBmdW5jdGlvbiAobykge1xuXG4gICAgdGhpcy5yZW5kZXJUbyA9IG8ucmVuZGVyVG8gfHwgXCJjaGFydF9kaXNwbGF5X2FyZWFcIjtcbiAgICB0aGlzLm1hcmdpbiA9IFtvLm1hcmdpblswXSB8fCA5MCwgby5tYXJnaW5bMV0gfHwgNDAsIG8ubWFyZ2luWzJdIHx8IDgwLCBvLm1hcmdpblszXSB8fCA3NV07IC8vW3RvcCxyaWdodCxib3R0b20sbGVmdF1cbiAgICB0aGlzLmJvcmRlcldpZHRoID0gby5ib3JkZXJXaWR0aCB8fCAwO1xuICAgIHRoaXMucGxvdEJvcmRlckNvbG9yID0gby5wbG90Qm9yZGVyQ29sb3IgfHwgJyMwMDAnO1xuICAgIHRoaXMucGxvdEJvcmRlcldpZHRoID0gby5wbG90Qm9yZGVyV2lkdGggfHwgMDtcbiAgICB0aGlzLnR5cGUgPSBvLnR5cGUgfHwgJ2xpbmUnO1xuICAgIHRoaXMuZXZlbnRzID0gby5ldmVudHM7XG4gICAgdGhpcy56b29tVHlwZSA9ICd4eSc7XG4gICAgdGhpcy5hbGlnblRpY2tzID0gby5hbGlnblRpY2tzIHx8IGZhbHNlO1xuICAgIHRoaXMuaWdub3JlSGlkZGVuU2VyaWVzID0gby5pZ25vcmVIaWRkZW5TZXJpZXMgfHwgdHJ1ZTsgLy9mYWxzZSBmb3IgYnViYmxlIGNoYXJ0cyBzbyBidWJibGVzIHdvbid0IHJlc2l6ZVxufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gQ2hhcnRPcHRpb25zOyIsIi8qKiBDcmVkaXRzIG9wdGlvbnMgY29uc3RydWN0b3IuIEluZm8gYXQgaHR0cDovL2FwaS5oaWdoY2hhcnRzLmNvbS9oaWdoY2hhcnRzI2NyZWRpdHNcbiogQGNvbnN0cnVjdG9yIENyZWRpdHMgXG4qICBAcGFyYW0gbyB7b2JqZWN0fSBjcmVkaXRzIG9wdGlvbnMgb2JqZWN0XG4qL1xudmFyIENyZWRpdHMgPSBmdW5jdGlvbiAobykge1xuXG4gICAgdGhpcy5wb3NpdGlvbiA9IHtcbiAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgeDogMTAsXG4gICAgICAgIHk6IG8ucG9zaXRpb24gPyBvLnBvc2l0aW9uLnkgfHwgLTIwIDogLTIwXG4gICAgfTtcblxuICAgIHRoaXMuc3R5bGUgPSB7XG4gICAgICAgIGN1cnNvcjogXCJkZWZhdWx0XCIsXG4gICAgICAgIGNvbG9yOiBcIiMyQzJDMkNcIlxuICAgIH07XG5cbiAgICB0aGlzLnRleHQgPSBvLnRleHQgfHwgXCJcIjtcbiAgICB0aGlzLnVzZUhUTUwgPSB0cnVlO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gQ3JlZGl0czsiLCIvKiogRXhwb3J0aW5nIG9wdGlvbnMgY29uc3RydWN0b3IuIEluZm8gYXQgaHR0cDovL2FwaS5oaWdoY2hhcnRzLmNvbS9oaWdoY2hhcnRzI2V4cG9ydGluZ1xuKiBAY29uc3RydWN0b3IgRXhwb3J0aW5nIFxuKiBAcGFyYW0gbyB7b2JqZWN0fSBleHBvcnRpbmcgb3B0aW9ucyBvYmplY3RcbiovXG52YXIgRXhwb3J0aW5nID0gZnVuY3Rpb24gKG8pIHtcblxuICAgIHRoaXMuYnV0dG9ucyA9IHtcbiAgICAgICAgY29udGV4dEJ1dHRvbjoge1xuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgIHZlcnRpY2FsQWxpZ246ICdib3R0b20nLFxuICAgICAgICAgICAgeDogLTEwXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gRXhwb3J0aW5nOyIsIi8qKiBMZWdlbmQgb3B0aW9ucyBjb25zdHJ1Y3Rvci4gSW5mbyBhdCBodHRwOi8vYXBpLmhpZ2hjaGFydHMuY29tL2hpZ2hjaGFydHMjbGVnZW5kIFxuKiBAY29uc3RydWN0b3IgTGVnZW5kIFxuKiBAcGFyYW0gbyB7b2JqZWN0fSBsZWdlbmQgb3B0aW9ucyBvYmplY3RcbiovXG52YXIgTGVnZW5kID0gZnVuY3Rpb24gKG8pIHtcblxuICAgIHRoaXMuYWxpZ24gPSBvLmFsaWduIHx8ICdsZWZ0JztcbiAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IG8uYmFja2dyb3VuZENvbG9yIHx8ICdub25lJztcbiAgICB0aGlzLmJvcmRlckNvbG9yID0gby5ib3JkZXJDb2xvciB8fCAnbm9uZSc7XG4gICAgdGhpcy5ib3JkZXJXaWR0aCA9IG8uYm9yZGVyV2lkdGggfHwgMDtcbiAgICB0aGlzLmVuYWJsZWQgPSBvLmVuYWJsZWQgfHwgdHJ1ZTtcbiAgICB0aGlzLmZsb2F0aW5nID0gby5mbG9hdGluZyB8fCBmYWxzZTtcbiAgICB0aGlzLml0ZW1EaXN0YW5jZSA9IG8uaXRlbURpc3RhbmNlIHx8IDMwO1xuICAgIHRoaXMuaXRlbVdpZHRoID0gby5pdGVtV2lkdGg7XG4gICAgdGhpcy5sYXlvdXQgPSBvLmxheW91dCB8fCAnaG9yaXpvbnRhbCc7XG4gICAgdGhpcy5yZXZlcnNlZCA9IG8ucmV2ZXJzZWQgfHwgZmFsc2U7XG4gICAgdGhpcy5zaGFkb3cgPSBvLnNoYWRvdyB8fCBmYWxzZTtcbiAgICB0aGlzLnVzZUhUTUwgPSBvLnVzZUhUTUwgfHwgZmFsc2U7XG4gICAgdGhpcy52ZXJ0aWNhbEFsaWduID0gby52ZXJ0aWNhbEFsaWduIHx8ICd0b3AnO1xuICAgIHRoaXMud2lkdGggPSBvLndpZHRoO1xuICAgIHRoaXMueCA9IG8ueCB8fCAwO1xuICAgIHRoaXMueSA9IG8ueSB8fCAzMDtcblxuICAgIHRoaXMuaXRlbVN0eWxlID0ge1xuICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaSwgVmVyZGFuYSwgQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZicsXG4gICAgICAgIGNvbG9yOiAnIzAwMCdcbiAgICB9O1xuICAgIHRoaXMuaXRlbUhpZGRlblN0eWxlID0ge1xuICAgICAgICBjb2xvcjogJ2dyYXknXG4gICAgfTtcbiAgICB0aGlzLml0ZW1Ib3ZlclN0eWxlID0ge1xuICAgICAgICBjdXJzb3I6IG8uaXRlbUhvdmVyU3R5bGUgPyBvLml0ZW1Ib3ZlclN0eWxlLmN1cnNvciB8fCBcInBvaW50ZXJcIiA6IFwicG9pbnRlclwiXG4gICAgfVxuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gTGVnZW5kOyIsIi8qKiBQbG90T3B0aW9ucyBjb25zdHJ1Y3Rvci4gSW5mbyBhdCBodHRwOi8vYXBpLmhpZ2hjaGFydHMuY29tL2hpZ2hjaGFydHMjcGxvdE9wdGlvbnNcbiAqIEBjb25zdHJ1Y3RvciBQbG90T3B0aW9ucyBcbiAqIEBwYXJhbSBvIHtvYmplY3R9IFBsb3RPcHRpb25zIG9wdGlvbnMgb2JqZWN0XG4gKi9cbnZhciBQbG90T3B0aW9ucyA9IGZ1bmN0aW9uIChvKSB7XG5cbiAgICAvL2ZvciBhbGwgY2hhcnQgdHlwZXMuIHZhbHVlcyBhcmUgdW5kZWZpbmVkIGlmIG5vdCBpbiBvLlxuICAgIHRoaXMuc2VyaWVzID0ge1xuICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAgIGxlZ2VuZEl0ZW1DbGljazogby5zZXJpZXMuZXZlbnRzLmxlZ2VuZEl0ZW1DbGlja1xuICAgICAgICB9LFxuICAgICAgICBkYXRhTGFiZWxzOiB7XG4gICAgICAgICAgICBlbmFibGVkOiBvLnNlcmllcy5kYXRhTGFiZWxzLmVuYWJsZWQgfHwgZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgcG9pbnRQbGFjZW1lbnQ6IG8uc2VyaWVzLnBvaW50UGxhY2VtZW50LFxuICAgICAgICBzdGFja2luZzogby5zZXJpZXMuc3RhY2tpbmcsXG4gICAgICAgIHBvaW50UGFkZGluZzogby5zZXJpZXMucG9pbnRQYWRkaW5nLFxuICAgICAgICBncm91cFBhZGRpbmc6IG8uc2VyaWVzLmdyb3VwUGFkZGluZyxcbiAgICAgICAgbWluUG9pbnRMZW5ndGg6IG8uc2VyaWVzLm1pblBvaW50TGVuZ3RoLFxuICAgICAgICBtYXhTaXplOiBvLnNlcmllcy5tYXhTaXplLFxuICAgICAgICBtaW5TaXplOiBvLnNlcmllcy5taW5TaXplLFxuICAgICAgICBzaXplQnk6IG8uc2VyaWVzLnNpemVCeSxcbiAgICAgICAgbGluZVdpZHRoOiBvLnNlcmllcy5saW5lV2lkdGgsXG4gICAgICAgIHN0YXRlczogby5zZXJpZXMuc3RhdGVzLFxuICAgICAgICBtYXJrZXI6IG8uc2VyaWVzLm1hcmtlclxuXG4gICAgfTtcblxuICAgIHRoaXMuYnViYmxlID0ge1xuICAgICAgICB0b29sdGlwOiB7XG4gICAgICAgICAgICBmb2xsb3dQb2ludGVyOiB0cnVlXG4gICAgICAgIH1cbiAgICB9O1xuXG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSBQbG90T3B0aW9uczsiLCIvKiogc2VyaWVzIChhbiBhcnJheSBvZiBvYmpzKSBvcHRpb25zIGNvbnN0cnVjdG9yLiBJbmZvIGF0IGh0dHA6Ly9hcGkuaGlnaGNoYXJ0cy5jb20vaGlnaGNoYXJ0cyNzZXJpZXMgXG4qIEBjb25zdHJ1Y3RvciBTZXJpZXMgXG4qIEBwYXJhbSBvIHtvYmplY3R9IFNlcmllcyBvcHRpb25zIG9iamVjdFxuKi9cbnZhciBTZXJpZXMgPSBmdW5jdGlvbiAobykge1xuXG4gICAgdGhpcy5zZXJpZXMgPSBvIHx8IFt7XG4gICAgICAgICAgXG4gICAgfV07XG5cbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IFNlcmllczsiLCIvKiogc3VidGl0bGUgb3B0aW9ucyBjb25zdHJ1Y3Rvci4gSW5mbyBhdCBodHRwOi8vYXBpLmhpZ2hjaGFydHMuY29tL2hpZ2hjaGFydHMjc3VidGl0bGVcbiogQGNvbnN0cnVjdG9yIFN1YnRpdGxlIFxuKiBAcGFyYW0gbyB7b2JqZWN0fSBTdWJ0aXRsZSBvcHRpb25zIG9iamVjdFxuKi9cbnZhciBTdWJ0aXRsZSA9IGZ1bmN0aW9uIChvKSB7XG5cbiAgICBcbiAgICB0aGlzLnRleHQgPSBvLnRleHQgfHwgXCJcIjtcbiAgICB0aGlzLmFsaWduID0gby5hbGlnbiB8fCBcImxlZnRcIjtcbiAgICBcbiAgICB0aGlzLnN0eWxlID0ge1xuICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxuICAgICAgICBmb250RmFtaWx5OiAnc2Fucy1zZXJpZicsXG4gICAgICAgIGZvbnRXZWlnaHQ6ICdub3JtYWwnLFxuICAgICAgICBmb250U2l6ZTogJzEycHgnXG4gICAgfTtcblxufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gU3VidGl0bGU7IiwiLyoqIFRpdGxlIG9wdGlvbnMgY29uc3RydWN0b3IuIEluZm8gYXQgaHR0cDovL2FwaS5oaWdoY2hhcnRzLmNvbS9oaWdoY2hhcnRzI3RpdGxlXG4qIEBjb25zdHJ1Y3RvciBUaXRsZSBcbiogQHBhcmFtIG8ge29iamVjdH0gVGl0bGUgb3B0aW9ucyBvYmplY3RcbiovXG52YXIgVGl0bGUgPSBmdW5jdGlvbiAobykge1xuICAgIFxuICAgIHRoaXMudGV4dCA9IG8udGV4dCB8fCBcIlwiO1xuICAgIHRoaXMuYWxpZ24gPSBvLmFsaWduIHx8IFwibGVmdFwiO1xuICAgIFxuICAgIHRoaXMuc3R5bGUgPSB7XG4gICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgIGZvbnRGYW1pbHk6ICdzYW5zLXNlcmlmJyxcbiAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgICBmb250U2l6ZTogJzE0cHgnXG4gICAgfTtcblxufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gVGl0bGU7XG5cbiIsIi8qKiBUb29sdGlwIG9wdGlvbnMgY29uc3RydWN0b3IuIEluZm8gYXQgaHR0cDovL2FwaS5oaWdoY2hhcnRzLmNvbS9oaWdoY2hhcnRzI3Rvb2x0aXBcbiAqIEBjb25zdHJ1Y3RvciBUb29sdGlwIFxuICogQHBhcmFtIG8ge29iamVjdH0gVG9vbHRpcCBvcHRpb25zIG9iamVjdFxuICovXG5cbnZhciBUb29sdGlwID0gZnVuY3Rpb24gKG8pIHtcbiAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9ICcjRkVGRkVGJztcbiAgICB0aGlzLmNyb3NzaGFpcnMgPSBvLmNyb3NzaGFpcnMgfHwgW2ZhbHNlLCBmYWxzZV07XG4gICAgdGhpcy5mb3JtYXR0ZXIgPSBvLmZvcm1hdHRlcjtcblxuICAgIHRoaXMuc3R5bGUgPSB7XG4gICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgIGZvbnRGYW1pbHk6ICdDYWxpYnJpLCBWZXJkYW5hLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmJ1xuICAgIH07XG5cbiAgICB0aGlzLnVzZUhUTUwgPSBmYWxzZTtcblxufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gVG9vbHRpcDsiLCIvKiogeEF4aXMgb3B0aW9ucyBjb25zdHJ1Y3Rvci4gSW5mbyBhdCBodHRwOi8vYXBpLmhpZ2hjaGFydHMuY29tL2hpZ2hjaGFydHMjeEF4aXNcbiAqIEBjb25zdHJ1Y3RvciBYQXhpcyBcbiAqIEBwYXJhbSBvIHtvYmplY3R9IFhBeGlzIG9wdGlvbnMgb2JqZWN0XG4gKi9cbnZhciBYQXhpcyA9IGZ1bmN0aW9uIChvKSB7XG5cbiAgICB0aGlzLmNhdGVnb3JpZXMgPSBvLmNhdGVnb3JpZXM7XG4gICAgdGhpcy5ncmlkTGluZUNvbG9yID0gby5ncmlkTGluZUNvbG9yIHx8ICcjYzBjMGMwJztcbiAgICB0aGlzLmdyaWRMaW5lV2lkdGggPSBvLmdyaWRMaW5lV2lkdGggfHwgMDtcbiAgICB0aGlzLmdyaWRMaW5lRGFzaFN0eWxlID0gby5ncmlkTGluZURhc2hTdHlsZSB8fCAnRG90JztcblxuICAgIHRoaXMubGFiZWxzID0ge1xuICAgICAgICBmb3JtYXR0ZXI6IG8ubGFiZWxzID8gby5sYWJlbHMuZm9ybWF0dGVyIHx8IHVuZGVmaW5lZCA6IHVuZGVmaW5lZCxcbiAgICAgICAgcm90YXRpb246IG8ubGFiZWxzID8gby5sYWJlbHMucm90YXRpb24gfHwgMCA6IDAsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhbGlicmksIFZlcmRhbmEsIEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgZm9udFdlaWdodDogJ25vcm1hbCcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXG4gICAgICAgICAgICB0ZXh0T3ZlcmZsb3c6ICdub25lJ1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgdGhpcy5saW5lV2lkdGggPSBvLmxpbmVXaWR0aCB8fCAxLjI7XG4gICAgdGhpcy5saW5lQ29sb3IgPSBvLmxpbmVDb2xvciB8fCAnZ3JheSc7XG4gICAgdGhpcy5tYXggPSBvLm1heCB8fCBudWxsO1xuICAgIHRoaXMubWluID0gby5taW4gfHwgbnVsbDtcbiAgICB0aGlzLnBsb3RCYW5kcyA9IG8ucGxvdEJhbmRzIHx8IFtdO1xuICAgIHRoaXMucGxvdExpbmVzID0gby5wbG90TGluZXMgfHwgW3tcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxuICAgICAgICBcImNvbG9yXCI6IFwiI2MwYzBjMFwiLFxuICAgICAgICBcImRhc2hTdHlsZVwiOiBcInNvbGlkXCIsXG4gICAgICAgIFwid2lkdGhcIjogMFxuICAgIH1dO1xuXG4gICAgdGhpcy50aWNrSW50ZXJ2YWwgPSBvLnRpY2tJbnRlcnZhbCB8fCBudWxsO1xuICAgIHRoaXMudGlja21hcmtQbGFjZW1lbnQgPSBvLnRpY2ttYXJrUGxhY2VtZW50IHx8ICdvbic7XG4gICAgdGhpcy50aWNrUG9zaXRpb24gPSBvLnRpY2tQb3NpdGlvbiB8fCAnb3V0c2lkZSc7XG4gICAgdGhpcy50aWNrQ29sb3IgPSBvLnRpY2tDb2xvciB8fCAnI0MwRDBFMCc7XG5cbiAgICB0aGlzLnRpdGxlID0ge1xuICAgICAgICBhbGlnbjogby50aXRsZS5hbGlnbixcbiAgICAgICAgdXNlSFRNTDogdHJ1ZSxcbiAgICAgICAgdGV4dDogby50aXRsZSA/IG8udGl0bGUudGV4dCB8fCAnJyA6ICcnLFxuICAgICAgICBtYXJnaW46IG8udGl0bGUgPyBvLnRpdGxlLm1hcmdpbiB8fCA2IDogJycsXG4gICAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYWxpYnJpLCBWZXJkYW5hLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdub3JtYWwnLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZicsXG4gICAgICAgICAgICBmb250U2l6ZTogJzEzcHgnXG4gICAgICAgIH0sXG4gICAgICAgIHg6IG8udGl0bGUueFxuICAgIH07XG5cbiAgICB0aGlzLnR5cGUgPSBvLnR5cGU7XG5cbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IFhBeGlzOyIsIi8qKiB5QXhpcyBvcHRpb25zIGNvbnN0cnVjdG9yLiBJbmZvIGF0IGh0dHA6Ly9hcGkuaGlnaGNoYXJ0cy5jb20vaGlnaGNoYXJ0cyN5QXhpc1xuKiBAY29uc3RydWN0b3IgeUF4aXMgXG4qIEBwYXJhbSBvIHtvYmplY3R9IHlBeGlzIG9wdGlvbnMgb2JqZWN0XG4qL1xuXG52YXIgeUF4aXMgPSBmdW5jdGlvbiAobykge1xuXG4gICAgdGhpcy5ncmlkTGluZUNvbG9yID0gby5ncmlkTGluZUNvbG9yIHx8ICcjYzBjMGMwJztcbiAgICB0aGlzLmdyaWRMaW5lV2lkdGggPSBvLmdyaWRMaW5lV2lkdGggfHwgMTtcbiAgICB0aGlzLmdyaWRMaW5lRGFzaFN0eWxlID0gby5ncmlkTGluZURhc2hTdHlsZSB8fCAnRG90JztcblxuICAgIHRoaXMubGFiZWxzID0ge1xuICAgICAgICBcbiAgICAgLy8gICBmb3JtYXQ6IG8ubGFiZWxzID8gby5sYWJlbHMuZm9ybWF0IDoge3ZhbHVlfSxcbiAgICAgICAgZm9ybWF0dGVyOiBvLmxhYmVscyA/IG8ubGFiZWxzLmZvcm1hdHRlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgcm90YXRpb246IG8ubGFiZWxzID8gby5sYWJlbHMucm90YXRpb24gfHwgMCA6IDAsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhbGlicmksIFZlcmRhbmEsIEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgZm9udFdlaWdodDogJ25vcm1hbCcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTJweCdcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIHRoaXMubGluZUNvbG9yID0gby5saW5lQ29sb3IgfHwgJ2dyYXknO1xuICAgIHRoaXMubGluZVdpZHRoID0gby5saW5lV2lkdGggfHwgMTtcbiAgICB0aGlzLm1heCA9IG8ubWF4IHx8IG51bGw7XG4gICAgdGhpcy5taW4gPSBvLm1pbiB8fCBudWxsO1xuICAgIHRoaXMub3Bwb3NpdGUgPSBvLm9wcG9zaXRlIHx8IGZhbHNlO1xuICAgIHRoaXMucGxvdEJhbmRzID0gby5wbG90QmFuZHMgfHwgW107XG5cbiAgICB0aGlzLnBsb3RMaW5lcyA9IG8ucGxvdExpbmVzIHx8IFt7XG4gICAgICAgIFwidmFsdWVcIjogMCxcbiAgICAgICAgXCJjb2xvclwiOiBcIiNjMGMwYzBcIixcbiAgICAgICAgXCJkYXNoU3R5bGVcIjogXCJzb2xpZFwiLFxuICAgICAgICBcIndpZHRoXCI6IDFcbiAgICB9XTtcblxuICAgIHRoaXMudGlja0ludGVydmFsID0gby50aWNrSW50ZXJ2YWwgfHwgbnVsbDtcbiAgICB0aGlzLnRpY2ttYXJrUGxhY2VtZW50ID0gby50aWNrbWFya1BsYWNlbWVudCB8fCAnb24nO1xuICAgIHRoaXMudGlja1Bvc2l0aW9uID0gby50aWNrUG9zaXRpb24gfHwgJ291dHNpZGUnO1xuICAgIHRoaXMudGlja0NvbG9yID0gby50aWNrQ29sb3IgfHwgJyNDMEQwRTAnO1xuICAgIHRoaXMudGlja1dpZHRoID0gby50aWNrV2lkdGggfHwgMTtcblxuICAgIHRoaXMudGl0bGUgPSB7XG4gICAgICAgIHVzZUhUTUw6IHRydWUsXG4gICAgICAgIHRleHQ6IG8udGl0bGUgPyBvLnRpdGxlLnRleHQgfHwgJycgOiAnJyxcbiAgICAgICAgbWFyZ2luOiBvLnRpdGxlID8gby50aXRsZS5tYXJnaW4gfHwgNiA6IDYsXG4gICAgICAgIGFsaWduOiBvLnRpdGxlID8gby50aXRsZS5hbGlnbiB8fCAnbWlkZGxlJyA6ICdtaWRkbGUnLFxuICAgICAgICBvZmZzZXQ6IDIwLFxuICAgICAgICByb3RhdGlvbjogMCxcbiAgICAgICAgeDogby50aXRsZSA/IG8udGl0bGUueCB8fCAzNSA6IDM1LFxuICAgICAgICB5OiBvLnRpdGxlID8gby50aXRsZS55IHx8IC0xNSA6IC0xNSxcbiAgICAgICAgXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhbGlicmksIFZlcmRhbmEsIEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgZm9udFdlaWdodDogJ25vcm1hbCcsXG4gICAgICAgICAgICBmb250U2l6ZTogJzEzcHgnXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy50eXBlID0gby50eXBlIHx8ICdsaW5lYXInO1xuXG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSB5QXhpczsiLCIvKiogdGFrZXMgYWxsX2NoYXJ0X29wdGlvbnMgYW5kIHByaW50cyBhIGNoYXJ0IHRvIHRoZSBzY3JlZW4gXG5AbmFtZXNwYWNlXG4qL1xuXG52YXIgZHJhd19jaGFydCA9IHtcblxuICAgIGNoYXJ0Q2FsbGJhY2s6IGZ1bmN0aW9uIChhbGxfY2hhcnRfb3B0aW9ucykge1xuICAgICAgICBcbiAgICAgICAgaWYgKGFsbF9jaGFydF9vcHRpb25zLnRpbWVsaW5lKXsgLy9jYWxsIGFuaW1hdGlvbiBpZiBhcHBsaWNhYmxlXG4gICAgICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy50aW1lbGluZS5hbmltYXRpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQoXCIuaGlnaGNoYXJ0cy1sZWdlbmQtaXRlbVwiKS5jc3MoXCJtaW4taGVpZ2h0XCIsIFwiMHB4XCIpLmNzcyhcInotaW5kZXhcIiwgMTAwKTsgLy9maXggc28gQ01TIENTUyBkb2Vzbid0IG1ha2UgbGVnZW5kIHRhbGxlciB0aGFuIGl0IHNob3VsZFxuICAgICAgICAkKFwiLmhpZ2hjaGFydHMtdG9vbHRpcFwiKS5jc3MoXCJ6LWluZGV4XCIsIDIwMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhpZ2hjaGFydHMgcGx1Z2luIGZvciBzZXR0aW5nIGEgbG93ZXIgb3BhY2l0eSBmb3Igb3RoZXIgc2VyaWVzIHRoYW4gdGhlIG9uZSB0aGF0IGlzIGhvdmVyZWRcbiAgICAgICAgICogaW4gdGhlIGxlZ2VuZFxuICAgICAgICAgKi9cbiAgICAgICAgKGZ1bmN0aW9uIChIaWdoY2hhcnRzKSB7XG4gICAgICAgICAgICB2YXIgZWFjaCA9IEhpZ2hjaGFydHMuZWFjaDtcblxuICAgICAgICAgICAgSGlnaGNoYXJ0cy53cmFwKEhpZ2hjaGFydHMuTGVnZW5kLnByb3RvdHlwZSwgJ3JlbmRlckl0ZW0nLCBmdW5jdGlvbiAocHJvY2VlZCwgaXRlbSkge1xuXG4gICAgICAgICAgICAgICAgcHJvY2VlZC5jYWxsKHRoaXMsIGl0ZW0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIGlzUG9pbnQgPSAhIWl0ZW0uc2VyaWVzLFxuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uID0gaXNQb2ludCA/IGl0ZW0uc2VyaWVzLnBvaW50cyA6IHRoaXMuY2hhcnQuc2VyaWVzLFxuICAgICAgICAgICAgICAgICAgICBncm91cHMgPSBpc1BvaW50ID8gWydncmFwaGljJ10gOiBbJ2dyb3VwJywgJ21hcmtlckdyb3VwJ10sXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSAodGhpcy5vcHRpb25zLnVzZUhUTUwgPyBpdGVtLmxlZ2VuZEl0ZW0gOiBpdGVtLmxlZ2VuZEdyb3VwKS5lbGVtZW50O1xuXG4gICAgICAgICAgICAgICAgZWxlbWVudC5vbm1vdXNlb3ZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbiAoc2VyaWVzSXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcmllc0l0ZW0gIT09IGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoKGdyb3VwcywgZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcmllc0l0ZW1bZ3JvdXBdLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC4yNVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTUwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxlbWVudC5vbm1vdXNlb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBlYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uIChzZXJpZXNJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VyaWVzSXRlbSAhPT0gaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhY2goZ3JvdXBzLCBmdW5jdGlvbiAoZ3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWVzSXRlbVtncm91cF0uYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfShIaWdoY2hhcnRzKSk7IC8vZW5kIGdyYXkgb3RoZXIgc2VyaWVzIHBsdWdpblxuXG5cbiAgICB9LFxuXG5cbiAgICAvKiogaW5pdGlhbGl6ZSBmdW5jdGlvbiAqKi9cbiAgICBpbml0OiBmdW5jdGlvbiAoYWxsX2NoYXJ0X29wdGlvbnMsIGNoYXJ0Q2FsbGJhY2spIHtcblxuICAgICAgICAkKFwiLmNoYXJ0X2Rpc3BsYXlfYXJlYVwiKS5hdHRyKFwiaWRcIiwgYWxsX2NoYXJ0X29wdGlvbnMuY2hhcnQucmVuZGVyVG8pOyAvL2NoYW5nZSBJRCBvZiBjaGFydCBhcmVhIHRvIG1ha2Ugc3VyZSBpdCBtYXRjaGVzIHRoZSByZW5kZXJUbyB2YWx1ZVxuXG4gICAgICAgIC8vc2V0IGhpZ2hjaGFydHMgZ2xvYmFscyBkZWZhdWx0XG4gICAgICAgIEhpZ2hjaGFydHMuc2V0T3B0aW9ucyh7XG4gICAgICAgICAgICBsYW5nOiB7XG4gICAgICAgICAgICAgICAgdGhvdXNhbmRzU2VwOiAnLCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGNoYXJ0ID0gbmV3IEhpZ2hjaGFydHMuQ2hhcnQoYWxsX2NoYXJ0X29wdGlvbnMsIGRyYXdfY2hhcnQuY2hhcnRDYWxsYmFjayhhbGxfY2hhcnRfb3B0aW9ucykpO1xuICAgICAgICByZXR1cm4gY2hhcnQ7XG4gICAgfSxcblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRyYXdfY2hhcnQ7IiwidmFyIGNhbGN1bGF0ZV9yZWNlc3Npb25fZGF0ZXMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY2FsY3VsYXRlX3JlY2Vzc2lvbl9kYXRlcy5qc1wiKTtcbnZhciBuYXZpZ2F0aW9uX3NldHVwID0gcmVxdWlyZShcIi4uL25hdmlnYXRpb25fc2V0dXAuanNcIik7XG52YXIgdXBkYXRlX3RlbXBsYXRlID0gcmVxdWlyZShcIi4vdXBkYXRlX3RlbXBsYXRlLmpzXCIpO1xudmFyIHVwZGF0ZUNoYXJ0VHlwZSA9IHJlcXVpcmUoXCIuL3VwZGF0ZV9jaGFydF90eXBlLmpzXCIpO1xudmFyIHVwZGF0ZUNvbG9ycyA9IHJlcXVpcmUoXCIuL3VwZGF0ZV9jb2xvcnMuanNcIik7XG52YXIgdXRpbHNfZm9ybXMgPSByZXF1aXJlKFwiLi4vdXRpbHMvdXRpbHNfZm9ybXMuanNcIik7XG52YXIgdXRpbHNfbWFpbiA9IHJlcXVpcmUoXCIuLi91dGlscy91dGlsc19tYWluLmpzXCIpO1xudmFyIHVwZGF0ZV9sZWdlbmQgPSByZXF1aXJlKFwiLi91cGRhdGVfbGVnZW5kLmpzXCIpO1xudmFyIHVwZGF0ZV94X2F4aXMgPSByZXF1aXJlKFwiLi91cGRhdGVfeF9heGlzLmpzXCIpO1xudmFyIHVwZGF0ZV95X2F4aXMgPSByZXF1aXJlKFwiLi91cGRhdGVfeV9heGlzLmpzXCIpO1xudmFyIHVwZGF0ZV90b29sdGlwID0gcmVxdWlyZShcIi4vdXBkYXRlX3Rvb2x0aXAuanNcIik7XG52YXIgdXBkYXRlX2RhdGEgPSByZXF1aXJlKFwiLi91cGRhdGVfZGF0YS5qc1wiKTtcbnZhciB1cGRhdGVfY3JlZGl0cyA9IHJlcXVpcmUoXCIuL3VwZGF0ZV9jcmVkaXRzLmpzXCIpO1xudmFyIHVwZGF0ZV9jaGFydF9vcHRpb25zID0gcmVxdWlyZShcIi4vdXBkYXRlX2NoYXJ0X29wdGlvbnMuanNcIik7XG52YXIgY2hhcnRfcmVjYWxsID0gcmVxdWlyZShcIi4uL2NoYXJ0X3JlY2FsbC5qc1wiKTtcbnZhciB1cGRhdGVfaW5kaXZpZHVhbF9zZXJpZXMgPSByZXF1aXJlKFwiLi91cGRhdGVfaW5kaXZpZHVhbF9zZXJpZXMuanNcIik7XG52YXIgdXBkYXRlX21hcF9wYWxldHRlcyA9IHJlcXVpcmUoXCIuL3VwZGF0ZV9tYXBfcGFsZXR0ZXMuanNcIik7XG5cbnZhciBtYXBfaW5pdCA9IHJlcXVpcmUoXCIuLi9pbml0aWFsaXplcnMvbWFwcy9tYXBfaW5pdC5qc1wiKTtcbnZhciBtYXBfY29sb3JzX2luaXQgPSByZXF1aXJlKFwiLi4vaW5pdGlhbGl6ZXJzL21hcHMvbWFwX2NvbG9yc19pbml0LmpzXCIpO1xuXG5cblxuLyoqIGxpc3RlbnMgZm9yIGFueSBmb3JtIHVwZGF0ZXMgYW5kIGNhbGxzIGFwcHJvcHJpYXRlIGZ1bmN0aW9uIFxuQG1vZHVsZVxuKi9cbnZhciBhbGxGb3JtVXBkYXRlcyA9IGZ1bmN0aW9uIChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMsIGFsbF9tYXBfb3B0aW9ucykge1xuXG5cbiAgICAvKiBDSEFSVCBUWVBFIENIQU5HRVMgKi9cblxuXG4gICAgLyoqIGhpZ2hsaWdodHMgdGhlIGljb24gY2xpY2tlZCBieSBhZGRpbmcgJ3NlbGVjdGVkJyBjbGFzcyAqKi9cbiAgICBhbGxGb3JtVXBkYXRlcy5zZWxlY3RDaGFydCA9IGZ1bmN0aW9uIChzZWxlY3RlZCkge1xuICAgICAgICAvL2NoYW5nZSBzZWxlY3RlZCBpY29uXG4gICAgICAgICQoXCIjY2hhcnRfdHlwZV9pY29ucyAuY2hhcnRfdHlwZV9pY29uXCIpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7XG4gICAgICAgICQoc2VsZWN0ZWQpLmFkZENsYXNzKFwic2VsZWN0ZWRcIik7XG5cbiAgICB9O1xuXG5cblxuICAgIC8qKiBzaG93cyBhbmQgaGlkZXMgZWxlbWVudHMgZGVwZW5kaW5nIG9uIHdoYXQgY2hhcnQgdHlwZSBpcyBzZWxlY3RlZCAqKi9cbiAgICBhbGxGb3JtVXBkYXRlcy5kaXNwbGF5T3B0aW9ucyA9IGZ1bmN0aW9uIChjaGFydF90eXBlKSB7XG5cbiAgICAgICAgLy9yZXNldCBhbGVydCBtZXNzYWdlIHRvIG5vdGhpbmdcbiAgICAgICAgJChcIi5hbGVydC1kYW5nZXJcIikudGV4dChcIlwiKTtcblxuICAgICAgICAkKFwiLmNoYXJ0X3RhYiwgLmRpc3BsYXlfb3B0aW9ucz4qXCIpLm5vdChcIi5ub3Rlc1wiKS5zaG93KCk7IC8vc3RhcnQgc2hvd2luZyBhbGwsIGFuZCBtaWdodCBoaWRlIGxhdGVyIGlmIG1hcCBzZWxlY3RlZFxuICAgICAgICAkKFwiLmp1c3RfbWFwXCIpLmhpZGUoKTsgLy9oaWRlIGp1c3QgbWFwIHN0dWZmXG5cbiAgICAgICAgLy9oaWRlIHN0dWZmIHVucmVsYXRlZCB0byB0aGF0IGNoYXJ0IHR5cGUgKGxpbmUsIGJhciwgY29sdW1uKVxuICAgICAgICBpZiAoW1wiYXJlYVwiLCBcImxpbmVcIiwgXCJiYXJcIiwgXCJjb2x1bW5cIiwgXCJzdGFja2VkX2NvbHVtblwiLCBcInN0YWNrZWRfYmFyXCJdLmluZGV4T2YoY2hhcnRfdHlwZSkgPiAtMSkgeyAvL2lmIG9uZSBvZiB0aGVzZVxuICAgICAgICAgICAgJChcIi5zaG93X2xpbmUsIC5zaG93X2JhciwgLnNob3dfY29sdW1uXCIpLnNob3coKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoXCIuc2hvd19saW5lLCAuc2hvd19iYXIsIC5zaG93X2NvbHVtblwiKS5oaWRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2hpZGUgYWxsIGNsYXNzZXMgd2l0aCBqdXN0XyAuLi5cbiAgICAgICAgJChcIi5qdXN0X2RyaWxsZG93biwgLmp1c3Rfc2NhdHRlciwgLmp1c3RfYnViYmxlLCAuanVzdF9jb2x1bW4sIC5qdXN0X2JhciwgLmp1c3RfYXJlYXJhbmdlLCAuanVzdF9jb2x1bW5yYW5nZVwiKS5oaWRlKCk7XG5cbiAgICAgICAgLy9zaG93IGp1c3RfLi4uXG4gICAgICAgIGlmIChbXCJzY2F0dGVyXCIsIFwiZHJpbGxkb3duXCIsIFwiYnViYmxlXCIsIFwiYmFyXCIsIFwiY29sdW1uXCIsIFwic3RhY2tlZF9jb2x1bW5cIiwgXCJzdGFja2VkX2JhclwiLCBcImFyZWFyYW5nZVwiLCBcImNvbHVtbnJhbmdlXCJdLmluZGV4T2YoY2hhcnRfdHlwZSkgPiAtMSkge1xuICAgICAgICAgICAgJChcIi5qdXN0X1wiICsgY2hhcnRfdHlwZS5yZXBsYWNlKFwic3RhY2tlZF9cIiwgXCJcIikpLnNob3coKTtcbiAgICAgICAgICAgICQoXCIuc2hvd19cIiArIGNoYXJ0X3R5cGUucmVwbGFjZShcInN0YWNrZWRfXCIsIFwiXCIpKS5zaG93KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2lmIGRyaWxsZG93biwgaGlkZSB1bnJlbGF0ZWRcbiAgICAgICAgaWYgKGNoYXJ0X3R5cGUgPT09IFwiZHJpbGxkb3duXCIpIHtcbiAgICAgICAgICAgICQoXCIjdGFiX3Nlcmllc19vcHRpb25zXCIpLmhpZGUoKTtcbiAgICAgICAgICAgIGlmICgkKFwiI2RyaWxsZG93bl90eXBlX3NlbGVjdFwiKS52YWwoKSA9PT0gXCJidWJibGVcIikge1xuICAgICAgICAgICAgICAgICQoXCIuanVzdF9idWJibGVcIikuc2hvdygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKFwiI3RhYl9zZXJpZXNfb3B0aW9uc1wiKS5zaG93KCk7XG4gICAgICAgIH1cblxuICAgIH07XG5cblxuXG4gICAgLyogd2hlbiBjaGFydCB0eXBlIGljb24gaXMgY2xpY2tlZCBhbmQgY2hhbmdlZCAqL1xuXG4gICAgJCgnLmNoYXJ0X3R5cGVfaWNvbicpLnVuYmluZCgpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblxuXG4gICAgICAgIGFsbEZvcm1VcGRhdGVzLnNlbGVjdENoYXJ0KHRoaXMpO1xuICAgICAgICB2YXIgY2hhcnRfdHlwZSA9ICQodGhpcykuZGl2VmFsKCk7XG4gICAgICAgIGFsbEZvcm1VcGRhdGVzLmRpc3BsYXlPcHRpb25zKGNoYXJ0X3R5cGUpO1xuXG4gICAgICAgIHVwZGF0ZUNoYXJ0VHlwZShjaGFydF90eXBlLCBjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpO1xuXG5cbiAgICAgICAgaWYgKGNoYXJ0X3R5cGUgPT09IFwibWFwXCIpIHsgLy9pZiBtYXBcbiAgICAgICAgICAgICQoXCIuY2hhcnRfZGlzcGxheV9hcmVhXCIpLmhpZGUoKTtcbiAgICAgICAgICAgICQoXCIubWFwX2Rpc3BsYXlfYXJlYVwiKS5zaG93KCk7XG5cbiAgICAgICAgICAgIG1hcF9jb2xvcnNfaW5pdC5sb2FkTWFwQ29sb3JQYWxldHRlcyg0KTsgLy9sb2FkcyBjb2xvciBwYWxldHRlcyB0aGVuIGxvYWRzIG5ldyBtYXBcblxuXG4gICAgICAgIH0gZWxzZSB7IC8vaWYgbm90IG1hcFxuICAgICAgICAgICAgJChcIi5tYXBfZGlzcGxheV9hcmVhXCIpLmhpZGUoKTtcbiAgICAgICAgICAgICQoXCIuY2hhcnRfZGlzcGxheV9hcmVhXCIpLnNob3coKTtcbiAgICAgICAgICAgIGNoYXJ0LnJlZmxvdygpO1xuICAgICAgICAgICAgbmF2aWdhdGlvbl9zZXR1cC5jaGFydENsaWNrcygpO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG5cblxuICAgIC8qIHdoZW4gbWFwIHR5cGUgaWNvbiBpcyBjbGlja2VkIGRvbid0IHVuYmluZCB0aGlzICovXG4gICAgJChcIiNjaGFydF90eXBlX21hcFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFsbEZvcm1VcGRhdGVzLnNlbGVjdENoYXJ0KHRoaXMpO1xuICAgICAgICAkKFwiLmNoYXJ0X3RhYlwiKS5ub3QoXCIubWFwX3RhYlwiKS5oaWRlKCk7XG4gICAgICAgICQoXCIuZGlzcGxheV9vcHRpb25zOmd0KDApPipcIikubm90KFwiLm5vdGVzXCIpLm5vdChcIi5zaG93X21hcFwiKS5oaWRlKCk7IC8vaGlkZSBldmVyeXRoaW5nIGV4Y2VwdCBtYXAgcmVsZXZlbnQgb3B0aW9uc1xuICAgICAgICAkKFwiLmp1c3RfbWFwXCIpLnNob3coKTtcbiAgICAgICAgJChcIiNjaGFydF9jcmVkaXRzX3RleHRfdGV4dGFyZWFcIikudmFsKFwiSG92ZXIgb3ZlciBhbiBhcmVhIHRvIHNlZSBkYXRhLlxcbkhvdmVyIG92ZXIgbGVnZW5kIGl0ZW1zIHRvIHNlZSBhcmVhcyBpbiBhIGNhdGVnb3J5LlxcblNvdXJjZTogVS5TLiBCdXJlYXUgb2YgTGFib3IgU3RhdGlzdGljcy5cIik7IC8vdXBkYXRlIGNyZWRpdHMgYXJlYVxuXG4gICAgfSk7XG5cblxuICAgIC8qIHdoZW4gZHJpbGxkb3duIHR5cGUgZHJvcGRvd24gaXMgY2hhbmdlZCAqL1xuXG4gICAgJChcIiNkcmlsbGRvd25fdHlwZV9zZWxlY3RcIikudW5iaW5kKCkuY2hhbmdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdXBkYXRlQ2hhcnRUeXBlKFwiZHJpbGxkb3duXCIsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG5cbiAgICB9KTtcblxuICAgIC8qIHdoZW4gYW5pbWF0ZWQgYnViYmxlIGNoZWNrYm94IGlzIGNsaWNrZWQgKi9cblxuXG4gICAgJChcIiNidWJibGVfYW5pbWF0ZWRfY2hlY2tib3hcIikudW5iaW5kKCkuY2hhbmdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJChcIi5jaGFydF9hbmltYXRpb25fZGl2XCIpLnJlbW92ZSgpO1xuICAgICAgICB1cGRhdGVDaGFydFR5cGUoXCJidWJibGVcIiwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMudGltZWxpbmUgPSBudWxsO1xuICAgICAgICB1cGRhdGVfZGF0YS51cGRhdGVEYXRhKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG5cbiAgICB9KTtcblxuXG5cbiAgICAvKiBURU1QTEFURSBDSEFOR0VTICovXG5cblxuICAgIC8vY2hhcnQgSURcbiAgICAkKFwiI2NoYXJ0X2lkX3RleHRpbnB1dFwiKS51bmJpbmQoKS5rZXl1cChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChhbGxfY2hhcnRfb3B0aW9ucy5jaGFydC50eXBlID09PSBcIm1hcFwiKSB7IC8vZm9yIG1hcHNcbiAgICAgICAgICAgIG1hcF9pbml0LmxvYWROZXdNYXAoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zLCBhbGxfbWFwX29wdGlvbnMsIGZhbHNlKTsgLy8gdHJ1ZSB0byByZXBvcHVsYXRlIGZvcm1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZV90ZW1wbGF0ZS5jaGFuZ2VJRCgkKHRoaXMpLnZhbCgpLCBhbGxfY2hhcnRfb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLy9jaGFydCB3aWR0aFxuICAgICQoXCIjY2hhcnRfd2lkdGhfdGV4dGlucHV0XCIpLnVuYmluZCgpLmtleXVwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdXBkYXRlX3RlbXBsYXRlLnJlc2l6ZSgkKHRoaXMpLnZhbCgpLCBcIndpZHRoXCIsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG4gICAgfSk7XG5cbiAgICAvL2NoYXJ0IGhlaWdodFxuICAgICQoXCIjY2hhcnRfaGVpZ2h0X3RleHRpbnB1dFwiKS51bmJpbmQoKS5rZXl1cChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHVwZGF0ZV90ZW1wbGF0ZS5yZXNpemUoJCh0aGlzKS52YWwoKSwgXCJoZWlnaHRcIiwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICB9KTtcblxuICAgIC8vaW5uZXIgY2hhcnQgbWFyZ2luc1xuICAgICQoXCIubWFyZ2luX2lucHV0XCIpLnVuYmluZCgpLmtleXVwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hcmdpbnNfYXJyID0gdXRpbHNfZm9ybXMuZ2V0Q2xhc3NWYWx1ZXNBcnJheShcIm1hcmdpbl9pbnB1dFwiKTtcbiAgICAgICAgdXBkYXRlX3RlbXBsYXRlLm1hcmdpbihtYXJnaW5zX2FyciwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICB9KTtcblxuXG5cblxuICAgIC8qIENIQVJUIERBVEEgQ0hBTkdFUyAtICh4LWF4aXMgY2F0ZWdvcmllcyBhbmQgc2VyaWVzIGFycmF5KSAqL1xuXG4gICAgLy9cInNlcmllcyBuYW1lcyBsb2FkZWQgZnJvbVwiIGljb24gY2xpY2tlZFxuICAgICQoXCIjdGFibGVfaW5wdXRfbG9hZF9zZXJpZXNfZnJvbV9pY29ucyAubG9hZF9zZXJpZXNfZnJvbV9pY29uXCIpLnVuYmluZCgpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9jaGFuZ2Ugc2VsZWN0ZWQgaWNvblxuICAgICAgICAkKFwiI3RhYmxlX2lucHV0X2xvYWRfc2VyaWVzX2Zyb21faWNvbnMgLnNlbGVjdGVkXCIpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJzZWxlY3RlZFwiKTtcblxuXG4gICAgICAgIHVwZGF0ZV9kYXRhLnVwZGF0ZURhdGEoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICAgICAgdXBkYXRlX2luZGl2aWR1YWxfc2VyaWVzLnBvcHVsYXRlRm9ybShjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpO1xuXG5cbiAgICB9KTtcblxuXG5cblxuICAgIC8vdGFibGUgaW5wdXQgdGV4dGFyZWFcbiAgICAkKFwiI3RhYmxlX2lucHV0X3RleHRhcmVhXCIpLnVuYmluZCgpLmJpbmQoJ2JsdXIgcGFzdGUnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgaWYgKGFsbF9jaGFydF9vcHRpb25zLmNoYXJ0LnR5cGUgPT09IFwibWFwXCIpIHsgLy9mb3IgbWFwc1xuICAgICAgICAgICAgbWFwX2luaXQubG9hZE5ld01hcChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMsIGFsbF9tYXBfb3B0aW9ucywgdHJ1ZSk7IC8vIHRydWUgdG8gcmVwb3B1bGF0ZSBmb3JtXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cGRhdGVfZGF0YS51cGRhdGVEYXRhKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7IC8vZm9yIGNoYXJ0c1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuXG5cbiAgICAvL2V4YW1wbGUgdGFibGUgc2VsZWN0IG1lbnVcbiAgICAkKFwiI2V4YW1wbGVfdGFibGVfc2VsZWN0XCIpLnVuYmluZCgpLmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIFxuICAgICAgICB2YXIgbmV3X3RhYmxlX2ZpbGUgPSBcIi4vZGV2L3Rlc3RfdGFibGVzL1wiICsgJCh0aGlzKS52YWwoKSArIFwiLmh0bVwiO1xuXG4gICAgICAgICQuZ2V0KG5ld190YWJsZV9maWxlLCBmdW5jdGlvbiAodGFibGUpIHtcbiAgICAgICAgICAgICQoXCIjdGFibGVfaW5wdXRfdGV4dGFyZWFcIikudmFsKHRhYmxlKTtcbiAgICAgICAgICAgICQoXCIjY2hhcnRfdHlwZV9pY29ucyAuc2VsZWN0ZWRcIikuY2xpY2soKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cblxuXG5cbiAgICAvKiBDT0xPUiBQQUxFVFRFIENIQU5HRVMgLSBkZWZpbmVkIGFuZCBpbml0aWF0ZWQgaW4gbmF2aWdhdGlvbiBzZXR1cCovXG5cbiAgICAvL2NoYXJ0IGNvbG9yIHBhbGV0dGVzXG4gICAgYWxsRm9ybVVwZGF0ZXMuY29sb3JQYWxldHRlUm93Q2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFxuICAgICAgICAkKFwiLmNvbG9yX3BhbGV0dGVfcm93XCIpLnVuYmluZCgpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjaGFydF90eXBlID0gJChcIiNjaGFydF90eXBlX2ljb25zIC5zZWxlY3RlZFwiKS5kaXZWYWwoKTsgLy9uZWVkIGNoYXJ0IHR5cGUgYmVjYXVzZSBkcmlsbCBpcyBjb2xvcmVkIGRpZmZlcmVudGx5XG4gICAgICAgICAgICAkKFwiLmNvbG9yX3BhbGV0dGVfcm93XCIpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7XG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwic2VsZWN0ZWRcIik7XG4gICAgICAgICAgICB1cGRhdGVDb2xvcnMoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zLCBjaGFydF90eXBlKTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICAvL21hcCBjb2xvciBwYWxldHRlc1xuICAgICAgICAkKFwiLm1hcF9jb2xvcl9wYWxldHRlX3Jvd1wiKS51bmJpbmQoKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICQoXCIubWFwX2NvbG9yX3BhbGV0dGVfcm93XCIpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7XG4gICAgICAgICAgICB2YXIgY29sb3JfcGFsZXR0ZSA9ICQodGhpcyk7XG4gICAgICAgICAgICBjb2xvcl9wYWxldHRlLmFkZENsYXNzKFwic2VsZWN0ZWRcIik7XG4gICAgICAgICAgICAkKFwiI2Rpc3BsYXlfc2VyaWVzX29wdGlvbnNfaW5uZXJfZGl2XCIpLmVtcHR5KCk7IC8vZW1wdHlzIHRoZSBpbmRpdmlkdWFsIGNob2ljZXMgYXJlYSBzbyBjb2xvcnMgYXJlIHJlZG9uZS5cbiAgICAgICAgICAgIG1hcF9pbml0LmxvYWROZXdNYXAoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zLCBhbGxfbWFwX29wdGlvbnMsIHRydWUpOyAvLyB0cnVlIHRvIHJlcG9wdWxhdGUgZm9ybVxuXG4gICAgICAgIH0pO1xuXG5cbiAgICB9XG5cblxuICAgIC8vIHdoZW4gcGFnZSBsb2FkcywgbG9hZCB0aGUgY2hhcnQgcGFsZXR0ZXNcblxuICAgIGlmICgkKFwiI2NvbG9yX3BhbGV0dGVzXCIpLmNoaWxkcmVuKCkubGVuZ3RoIDwgMSkge1xuICAgICAgICAkKFwiI2NvbG9yX3BhbGV0dGVzXCIpLmxvYWQoXCIuL2NvbXBvbmVudHMvY29sb3JfcGFsZXR0ZXMuaHRtXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGFsbEZvcm1VcGRhdGVzLmNvbG9yUGFsZXR0ZVJvd0NsaWNrKCk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFsbEZvcm1VcGRhdGVzLmNvbG9yUGFsZXR0ZVJvd0NsaWNrKCk7IC8vIHJ1bnMgd2hlbiB0aGlzIG1haW4gZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggY2hhcnRfcmVjYWxsXG4gICAgfVxuXG5cblxuXG5cbiAgICAvKiBMRUdFTkQgQ0hBTkdFUyAqL1xuXG4gICAgLy9sZWdlbmQgbGF5b3V0IGNoYW5nZWRcbiAgICAkKFwiI2xlZ2VuZF9sYXlvdXRfc2VsZWN0XCIpLnVuYmluZCgpLmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHVwZGF0ZV9sZWdlbmQudXBkYXRlTGF5b3V0KCQodGhpcykudmFsKCksIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG4gICAgfSk7XG5cblxuICAgIC8vbGVnZW5kIGl0ZW0gd2lkdGggY2hhbmdlZFxuXG4gICAgJChcIiNsZWdlbmRfaXRlbV93aWR0aF9pbnB1dFwiKS51bmJpbmQoKS5rZXl1cChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXdJdGVtV2lkdGggPSB1dGlsc19tYWluLmNoZWNrRm9yVW5kZWZpbmVkKCQodGhpcykudmFsKCkpO1xuICAgICAgICB1cGRhdGVfbGVnZW5kLnVwZGF0ZUl0ZW1XaWR0aChuZXdJdGVtV2lkdGgsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG5cbiAgICB9KTtcblxuXG4gICAgLy9sZWdlbmQgcmV2ZXJzZSBjZWNrYm94IGNoYW5nZWRcbiAgICAkKFwiI2xlZ2VuZF9yZXZlcnNlX2xheW91dF9jaGVja2JveCwgI21hcF9sZWdlbmRfZW5hYmxlZF9jaGVja2JveFwiKS51bmJpbmQoKS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgICBcbiAgICAgICAgaWYgKGFsbF9jaGFydF9vcHRpb25zLmNoYXJ0LnR5cGUgPT09IFwibWFwXCIpIHsgLy9mb3IgbWFwc1xuICAgICAgICAgICAgbWFwX2luaXQubG9hZE5ld01hcChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMsIGFsbF9tYXBfb3B0aW9ucywgdHJ1ZSk7IC8vIHRydWUgdG8gcmVwb3B1bGF0ZSBmb3JtXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gdXRpbHNfZm9ybXMuZ2V0Q2hlY2tCb3hWYWx1ZSgkKHRoaXMpKTtcbiAgICAgICAgICAgIHVwZGF0ZV9sZWdlbmQudXBkYXRlSXNSZXZlcnNlZCh2YWwsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuXG4gICAgLy9sZWdlbmQgdG9nZ2xlIChoaWRlIG90aGVycykgY2hlY2tib3ggY2hhbmdlZFxuICAgICQoXCIjbGVnZW5kX21ha2VfdG9nZ2xlX2NoZWNrYm94XCIpLnVuYmluZCgpLmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0b2dnbGVfZW5hYmxlZCA9IHV0aWxzX2Zvcm1zLmdldENoZWNrQm94VmFsdWUoJCh0aGlzKSk7XG4gICAgICAgIHVwZGF0ZV9sZWdlbmQudXBkYXRlVG9nZ2xlKHRvZ2dsZV9lbmFibGVkLCBjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpO1xuICAgIH0pO1xuXG4gICAgLy9sZWdlbmQgWCBvciBZIHBsYWNlbWVudCB2YWx1ZXMgY2hhbmdlZFxuICAgICQoXCIjbGVnZW5kX3BsYWNlbWVudF94LCAjbGVnZW5kX3BsYWNlbWVudF95XCIpLnVuYmluZCgpLmtleXVwKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAoYWxsX2NoYXJ0X29wdGlvbnMuY2hhcnQudHlwZSA9PT0gXCJtYXBcIikgeyAvL2ZvciBtYXBzXG4gICAgICAgICAgICBtYXBfaW5pdC5sb2FkTmV3TWFwKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucywgYWxsX21hcF9vcHRpb25zLCB0cnVlKTsgLy8gdHJ1ZSB0byByZXBvcHVsYXRlIGZvcm1cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgdmFyIG5ld1ggPSBOdW1iZXIoJChcIiNsZWdlbmRfcGxhY2VtZW50X3hcIikudmFsKCkpO1xuICAgICAgICAgICAgdmFyIG5ld1kgPSBOdW1iZXIoJChcIiNsZWdlbmRfcGxhY2VtZW50X3lcIikudmFsKCkpO1xuXG4gICAgICAgICAgICB1cGRhdGVfbGVnZW5kLnVwZGF0ZVhZcG9zaXRpb25zKG5ld1gsIG5ld1ksIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuXG5cbiAgICAvKiBYLUFYSVMgQ0hBTkdFUyAqL1xuXG4gICAgLy94LWF4aXMgdGl0bGUgdGV4dGFyZWEgY2hhbmdlZFxuICAgICQoXCIjY2hhcnRfeF9heGlzX3RpdGxlX3RleHRhcmVhXCIpLnVuYmluZCgpLmtleXVwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5ld190aXRsZSA9ICQodGhpcykudmFsKCk7XG4gICAgICAgIHVwZGF0ZV94X2F4aXMudXBkYXRlVGl0bGUobmV3X3RpdGxlLCBjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpO1xuICAgIH0pO1xuXG4gICAgLy94LWF4aXMgdGl0bGUgaW5kZW50IGlucHV0IGNoYW5nZWQgKGJhciBjaGFydHMgb25seSlcbiAgICAkKFwiI2NoYXJ0X3hfYXhpc194X3Bvc2l0aW9uX2lucHV0XCIpLnVuYmluZCgpLmtleXVwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5ld19pbmRlbnQgPSBOdW1iZXIoJCh0aGlzKS52YWwoKSk7XG4gICAgICAgIHVwZGF0ZV94X2F4aXMudXBkYXRlVGl0bGVJbmRlbnQobmV3X2luZGVudCwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICB9KTtcblxuICAgIC8veC1heGlzIHRpY2ttYXJrIGludGVydmFsIGlucHV0IGNoYW5nZWRcbiAgICAkKFwiI2NoYXJ0X3hfYXhpc190aWNrbWFya19pbnRlcnZhbF9pbnB1dFwiKS51bmJpbmQoKS5rZXl1cChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXdfaW50ZXJ2YWwgPSBOdW1iZXIoJCh0aGlzKS52YWwoKSk7XG4gICAgICAgIHVwZGF0ZV94X2F4aXMudXBkYXRlVGlja21hcmtJbnRlcnZhbChuZXdfaW50ZXJ2YWwsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG4gICAgfSk7XG5cblxuICAgIC8veC1heGlzIG1heCBpbnB1dCBjaGFuZ2VkXG4gICAgJChcIiNjaGFydF94X2F4aXNfbWF4X2lucHV0XCIpLnVuYmluZCgpLmtleXVwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5ld01heCA9ICQodGhpcykudmFsKCk7XG4gICAgICAgIHVwZGF0ZV94X2F4aXMudXBkYXRlTWF4KG5ld01heCwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICB9KTtcblxuICAgIC8veC1heGlzIG1pbiBpbnB1dCBjaGFuZ2VkXG4gICAgJChcIiNjaGFydF94X2F4aXNfbWluX2lucHV0XCIpLnVuYmluZCgpLmtleXVwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5ld01pbiA9ICQodGhpcykudmFsKCk7XG4gICAgICAgIHVwZGF0ZV94X2F4aXMudXBkYXRlTWluKG5ld01pbiwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICB9KTtcblxuXG4gICAgLy94LWF4aXMgZm9ybWF0dGVyIChvbmx5IHllYXJzKSBjaGFuZ2VkXG4gICAgJChcIiNjaGFydF94X2F4aXNfc2hvd19vbmx5X3llYXJzLCAjY2hhcnRfeF9heGlzX2FkZF9jb21tYXNcIikudW5iaW5kKCkuY2hhbmdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9ubHlfbnVtYmVycyA9IHV0aWxzX2Zvcm1zLmdldENoZWNrQm94VmFsdWUoJChcIiNjaGFydF94X2F4aXNfc2hvd19vbmx5X3llYXJzXCIpKTtcbiAgICAgICAgdmFyIGFkZF9jb21tYXMgPSB1dGlsc19mb3Jtcy5nZXRDaGVja0JveFZhbHVlKCQoXCIjY2hhcnRfeF9heGlzX2FkZF9jb21tYXNcIikpO1xuICAgICAgICB1cGRhdGVfeF9heGlzLnVwZGF0ZUZvcm1hdHRlcihvbmx5X251bWJlcnMsIGFkZF9jb21tYXMsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG4gICAgfSk7XG5cblxuXG5cblxuICAgIC8qIFktQVhJUyBDSEFOR0VTICovXG5cbiAgICAvL3ktYXhpcyB0aXRsZSB0ZXh0YXJlYSBjaGFuZ2VkXG4gICAgJChcIiNjaGFydF95X2F4aXNfdGl0bGVfdGV4dGFyZWFcIikudW5iaW5kKCkua2V5dXAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbmV3VGl0bGUgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICB1cGRhdGVfeV9heGlzLnVwZGF0ZVRpdGxlKG5ld1RpdGxlLCBjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpO1xuICAgIH0pO1xuXG4gICAgLy95LWF4aXMgdGl0bGUgaW5kZW50IGNoYW5nZWRcbiAgICAkKFwiI2NoYXJ0X3lfYXhpc194X3Bvc2l0aW9uX2lucHV0XCIpLnVuYmluZCgpLmtleXVwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5ld1hQb3NpdGlvbiA9ICQodGhpcykudmFsKCk7XG4gICAgICAgIHVwZGF0ZV95X2F4aXMudXBkYXRlWFBvc2l0aW9uKG5ld1hQb3NpdGlvbiwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICB9KTtcblxuICAgIC8veS1heGlzIHRpY2ttYXJrIGludGVydmFsIGlucHV0IGNoYW5nZWRcbiAgICAkKFwiI2NoYXJ0X3lfYXhpc190aWNrbWFya19pbnRlcnZhbF9pbnB1dFwiKS51bmJpbmQoKS5rZXl1cChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXdJbnRlcnZhbCA9ICQodGhpcykudmFsKCk7XG4gICAgICAgIHVwZGF0ZV95X2F4aXMudXBkYXRlVGlja21hcmtJbnRlcnZhbChuZXdJbnRlcnZhbCwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICB9KTtcblxuICAgIC8veS1heGlzIG1heCBpbnB1dCBjaGFuZ2VkXG4gICAgJChcIiNjaGFydF95X2F4aXNfbWF4X2lucHV0XCIpLnVuYmluZCgpLmtleXVwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5ld01heCA9ICQodGhpcykudmFsKCk7XG4gICAgICAgIHVwZGF0ZV95X2F4aXMudXBkYXRlTWF4KG5ld01heCwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICB9KTtcblxuICAgIC8veS1heGlzIG1pbiBpbnB1dCBjaGFuZ2VkXG4gICAgJChcIiNjaGFydF95X2F4aXNfbWluX2lucHV0XCIpLnVuYmluZCgpLmtleXVwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5ld01pbiA9ICQodGhpcykudmFsKCk7XG4gICAgICAgIHVwZGF0ZV95X2F4aXMudXBkYXRlTWluKG5ld01pbiwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICB9KTtcblxuICAgIC8veS1heGlzIG9wcG9zaXRlIHNpZGUgY2Vja2JveCBjaGFuZ2VkXG4gICAgJChcIiNjaGFydF95X2F4aXNfb3Bwb3NpdGVfY2hlY2tib3hcIikudW5iaW5kKCkuY2hhbmdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbCA9IHV0aWxzX2Zvcm1zLmdldENoZWNrQm94VmFsdWUoJCh0aGlzKSk7XG4gICAgICAgIHVwZGF0ZV95X2F4aXMudXBkYXRlSXNPcHBvc2l0ZSh2YWwsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG4gICAgfSk7XG5cbiAgICAvL3ktYXhpcyBsb2cgY2Vja2JveCBjaGFuZ2VkXG4gICAgJChcIiNjaGFydF95X2F4aXNfbG9nX2NoZWNrYm94XCIpLnVuYmluZCgpLmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWwgPSB1dGlsc19mb3Jtcy5nZXRDaGVja0JveFZhbHVlKCQodGhpcykpO1xuICAgICAgICB1cGRhdGVfeV9heGlzLnVwZGF0ZUlzTG9nKHZhbCwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICB9KTtcblxuICAgIC8veS1heGlzIGRvbGxhciAvIHBlcmNlbnQgb3IgZGVjaW1hbCBzZWxlY3RzIGNoYW5nZWQgKGZvcm1hdClcbiAgICAkKFwiI2NoYXJ0X3lfYXhpc19zaWduc19zZWxlY3QsICNjaGFydF95X2F4aXNfZGVjaW1hbHNfc2VsZWN0LCAjY2hhcnRfeV9heGlzX2RpdmlkZV9zZWxlY3RcIikudW5iaW5kKCkuY2hhbmdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNpZ24gPSAkKFwiI2NoYXJ0X3lfYXhpc19zaWduc19zZWxlY3RcIikudmFsKCk7XG4gICAgICAgIHZhciBkZWNpbWFscyA9ICQoXCIjY2hhcnRfeV9heGlzX2RlY2ltYWxzX3NlbGVjdFwiKS52YWwoKTtcbiAgICAgICAgdmFyIGRpdmlkZW5kID0gTnVtYmVyKCQoXCIjY2hhcnRfeV9heGlzX2RpdmlkZV9zZWxlY3RcIikudmFsKCkpO1xuICAgICAgICB1cGRhdGVfeV9heGlzLnVwZGF0ZUZvcm1hdHRlcihzaWduLCBkZWNpbWFscywgZGl2aWRlbmQsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG4gICAgfSk7XG4gICAgJChcIiNjaGFydF95X2F4aXNfc2lnbnNfc2VsZWN0XCIpLmNoYW5nZSgpOyAvL2NhbGwgb25jZSBvbiBsb2FkXG5cblxuICAgIC8qIFRPT0xUSVAgQ0hBTkdFUyAqL1xuXG4gICAgLy9jaGFuZ2Ugc2hhcmVkIHRvb2x0aXAgY2hlY2tib3gsIGRlY2ltYWxzLCBzaWducywgb3IgbXVsaXRwbGllciBzZWxlY3RzXG4gICAgJChcIiNjaGFydF90b29sdGlwX3NoYXJlZF9jaGVja2JveCwgI2NoYXJ0X3Rvb2x0aXBfZm9yY2VfZGVjaW1hbHNfc2VsZWN0LCAjY2hhcnRfdG9vbHRpcF9mb3JjZV9kZWNpbWFsc194X3NlbGVjdCwgI2NoYXJ0X3Rvb2x0aXBfZm9yY2VfZGVjaW1hbHNfel9zZWxlY3QsICNjaGFydF90b29sdGlwX3NpZ25zX3NlbGVjdCwgI2NoYXJ0X3Rvb2x0aXBfc2lnbnNfeF9zZWxlY3QsICNjaGFydF90b29sdGlwX3NpZ25zX3pfc2VsZWN0LCAjY2hhcnRfdG9vbHRpcF95X211bHRpcGxlX3NlbGVjdFwiKS51bmJpbmQoKS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoYWxsX2NoYXJ0X29wdGlvbnMuY2hhcnQudHlwZSA9PT0gXCJtYXBcIikgeyAvL2ZvciBtYXBzXG4gICAgICAgICAgICBtYXBfaW5pdC5sb2FkTmV3TWFwKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucywgYWxsX21hcF9vcHRpb25zLCB0cnVlKTsgLy8gdHJ1ZSB0byByZXBvcHVsYXRlIGZvcm1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZV90b29sdGlwLnVwZGF0ZVRvb2xUaXAoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vY2FsbCB1cGRhdGUgdG9vbHRpcCBhZnRlciBwYWdlIGFuZCBjaGFydCBpcyBsb2FkZWQgKGhhcyB0byBiZSBvbiBhIGNhbGxiYWNrIHdpdGggdGhlICdjaGFydCcgb2JqZWN0KVxuICAgICQoXCIjY2hhcnRfdG9vbHRpcF9zaGFyZWRfY2hlY2tib3hcIikuY2hhbmdlKCk7XG5cbiAgICAvL2J1YmJsZSB6IHZhbHVlXG4gICAgJChcIiNjaGFydF96X3RpdGxlX3RleHRfaW5wdXRcIikudW5iaW5kKCkua2V5dXAoZnVuY3Rpb24gKCkge1xuICAgICAgICB1cGRhdGVfdG9vbHRpcC51cGRhdGVUb29sVGlwKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG5cbiAgICB9KTtcblxuXG5cblxuICAgIC8qIENSRURJVFMgQ0hBTkdFUyAqL1xuXG4gICAgJChcIiNjaGFydF9jcmVkaXRzX3RleHRfdGV4dGFyZWFcIikudW5iaW5kKCkuYmluZCgnaW5wdXQgcHJvcGVydHljaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChhbGxfY2hhcnRfb3B0aW9ucy5jaGFydC50eXBlID09PSBcIm1hcFwiKSB7IC8vZm9yIG1hcHNcbiAgICAgICAgICAgIG1hcF9pbml0LmxvYWROZXdNYXAoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zLCBhbGxfbWFwX29wdGlvbnMsIHRydWUpOyAvLyB0cnVlIHRvIHJlcG9wdWxhdGUgZm9ybVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXBkYXRlX2NyZWRpdHMudXBkYXRlQ3JlZGl0VGV4dChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpOyAvL2ZvciBjaGFydHNcbiAgICAgICAgfVxuICAgIH0pO1xuXG5cblxuICAgIC8qIEVYVFJBIE9QVElPTlMgQ0hBTkdFUyAqL1xuXG5cbiAgICAvL1BvaW50IHBhZGRpbmcgY2hhbmdlIChvbmx5IGJhciBhbmQgY29sdW1uKVxuXG4gICAgJChcIiNwb2ludF9wYWRkaW5nX2lucHV0XCIpLnVuYmluZCgpLmJpbmQoJ2lucHV0IHByb3BlcnR5Y2hhbmdlJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciB2YWwgPSAkKHRoaXMpLmdldFZhbE51bWJlcigpO1xuXG4gICAgICAgIHVwZGF0ZV9jaGFydF9vcHRpb25zLmNoYW5nZVBvaW50UGFkZGluZyh2YWwsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG4gICAgfSk7XG5cblxuICAgIC8vZ3JvdXAgcGFkZGluZyBjaGFuZ2UgKG9ubHkgYmFyIGFuZCBjb2x1bW4pXG5cbiAgICAkKFwiI2dyb3VwX3BhZGRpbmdfaW5wdXRcIikudW5iaW5kKCkuYmluZCgnaW5wdXQgcHJvcGVydHljaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWwgPSAkKHRoaXMpLmdldFZhbE51bWJlcigpO1xuXG4gICAgICAgIHVwZGF0ZV9jaGFydF9vcHRpb25zLmNoYW5nZUdyb3VwUGFkZGluZyh2YWwsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG4gICAgfSk7XG5cblxuICAgIC8vU3VidGl0bGUgY2hhbmdlXG4gICAgJChcIiNjaGFydF9zdWJ0aXRsZV90ZXh0YXJlYVwiKS51bmJpbmQoKS5iaW5kKCdpbnB1dCBwcm9wZXJ0eWNoYW5nZScsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAoYWxsX2NoYXJ0X29wdGlvbnMuY2hhcnQudHlwZSA9PT0gXCJtYXBcIikgeyAvL2lmIG1hcFxuICAgICAgICAgICAgbWFwX2luaXQubG9hZE5ld01hcChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMsIGFsbF9tYXBfb3B0aW9ucywgdHJ1ZSk7IC8vIHRydWUgdG8gcmVwb3B1bGF0ZSBmb3JtXG5cbiAgICAgICAgfSBlbHNlIHsgLy9pZiBjaGFydFxuICAgICAgICAgICAgdmFyIG5ld190aXRsZSA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICB1cGRhdGVfY2hhcnRfb3B0aW9ucy51cGRhdGVTdWJ0aXRsZShuZXdfdGl0bGUsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLy9NTFIgc3R5bGUgdG9nZ2xlXG4gICAgJChcIiNjaGFydF9tbHJfc3R5bGVzX2NoZWNrYm94XCIpLnVuYmluZCgpLmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpc19jaGVja2VkID0gdXRpbHNfZm9ybXMuZ2V0Q2hlY2tCb3hWYWx1ZSgkKHRoaXMpKTtcbiAgICAgICAgdXBkYXRlX3hfYXhpcy50b2dnbGVNTFJTdHlsZShpc19jaGVja2VkLCBjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpO1xuICAgICAgICB1cGRhdGVfeV9heGlzLnRvZ2dsZU1MUlN0eWxlKGlzX2NoZWNrZWQsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG4gICAgICAgIHVwZGF0ZV9jaGFydF9vcHRpb25zLnRvZ2dsZU1MUlN0eWxlKGlzX2NoZWNrZWQsIGFsbF9jaGFydF9vcHRpb25zKTsgLy9kcmF3X2NoYXJ0IGlzIGNhbGxlZCBmcm9tIGhlcmUgdG8gdXBkYXRlIHBsb3RCb3JkZXJcbiAgICAgICAgaWYgKGlzX2NoZWNrZWQpIHtcbiAgICAgICAgICAgICQoXCIjY29sb3JfcGFsZXR0ZV9tbHJcIikuY2xpY2soKTsgLy9jbGljayBNTFIgY29sb3IgcGFsZXR0ZVxuICAgICAgICB9XG4gICAgfSk7XG5cblxuICAgIC8vWm9vbSB0eXBlIGNoYW5nZWRcbiAgICAkKFwiI2NoYXJ0X3pvb21fc2VsZWN0XCIpLnVuYmluZCgpLmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWwgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICB1cGRhdGVfY2hhcnRfb3B0aW9ucy5jaGFuZ2Vab29tVHlwZSh2YWwsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG4gICAgfSkuY2hhbmdlKCk7IC8vY2hhbmdlIG9uY2Ugb24gaW5pdCB0byBtYWtlIHR5cGUgbnVsbCwgYmVjYXVzZSB6b29tdHlwZSBtdXN0IGJlIHh5IHRvIHN0YXJ0IHRvIGVuYWJsZSBkeW5hbWljIGNoYW5naW5nXG5cblxuICAgIC8vZGF0YSBsYWJlbHMgY2hlY2tib3ggdG9nZ2xlZFxuICAgICQoXCIjY2hhcnRfc2hvd19kYXRhX2xhYmVsc19jaGVja2JveFwiKS51bmJpbmQoKS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsID0gdXRpbHNfZm9ybXMuZ2V0Q2hlY2tCb3hWYWx1ZSgkKHRoaXMpKTtcbiAgICAgICAgdXBkYXRlX2NoYXJ0X29wdGlvbnMudG9nZ2xlRGF0YUxhYmVscyh2YWwsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG4gICAgfSk7XG5cblxuICAgIC8vcmVjZXNzaW9uIHNoYWRpbmdcbiAgICAkKFwiI2NoYXJ0X2FkZF9yZWNlc3Npb25fc2hhZGluZ19zZWxlY3RcIikudW5iaW5kKCkuY2hhbmdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRhdGVzX3R5cGUgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICB2YXIgcGxvdF9iYW5kc19hcnIgPSBjYWxjdWxhdGVfcmVjZXNzaW9uX2RhdGVzLmNyZWF0ZVBsb3RCYW5kcyhhbGxfY2hhcnRfb3B0aW9ucy54QXhpcy5jYXRlZ29yaWVzLCBkYXRlc190eXBlKTtcbiAgICAgICAgY2FsY3VsYXRlX3JlY2Vzc2lvbl9kYXRlcy5pbnNlcnRQbG90QmFuZHMocGxvdF9iYW5kc19hcnIsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG4gICAgICAgIHVwZGF0ZV9jcmVkaXRzLnVwZGF0ZUNyZWRpdFRleHQoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICB9KTtcblxuXG5cblxuXG4gICAgLyogTUFQIFNQRUNJRklDIEZPUk0gQ0hBTkdFUyAqL1xuXG4gICAgLy90eXBlIG9mIG1hcCBjaGFuZ2VkXG4gICAgJChcIiNtYXBfdHlwZV9zZWxlY3RcIikudW5iaW5kKCkuY2hhbmdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbWFwX2NvbG9yc19pbml0LmxvYWRNYXBDb2xvclBhbGV0dGVzKDQpO1xuICAgICAgICAvLyBtYXBfaW5pdC5sb2FkTmV3TWFwKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucywgYWxsX21hcF9vcHRpb25zLCB0cnVlKTsgLy8gdHJ1ZSB0byByZXBvcHVsYXRlIGZvcm1cbiAgICB9KTtcblxuXG4gICAgLy9pcyBhbmltYXRlZCBjaGVja2JveCBjaGFuZ2VkXG4gICAgJChcIiNtYXBfYW5pbWF0ZWRfY2hlY2tib3hcIikudW5iaW5kKCkuY2hhbmdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJChcIiNsZWdlbmRfcGxhY2VtZW50X3lcIikudmFsKDcwKTsgLy8gc2V0IGxlZ2VuZCB5IHZhbHVlIHNvIGxlZ2VuZCBpcyBsb3dlciBmb3IgYW5pbWF0ZWQgbWFwc1xuICAgICAgICBtYXBfaW5pdC5sb2FkTmV3TWFwKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucywgYWxsX21hcF9vcHRpb25zLCB0cnVlKTsgLy8gdHJ1ZSB0byByZXBvcHVsYXRlIGZvcm1cbiAgICB9KTtcblxuICAgIC8vY2lyY2xlIHNpemUgcmFuZ2Ugc2xpZGVyIGNoYW5nZWRcbiAgICAkKFwiI21hcF9jaXJjbGVfc2l6ZV9yYW5nZVwiKS51bmJpbmQoKS5vbihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbWFwX2luaXQubG9hZE5ld01hcChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMsIGFsbF9tYXBfb3B0aW9ucywgdHJ1ZSk7IC8vIHRydWUgdG8gcmVwb3B1bGF0ZSBmb3JtXG4gICAgfSk7XG5cblxuICAgIC8vbWFwIHRvb2x0aXAgTi9BIGlucHV0IHZhbHVlIGNoYW5nZWRcbiAgICAkKFwiI21hcF90b29sdGlwX25hX3RleHRfaW5wdXRcIikudW5iaW5kKCkub24oXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1hcF9pbml0LmxvYWROZXdNYXAoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zLCBhbGxfbWFwX29wdGlvbnMsIHRydWUpOyAvLyB0cnVlIHRvIHJlcG9wdWxhdGUgZm9ybVxuICAgIH0pO1xuXG4gICAgLy9tYXAgc2l6ZSBmb3Igc3BvdGxpZ2h0IGNoZWNrYm94IGNoYW5nZWRcbiAgICAkKFwiI21hcF9zcG90bGlnaHRfc2l6ZV9jaGVja2JveFwiKS51bmJpbmQoKS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgICBtYXBfaW5pdC5sb2FkTmV3TWFwKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucywgYWxsX21hcF9vcHRpb25zLCB0cnVlKTsgLy8gdHJ1ZSB0byByZXBvcHVsYXRlIGZvcm1cbiAgICB9KTtcblxuICAgIC8vbWFwIGFuaW1hdGlvbiBkZWxheSBpbnB1dCBjaGFuZ2VkXG4gICAgJChcIiNtYXBfYW5pbWF0aW9uX3NwZWVkX3JhbmdlXCIpLnVuYmluZCgpLm9uKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBtYXBfaW5pdC5sb2FkTmV3TWFwKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucywgYWxsX21hcF9vcHRpb25zLCB0cnVlKTsgLy8gdHJ1ZSB0byByZXBvcHVsYXRlIGZvcm1cbiAgICB9KTtcblxuXG5cbiAgICAvL21hcCBwYWxldHRlICsgLyAtIGJ1dHRvbnMgY2xpY2tlZCB0byBjaGFuZ2UgYW1vdW50IG9mIGNvbG9yc1xuICAgICQoXCIjYWRkX21hcF9jb2xvciwgI21pbnVzX21hcF9jb2xvclwiKS51bmJpbmQoKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHVwZGF0ZV9tYXBfcGFsZXR0ZXMuY2hhbmdlQW1vdW50KCQodGhpcykpO1xuXG4gICAgfSk7XG5cblxuXG5cblxuXG5cblxuXG4gICAgLyogSW5pdGlhbGl6ZSBjaGFydF9yZWNhbGwgKGxvYWQgc2F2ZWQgY2hhcnQgYnV0dG9uICkgKi9cblxuICAgIGNoYXJ0X3JlY2FsbC5pbml0TG9hZChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpO1xuXG4gICAgLy9iaW5kIG5hdiBjbGlja3MgYW5kIGtleXNcbiAgICB2YXIgbmF2aWdhdGlvbl9zZXR1cCA9IHJlcXVpcmUoXCIuLi9uYXZpZ2F0aW9uX3NldHVwLmpzXCIpO1xuICAgIG5hdmlnYXRpb25fc2V0dXAuaW5pdE5hdldpdGhDaGFydChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMsIGFsbF9tYXBfb3B0aW9ucyk7IC8vIHJlYmluZHMgY2hhcnQgYW5kIGFsbF9jaGFydF9vcHRpb25zIHRvIGZvcm0gZXZlbnRzXG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gYWxsRm9ybVVwZGF0ZXM7IiwidmFyIGRyYXdfY2hhcnQgPSByZXF1aXJlKFwiLi4vZHJhd19jaGFydC5qc1wiKTtcbnZhciB1dGlsc19tYWluID0gcmVxdWlyZShcIi4uL3V0aWxzL3V0aWxzX21haW5cIik7XG5cbi8qKiB1cGRhdGVycyBmb3IgYWxsX2NoYXJ0X29wdGlvbnMuY2hhcnRcbkBuYW1lc3BhY2VcbioqL1xudmFyIHVwZGF0ZV9jaGFydF9vcHRpb25zID0ge1xuXG5cbiAgICAvKiogd2hlbiBwb2ludCBwYWRkaW5nIGlzIGNoYW5nZWQgKG9ubHkgYmFyIGFuZCBjb2x1bW4gY2hhcnRzKSAqKi9cbiAgICBjaGFuZ2VQb2ludFBhZGRpbmc6IGZ1bmN0aW9uICh2YWwsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucykge1xuXG4gICAgICAgICQoY2hhcnQuc2VyaWVzKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKHtcbiAgICAgICAgICAgICAgICBwb2ludFBhZGRpbmc6IHZhbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnBsb3RPcHRpb25zLnNlcmllcy5wb2ludFBhZGRpbmcgPSB2YWw7XG5cbiAgICB9LFxuXG5cbiAgICAvKiogd2hlbiBncm91cCBwYWRkaW5nIGlzIGNoYW5nZWQgKG9ubHkgYmFyIGFuZCBjb2x1bW4gY2hhcnRzKSAqKi9cbiAgICBjaGFuZ2VHcm91cFBhZGRpbmc6IGZ1bmN0aW9uICh2YWwsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucykge1xuXG4gICAgICAgICQoY2hhcnQuc2VyaWVzKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKHtcbiAgICAgICAgICAgICAgICBncm91cFBhZGRpbmc6IHZhbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnBsb3RPcHRpb25zLnNlcmllcy5ncm91cFBhZGRpbmcgPSB2YWw7XG5cbiAgICB9LFxuXG5cblxuICAgIC8qKiB3aGVuIHpvb24gdHlwZSBkcm9wZG93biBpcyBjaGFuZ2VkICoqL1xuICAgIGNoYW5nZVpvb21UeXBlOiBmdW5jdGlvbiAodmFsLCBjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpIHtcblxuICAgICAgICB2YXIgdmFsX2FyciA9IHV0aWxzX21haW4ucGFyc2VCb29sc0Zyb21BcnJheSh2YWwuc3BsaXQoXCIsXCIpKTsgLy9hcnJheSBpcyBbeC16b29tIHtib29sfSwgeS16b29tIHtib29sfSwgem9vbXR5cGUge3N0aXJpbmc6IHgsIHksIG9yIHh5fV1cblxuICAgICAgICBjaGFydC5wb2ludGVyLnpvb21YID0gdmFsX2FyclswXTtcbiAgICAgICAgY2hhcnQucG9pbnRlci56b29tWSA9IHZhbF9hcnJbMV07XG4gICAgICAgIGNoYXJ0LnBvaW50ZXIuem9vbUhvciA9IHZhbF9hcnJbMF07XG4gICAgICAgIGNoYXJ0LnBvaW50ZXIuem9vbVZlcnQgPSB2YWxfYXJyWzFdO1xuXG4gICAgICAgIGFsbF9jaGFydF9vcHRpb25zLmNoYXJ0Lnpvb21UeXBlID0gdmFsX2FyclsyXTtcblxuICAgIH0sXG5cblxuICAgIC8qKiBlbmFibGUgb3IgZGlzYWJsZWQgZGF0YSBsYWJlbHMuIENhbGxlZCB3aGVuIGNoYXJ0X3Nob3dfZGF0YV9sYWJlbHNfY2hlY2tib3ggaXMgY2hhbmdlZCAqKi9cblxuICAgIHRvZ2dsZURhdGFMYWJlbHM6IGZ1bmN0aW9uICh2YWwsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucykge1xuXG4gICAgICAgICQoY2hhcnQuc2VyaWVzKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKHtcbiAgICAgICAgICAgICAgICBkYXRhTGFiZWxzOiB7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHZhbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy5wbG90T3B0aW9ucy5zZXJpZXMuZGF0YUxhYmVscy5lbmFibGVkID0gdmFsO1xuICAgIH0sXG5cblxuICAgIC8qKiB3aGVuIFVzZSBNTFIgU3R5bGVzIGNoZWNrYm94IGlzIHRvZ2dsZWQgKiovXG4gICAgdG9nZ2xlTUxSU3R5bGU6IGZ1bmN0aW9uIChpc19jaGVja2VkLCBhbGxfY2hhcnRfb3B0aW9ucykge1xuICAgICAgICAvL2lmIG9yIG5vdCB1c2luZyBNTFIgc3R5bGVzXG4gICAgICAgIGFsbF9jaGFydF9vcHRpb25zLmNoYXJ0LnBsb3RCb3JkZXJXaWR0aCA9IGlzX2NoZWNrZWQgPyAxIDogMDtcblxuICAgICAgICAvL2hhdmUgdG8gY29tcGxldGVseSByZWRyYXcgY2hhcnQgdG8gdXBkYXRlIHBsb3RCb3JkZXJXaWR0aCAtIG5vdCBhY2Nlc2libGUgYnkgSEMncyBBUEkgLSB0aGlzIG1lc3NlcyB1cCBhIGxvdCwgc28gZm9yIG5vdyBJJ20gbm90LiAgICAgICAgXG4gICAgfSxcblxuXG5cbiAgICAvKiogdXBkYXRlcyB0aGUgc3VidGl0bGUgKHdoZW4gdGhhdCAjY2hhcnRfc3VidGl0bGVfdGV4dGFyZWEgaXMgdXBkYXRlZCkgKiovXG4gICAgdXBkYXRlU3VidGl0bGU6IGZ1bmN0aW9uIChuZXdfdGl0bGUsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucykge1xuXG4gICAgICAgIGNoYXJ0LnNldFRpdGxlKG51bGwsIHtcbiAgICAgICAgICAgIHRleHQ6IG5ld190aXRsZVxuICAgICAgICB9KTtcblxuICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy5zdWJ0aXRsZS50ZXh0ID0gbmV3X3RpdGxlO1xuXG4gICAgfVxuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gdXBkYXRlX2NoYXJ0X29wdGlvbnM7IiwidmFyIGRyYXdfY2hhcnQgPSByZXF1aXJlKFwiLi4vZHJhd19jaGFydFwiKTtcbnZhciBwbG90T3B0aW9uc0luaXQgPSByZXF1aXJlKFwiLi4vaW5pdGlhbGl6ZXJzL2NoYXJ0cy9wbG90X29wdGlvbnNfaW5pdC5qc1wiKTtcbnZhciB1cGRhdGVfZGF0YSA9IHJlcXVpcmUoXCIuL3VwZGF0ZV9kYXRhLmpzXCIpO1xudmFyIHVwZGF0ZV90b29sdGlwID0gcmVxdWlyZShcIi4vdXBkYXRlX3Rvb2x0aXAuanNcIik7XG52YXIgdXBkYXRlX3hfYXhpcyA9IHJlcXVpcmUoXCIuL3VwZGF0ZV94X2F4aXMuanNcIik7XG52YXIgdXRpbHNfbWFpbiA9IHJlcXVpcmUoXCIuLi91dGlscy91dGlsc19tYWluLmpzXCIpO1xuXG5cbi8qKiB3aGVuIGEgY2hhcnQgaWNvbiBpcyBjbGlja2VkLCB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCAtIGNoYW5nZXMgdGhlIGNoYXJ0IHR5cGUgc2hvd24gXG5AbW9kdWxlXG4qL1xudmFyIHVwZGF0ZUNoYXJ0VHlwZSA9IGZ1bmN0aW9uIChjaGFydF90eXBlLCBjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpIHtcblxuXG5cblxuICAgIC8vaWYgZHJpbGxlZCBpbnRvIGEgZHJpbGxkb3duLCBjbGljayB0aGUgdXAgYnV0dG9uIHRvIGdldCBvdXQgLSBwcmV2ZW50cyBlcnJvcnNcbiAgICB1dGlsc19tYWluLmRyaWxsVXAoKTtcblxuICAgIC8vaWYgbWFwXG4gICAgaWYgKGNoYXJ0X3R5cGUgPT09IFwibWFwXCIpIHtcbiAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMuY2hhcnQudHlwZSA9IFwibWFwXCI7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cblxuICAgIC8vaWYgbm90IG1hcFxuICAgIHZhciB0eXBlID0gY2hhcnRfdHlwZS5yZXBsYWNlKFwic3RhY2tlZF9cIiwgXCJcIik7XG5cbiAgICBpZiAodHlwZSA9PT0gXCJkcmlsbGRvd25cIikge1xuXG4gICAgICAgIHR5cGUgPSAkKFwiI2RyaWxsZG93bl90eXBlX3NlbGVjdFwiKS52YWwoKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gXCJiYXJcIikge1xuICAgICAgICAvL2ZpeCB5IGF4aXMgcG9zaXRpb25cbiAgICAgICAgY2hhcnQuaW52ZXJ0ZWQgPSB0cnVlO1xuICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy55QXhpcy50aXRsZS5hbGlnbiA9IFwibWlkZGxlXCI7XG4gICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnhBeGlzLnRpdGxlLmFsaWduID0gXCJoaWdoXCI7XG4gICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnlBeGlzLnRpdGxlLnggPSAwO1xuICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy55QXhpcy50aXRsZS55ID0gODtcbiAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMueEF4aXMudGl0bGUueSA9IC0yMDtcbiAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMueEF4aXMudGl0bGUueCA9IE51bWJlcigkKFwiI2NoYXJ0X3hfYXhpc194X3Bvc2l0aW9uX2lucHV0XCIpLnZhbCgpKTtcblxuICAgICAgICAvL2hpZGUgbm9uLXJlbGV2YW50IGVsZW1lbnRzXG4gICAgICAgICQoXCIubm90X2JhclwiKS5oaWRlKCk7XG5cbiAgICB9IGVsc2UgeyAvL2NoYXJ0IG5vdCBiYXJcbiAgICAgICAgY2hhcnQuaW52ZXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMueUF4aXMudGl0bGUuYWxpZ24gPSBcImhpZ2hcIjtcbiAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMueEF4aXMudGl0bGUuYWxpZ24gPSBcIm1pZGRsZVwiO1xuICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy55QXhpcy50aXRsZS54ID0gTnVtYmVyKCQoXCIjY2hhcnRfeV9heGlzX3hfcG9zaXRpb25faW5wdXRcIikudmFsKCkpO1xuICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy55QXhpcy50aXRsZS55ID0gLTIwO1xuICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy54QXhpcy50aXRsZS55ID0gMDtcbiAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMueEF4aXMudGl0bGUueCA9IDA7XG5cbiAgICAgICAgJChcIi5ub3RfYmFyXCIpLnNob3coKTtcbiAgICB9XG5cblxuXG4gICAgYWxsX2NoYXJ0X29wdGlvbnMueEF4aXMucGxvdExpbmVzID0gW3tcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxuICAgICAgICBcImNvbG9yXCI6IFwiI2MwYzBjMFwiLFxuICAgICAgICBcImRhc2hTdHlsZVwiOiBcInNvbGlkXCIsXG4gICAgICAgIFwid2lkdGhcIjogdHlwZSA9PT0gXCJzY2F0dGVyXCIgfHwgdHlwZSA9PT0gXCJidWJibGVcIiA/IDEgOiAwXG4gICAgICAgIH1dO1xuXG4gICAgYWxsX2NoYXJ0X29wdGlvbnMueEF4aXMuZ3JpZExpbmVXaWR0aCA9IHR5cGUgPT09IFwic2NhdHRlclwiIHx8IHR5cGUgPT09IFwiYnViYmxlXCIgPyAxIDogMDtcblxuXG4gICAgY2hhcnQueEF4aXNbMF0udXBkYXRlKHtcbiAgICAgICAgZ3JpZExpbmVXaWR0aDogYWxsX2NoYXJ0X29wdGlvbnMueEF4aXMuZ3JpZExpbmVXaWR0aCxcbiAgICAgICAgcGxvdExpbmVzOiBhbGxfY2hhcnRfb3B0aW9ucy54QXhpcy5wbG90TGluZXNcbiAgICB9LCBmYWxzZSk7XG5cblxuXG4gICAgY2hhcnQueEF4aXNbMF0uc2V0VGl0bGUoe1xuICAgICAgICBhbGlnbjogYWxsX2NoYXJ0X29wdGlvbnMueEF4aXMudGl0bGUuYWxpZ24sXG4gICAgICAgIHk6IGFsbF9jaGFydF9vcHRpb25zLnhBeGlzLnRpdGxlLnksXG4gICAgICAgIHg6IGFsbF9jaGFydF9vcHRpb25zLnhBeGlzLnRpdGxlLnhcbiAgICB9LCBmYWxzZSk7XG5cbiAgICBjaGFydC55QXhpc1swXS5zZXRUaXRsZSh7XG4gICAgICAgIGFsaWduOiBhbGxfY2hhcnRfb3B0aW9ucy55QXhpcy50aXRsZS5hbGlnbixcbiAgICAgICAgeDogYWxsX2NoYXJ0X29wdGlvbnMueUF4aXMudGl0bGUueCxcbiAgICAgICAgeTogYWxsX2NoYXJ0X29wdGlvbnMueUF4aXMudGl0bGUueVxuICAgIH0sIGZhbHNlKTtcblxuXG4gICAgLy9yZSBwYXJzZSBkYXRhXG4gICAgdXBkYXRlX2RhdGEudXBkYXRlRGF0YShjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpO1xuXG4gICAgYWxsX2NoYXJ0X29wdGlvbnMuY2hhcnQudHlwZSA9IHR5cGU7XG5cbiAgICAvL3VwZGF0ZSB0b29sdGlwXG4gICAgdXBkYXRlX3Rvb2x0aXAudXBkYXRlVG9vbFRpcChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpO1xuXG5cbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHVwZGF0ZUNoYXJ0VHlwZTsiLCJ2YXIgY29sb3JzSW5pdCA9IHJlcXVpcmUoXCIuLi9pbml0aWFsaXplcnMvY2hhcnRzL2NvbG9yc19pbml0LmpzXCIpO1xuXG4vKiogdXBkYXRlcyB0aGUgY2hhcnQncyBjb2xvcnMgLSBjYWxsZWQgd2hlbiBwYWxldHRlIGlzIGNoYW5nZWQuIENhbGxzIGNvbG9yc0luaXQgXG5AbW9kdWxlXG5AcGFyYW0gY2hhcnQge29iamVjdH0gdGhlIG1haW4gY2hhcnQgb2JqZWN0LCBidWlsdCB3aGVuIGNoYXJ0IGlzIGxvYWRlZFxuQHBhcmFtIGFsbF9jaGFydF9vcHRpb25zIHtvYmplY3R9IHRoZSBtYWluIGNoYXJ0IG9wdGlvbnMgdGhhdCBsb2FkIGludG8gYnVpbGRpbmcgb2YgdGhlIGNoYXJ0IGFuZCBhcmUgdHVybmVkIHRvIHN0cmluZyBmb3IgdGhlIG91dHB1dFxuKiovXG52YXIgdXBkYXRlQ29sb3JzID0gZnVuY3Rpb24gKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucywgY2hhcnRfdHlwZSkge1xuICAgIGFsbF9jaGFydF9vcHRpb25zLmNvbG9ycyA9IGNvbG9yc0luaXQoKTtcbiAgICBjaGFydC5vcHRpb25zLmNvbG9ycyA9IGFsbF9jaGFydF9vcHRpb25zLmNvbG9ycztcblxuXG5cblxuICAgIGlmIChjaGFydF90eXBlID09PSBcImRyaWxsZG93blwiKSB7IC8vZHJpbGxkb3ducyBjb2xvciBieSBwb2ludFxuXG4gICAgICAgICQoY2hhcnQuc2VyaWVzWzBdLmRhdGEpLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIC8vdXBkYXRlIGNoYXJ0XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgY29sb3I6IGFsbF9jaGFydF9vcHRpb25zLmNvbG9yc1tpXVxuICAgICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICAgICAgLy91cGRhdGUgYWxsX2NoYXJ0X29wdGlvbnMuc2VyaWVzLmRhdGEgY29sb3JzXG4gICAgICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy5zZXJpZXNbMF0uZGF0YVtpXS5jb2xvciA9IGFsbF9jaGFydF9vcHRpb25zLmNvbG9yc1tpXTtcbiAgICAgICAgfSk7XG5cbiAgICB9IGVsc2UgeyAvL290aGVyIGNoYXJ0cyBjb2xvciBieSBzZXJpZXNcblxuICAgICAgICB2YXIgc3RhcnRfY29sb3JpbmdfaW5kZXggPSAwO1xuICAgICAgICB2YXIgY29sb3JfaW5kZXhfbW9kID0gMDtcblxuICAgICAgICBpZiAoY2hhcnRfdHlwZSA9PT0gXCJidWJibGVcIiAmJiAkKFwiI2J1YmJsZV9hbmltYXRlZF9jaGVja2JveFwiKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgICAgICBzdGFydF9jb2xvcmluZ19pbmRleCA9IDI7XG4gICAgICAgICAgICBjb2xvcl9pbmRleF9tb2QgPSAyO1xuICAgICAgICB9XG5cbiAgICAgICAgJChjaGFydC5zZXJpZXMpLmVhY2goZnVuY3Rpb24gKGkpIHtcblxuICAgICAgICAgICAgaWYgKGkgPj0gc3RhcnRfY29sb3JpbmdfaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAvL3VwZGF0ZSBjaGFydFxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGFsbF9jaGFydF9vcHRpb25zLmNvbG9yc1tpLWNvbG9yX2luZGV4X21vZF1cbiAgICAgICAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgLy91cGRhdGUgYWxsX2NoYXJ0X29wdGlvbnMuc2VyaWVzIGNvbG9yc1xuICAgICAgICAgICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnNlcmllc1tpLWNvbG9yX2luZGV4X21vZF0uY29sb3IgPSBhbGxfY2hhcnRfb3B0aW9ucy5jb2xvcnNbaS1jb2xvcl9pbmRleF9tb2RdO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG5cblxuXG4gICAgfVxuXG4gICAgY2hhcnQucmVkcmF3KCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdXBkYXRlQ29sb3JzOyIsInZhciBjcmVkaXRzSW5pdCA9IHJlcXVpcmUoXCIuLi9pbml0aWFsaXplcnMvY2hhcnRzL2NyZWRpdHNfaW5pdC5qc1wiKTtcblxuLyoqIHdoZW4gY3JlZGl0IG9wdGlvbnMgYXJlIGNoYW5nZWQgaW4gdGhlIHNpZGUgYXJlYSBcbkBuYW1lc3BhY2VcbiovXG5cbnZhciB1cGRhdGVfY3JlZGl0cyA9IHtcblxuICAgIC8qKiBnZXQgYW5kIHNldCB0aGUgY3JlZGl0cyB0ZXh0ICoqL1xuICAgIHVwZGF0ZUNyZWRpdFRleHQ6IGZ1bmN0aW9uIChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpIHtcblxuICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy5jcmVkaXRzID0gY3JlZGl0c0luaXQoKTtcblxuICAgICAgICB2YXIgbmV3X3kgPSBOdW1iZXIoJChcIiNjaGFydF9oZWlnaHRfdGV4dGlucHV0XCIpLnZhbCgpKSArIGFsbF9jaGFydF9vcHRpb25zLmNyZWRpdHMucG9zaXRpb24ueSAtIDI2O1xuICAgICAgICBjaGFydC5jcmVkaXRzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwieVwiLCBuZXdfeSk7XG5cbiAgICAgICAgLy9zdmcgdGV4dCBlbGVtZW50cyBkb24ndCB1c2UgYnJlYWs7IGVhY2ggbmV3IGxpbmUgbXVzdCBiZSB3cmFwcGVkIGluIGEgbmV3IHRzcGFuXG4gICAgICAgIHZhciBjcmVkaXRzX3RleHQgPSBhbGxfY2hhcnRfb3B0aW9ucy5jcmVkaXRzLnRleHQuc3BsaXQoXCI8YnI+XCIpLm1hcChmdW5jdGlvbiAobGluZSwgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnPHRzcGFuIHg9XCIxMFwiIGR5PVwiMTJcIj4nICsgbGluZSArIFwiPC90c3Bhbj5cIjtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbihcIlwiKTtcblxuICAgICAgICAkKGNoYXJ0LmNyZWRpdHMuZWxlbWVudCkuaHRtbChjcmVkaXRzX3RleHQpO1xuXG4gICAgfVxuXG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSB1cGRhdGVfY3JlZGl0czsiLCJ2YXIgcGFyc2VUYWJsZUlucHV0ID0gcmVxdWlyZShcIi4uL3BhcnNlcnMvcGFyc2VfdGFibGVfaW5wdXQuanNcIik7XG52YXIgdXRpbHNfZm9ybXMgPSByZXF1aXJlKFwiLi4vdXRpbHMvdXRpbHNfZm9ybXMuanNcIik7XG52YXIgdXRpbHNfbWFpbiA9IHJlcXVpcmUoXCIuLi91dGlscy91dGlsc19tYWluLmpzXCIpO1xuXG4vKiogY2FsbGVkIHdoZW4gI2NoYXJ0X3R5cGVfaWNvbnMgLnNlbGVjdGVkIG9yICN0YWJsZV9pbnB1dF90ZXh0YXJlYSBpcyBjaGFuZ2VkIC0gY2FsbHMgZnVuY3Rpb25zIHRvIHJlcGFyc2UgZGF0YVxuQG5hbWVzcGFjZVxuKi9cblxudmFyIHVwZGF0ZV9kYXRhID0ge1xuXG4gICAgLyoqIGNhbGxlZCB3aGVuIC5jaGFydF90eXBlX2ljb25zIC5zZWxlY3RlZCBvciAjdGFibGVfaW5wdXRfdGV4dGFyZWEgaXMgY2hhbmdlZCAtIGNhbGxzIGZ1bmN0aW9ucyB0byByZXBhcnNlIGRhdGEgKi9cbiAgICB1cGRhdGVEYXRhOiBmdW5jdGlvbiAoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKSB7XG5cbiAgICAgICAgdmFyIGNoYXJ0X3R5cGUgPSAkKFwiI2NoYXJ0X3R5cGVfaWNvbnMgLnNlbGVjdGVkXCIpLmRpdlZhbCgpO1xuICAgICAgICB2YXIgaW5wdXQgPSAkKFwiI3RhYmxlX2lucHV0X3RleHRhcmVhXCIpLnZhbCgpO1xuXG4gICAgICAgIHZhciBsZWdlbmRfdG9nZ2xlX2VuYWJsZWQgPSB1dGlsc19mb3Jtcy5nZXRDaGVja0JveFZhbHVlKCQoXCIjbGVnZW5kX21ha2VfdG9nZ2xlX2NoZWNrYm94XCIpKTtcbiAgICAgICAgdmFyIGxvYWRfc2VyaWVzX2Zyb20gPSAkKFwiI3RhYmxlX2lucHV0X2xvYWRfc2VyaWVzX2Zyb21faWNvbnMgLnNlbGVjdGVkXCIpLmRpdlZhbCgpO1xuXG4gICAgICAgIC8vaWYgZHJpbGxlZCBpbnRvIGEgZHJpbGxkb3duLCBjbGljayB0aGUgdXAgYnV0dG9uIHRvIGdldCBvdXQgLSBwcmV2ZW50cyBlcnJvcnNcbiAgICAgICAgdXRpbHNfbWFpbi5kcmlsbFVwKCk7XG5cbiAgICAgICAgLy8vcGFyc2UgZGF0YSAvL1xuICAgICAgICB2YXIgcGFyc2VkX3RhYmxlX291dHB1dCA9IHBhcnNlVGFibGVJbnB1dChpbnB1dCwgbG9hZF9zZXJpZXNfZnJvbSwgY2hhcnRfdHlwZSwgbGVnZW5kX3RvZ2dsZV9lbmFibGVkLCBhbGxfY2hhcnRfb3B0aW9ucy5jb2xvcnMsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG5cblxuICAgICAgICAvL3VwZGF0ZSB4LWF4aXMgY2F0ZWdvcmllc1xuICAgICAgICBjaGFydC54QXhpc1swXS51cGRhdGUoe1xuICAgICAgICAgICAgY2F0ZWdvcmllczogcGFyc2VkX3RhYmxlX291dHB1dC54X2F4aXNfY2F0ZWdvcmllc1xuICAgICAgICB9LCBmYWxzZSk7XG5cblxuICAgICAgICAvL3JlbW92ZSBleGlzdGluZyBzZXJpZXMgYXJyYXlcbiAgICAgICAgJChjaGFydC5zZXJpZXMpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoZmFsc2UpOyAvL2ZhbHNlIHRvIG5vdCByZWRyYXcgeWV0XG4gICAgICAgIH0pO1xuXG5cblxuICAgICAgICAvL2FkZCBuZXcgc2VyaWVzXG4gICAgICAgICQocGFyc2VkX3RhYmxlX291dHB1dC5zZXJpZXMpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2hhcnQuYWRkU2VyaWVzKHRoaXMsIGZhbHNlKTsgLy9mYWxzZSB0byBub3QgcmVkcmF3IHlldFxuICAgICAgICB9KTtcblxuICAgICAgICAkKGNoYXJ0Lm9wdGlvbnMuZHJpbGxkb3duLnNlcmllcykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9hZGQgZHJpbGxkb3duIHNlcmllcyBpZiBhcHBsaWNhYmxlXG4gICAgICAgIGlmIChwYXJzZWRfdGFibGVfb3V0cHV0LmRyaWxsZG93bikge1xuICAgICAgICAgICAgY2hhcnQub3B0aW9ucy5kcmlsbGRvd24uc2VyaWVzID0gW107XG5cbiAgICAgICAgICAgICQocGFyc2VkX3RhYmxlX291dHB1dC5kcmlsbGRvd24uc2VyaWVzKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjaGFydC5vcHRpb25zLmRyaWxsZG93bi5zZXJpZXMucHVzaCh0aGlzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy91cGRhdGUgY2hhcnQgdGl0bGVcbiAgICAgICAgY2hhcnQuc2V0VGl0bGUoe1xuICAgICAgICAgICAgdGV4dDogcGFyc2VkX3RhYmxlX291dHB1dC50aXRsZV90ZXh0XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNoYXJ0LnJlZHJhdyh0cnVlKTtcblxuXG5cbiAgICAgICAgLy91cGRhdGUgY2hhcnQgb3B0aW9ucyBmb3IgY29kZSBvdXRwdXRcbiAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMuc2VyaWVzID0gcGFyc2VkX3RhYmxlX291dHB1dC5zZXJpZXM7XG4gICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnhBeGlzLmNhdGVnb3JpZXMgPSBwYXJzZWRfdGFibGVfb3V0cHV0LnhfYXhpc19jYXRlZ29yaWVzO1xuICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy5kcmlsbGRvd24gPSBwYXJzZWRfdGFibGVfb3V0cHV0LmRyaWxsZG93bjtcbiAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMudGl0bGUudGV4dCA9IHBhcnNlZF90YWJsZV9vdXRwdXQudGl0bGVfdGV4dDtcblxuICAgICAgICAvL3VwZGF0ZSB3aGV0aGVyIGxlZ2VuZCB0b2dnbGUgaXMgZW5hYmxlZCBcbiAgICAgICAgJChcIiNsZWdlbmRfbWFrZV90b2dnbGVfY2hlY2tib3hcIikuY2hhbmdlKCk7XG5cbiAgICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB1cGRhdGVfZGF0YTsiLCJ2YXIgdXRpbHNfbWFpbiA9IHJlcXVpcmUoXCIuLi91dGlscy91dGlsc19tYWluLmpzXCIpO1xudmFyIHV0aWxzX2Zvcm1zID0gcmVxdWlyZShcIi4uL3V0aWxzL3V0aWxzX2Zvcm1zLmpzXCIpO1xudmFyIGtleWJvYXJkX2lucHV0cyA9IHJlcXVpcmUoXCIuLi9rZXlib2FyZF9pbnB1dHMuanNcIik7XG5cbi8qKiBtZXRob2RzIGZvciB1cGRhdGluZyBpbmRpdmlkdWFsIHNlcmllcyBvcHRpb25zIGluICAjZGlzcGxheV9zZXJpZXNfb3B0aW9ucyAtIGNhbGxlZCB3aGVuIGl0cyBzaWRlIG5hdiB0YWIgaXMgc2VsZWN0ZWQgaW4gbmF2aWdhdGlvbl9zZXR1cC5cbkBtb2R1bGVcbkBwYXJhbSBjaGFydCB7b2JqZWN0fSB0aGUgbWFpbiBjaGFydCBvYmplY3QsIGJ1aWx0IHdoZW4gY2hhcnQgaXMgbG9hZGVkXG5AcGFyYW0gYWxsX2NoYXJ0X29wdGlvbnMge29iamVjdH0gdGhlIG1haW4gY2hhcnQgb3B0aW9ucyB0aGF0IGxvYWQgaW50byBidWlsZGluZyBvZiB0aGUgY2hhcnQgYW5kIGFyZSB0dXJuZWQgdG8gc3RyaW5nIGZvciB0aGUgb3V0cHV0XG4qKi9cblxuXG5cbnZhciB1cGRhdGVfaW5kaXZpZHVhbF9zZXJpZXMgPSB7XG5cblxuICAgIC8qKiB1cGRhdGVzIGFsbCB0aGUgZXh0cmEgZGF0YSB0aXRsZXMgYW5kIHZhbHVlcy4gQ2FsbGVkIGZyb20gIHNlcmllc0V4dHJhRGF0YUNoYW5nZSgpKiovXG4gICAgdXBkYXRlRXh0cmFEYXRhOiBmdW5jdGlvbiAoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKSB7XG5cbiAgICAgICAgJChcIi5zZXJpZXNfc25pcHBldFwiKS5lYWNoKGZ1bmN0aW9uIChpKSB7XG5cbiAgICAgICAgICAgIGNoYXJ0LnNlcmllc1tpXS5leHRyYV9kYXRhID0gW107XG4gICAgICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy5zZXJpZXNbaV0uZXh0cmFfZGF0YSA9IFtdO1xuXG4gICAgICAgICAgICB2YXIgJHNlcmllc19zbmlwcGV0ID0gJCh0aGlzKTtcblxuXG4gICAgICAgICAgICAvL3B1c2ggbmFtZXNcbiAgICAgICAgICAgICQoXCIuc2VyaWVzX2V4dHJhX2RhdGFfdGl0bGVfdGV4dGFyZWFcIiwgJHNlcmllc19zbmlwcGV0KS5lYWNoKGZ1bmN0aW9uIChqKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4dHJhX2RhdGFfb2JqID0ge307XG5cbiAgICAgICAgICAgICAgICBleHRyYV9kYXRhX29iai5uYW1lID0gJCh0aGlzKS52YWwoKTtcblxuICAgICAgICAgICAgICAgIC8vcHVzaCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAkKFwiLnNlcmllc19leHRyYV9kYXRhX3ZhbHVlc190ZXh0YXJlYTplcShcIiArIGogKyBcIilcIiwgJHNlcmllc19zbmlwcGV0KS5lYWNoKGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZXh0cmFfZGF0YV9vYmoudmFsdWVzID0gJCh0aGlzKS52YWwoKS5zcGxpdChcIlxcblwiKTsgLy8gVE9ETyB0dXJuIHZhbHVlcyBpbnRvIGFycmF5XG4gICAgICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgICAgIGNoYXJ0LnNlcmllc1tpXS5leHRyYV9kYXRhLnB1c2goZXh0cmFfZGF0YV9vYmopO1xuICAgICAgICAgICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnNlcmllc1tpXS5leHRyYV9kYXRhLnB1c2goZXh0cmFfZGF0YV9vYmopO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcblxuICAgIH0sXG5cblxuXG5cbiAgICAvKiogY2FsbGVkIHdoZW4gY2hhbmdlcyBhcmUgbWFkZSB0byB0aGUgc2VyaWVzIGV4dHJhIGRhdGEgdGV4dCBhcmVhcyBhbmQgcGx1cyBhbmQgbWludXMgYnV0dG9ucyAqKi9cbiAgICBzZXJpZXNFeHRyYURhdGFDaGFuZ2U6IGZ1bmN0aW9uIChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpIHtcblxuICAgICAgICAvL2JpbmQga2V5Ym9hcmQgbGlzdGVuZXJzIHNvIHRoZXkgYXJlbid0IHRyaWdnZXJlZCBpbnNpZGUgb2YgbmV3IHRleHQgYm94ZXNcbiAgICAgICAga2V5Ym9hcmRfaW5wdXRzLmluaXRMaXN0ZW5lcnMoKTtcblxuICAgICAgICAvL2Fsd2F5cyBoaWRlIHRoZSBmaXJzdCBtaW51cyBzaWduIGZvciBlYWNoIHNlcmllcy4gU2hvdyB0aGUgcmVzdFxuICAgICAgICAkKFwiLnNlcmllc19leHRyYV9kYXRhX2RpdjpndCgwKSAuc2VyaWVzX3N1YnRyYWN0X2V4dHJhX2RhdGFfYnV0dG9uXCIsICQoXCIuc2VyaWVzX3NuaXBwZXRcIikpLnNob3coKTtcblxuICAgICAgICAvL3doZW4gcGx1cyBidXR0b25zIGFyZSBjbGlja2VkLCBkdXBsaWNhdGUgdGhlIGV4dHJhIGRhdGEgZW50cnkgYm94ZXNcbiAgICAgICAgJChcIi5zZXJpZXNfYWRkX2V4dHJhX2RhdGFfYnV0dG9uXCIpLnVuYmluZCgpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciAkZXh0cmFfZGF0YV9kaXYgPSAkKHRoaXMpLnBhcmVudHMoXCIuc2VyaWVzX2V4dHJhX2RhdGFfZGl2XCIpO1xuXG4gICAgICAgICAgICAkZXh0cmFfZGF0YV9kaXYuY2xvbmUoKS5oaWRlKCkuaW5zZXJ0QWZ0ZXIoJGV4dHJhX2RhdGFfZGl2KS5mYWRlSW4oKS5jaGlsZHJlbigpLnZhbChcIlwiKTtcbiAgICAgICAgICAgIC8vcmViaW5kIGV4dHJhIGRhdGEgY2hhbmdlc1xuICAgICAgICAgICAgdXBkYXRlX2luZGl2aWR1YWxfc2VyaWVzLnNlcmllc0V4dHJhRGF0YUNoYW5nZShjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL3doZW4gbWluaXVzIGJ1dHRvbnMgYXJlIGNsaWNrZWQsIHJlbW92ZSB0aGUgZXh0cmEgZGF0YSBlbnRyeSBib3hlc1xuICAgICAgICAkKFwiLnNlcmllc19zdWJ0cmFjdF9leHRyYV9kYXRhX2J1dHRvblwiKS51bmJpbmQoKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoXCIuc2VyaWVzX2V4dHJhX2RhdGFfZGl2XCIpLmZhZGVPdXQoMzAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIC8vd2hlbiBleHRyYSBkYXRhIHRpdGxlIHRleHQgYXJlYXMgYXJlIGNoYW5nZWRcbiAgICAgICAgJChcIi5zZXJpZXNfZXh0cmFfZGF0YV90aXRsZV90ZXh0YXJlYSwgLnNlcmllc19leHRyYV9kYXRhX3ZhbHVlc190ZXh0YXJlYVwiKS51bmJpbmQoJ2lucHV0IHByb3BlcnR5Y2hhbmdlJykuYmluZCgnaW5wdXQgcHJvcGVydHljaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB1cGRhdGVfaW5kaXZpZHVhbF9zZXJpZXMudXBkYXRlRXh0cmFEYXRhKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG4gICAgICAgIH0pO1xuXG4gICAgfSxcblxuXG5cblxuICAgIC8qKiBjYWxsZWQgd2hlbiB0aGUgc2VyaWVzIHR5cGUgaWNvbnMgYXJlIGNsaWNrZWQuIEJpbmRlZCBhdCB0aGUgZW5kIG9mIHBvcHVsYXRlRm9ybSAqKi9cbiAgICBzZXJpZXNUeXBlSWNvbkNoYW5nZTogZnVuY3Rpb24gKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucykge1xuXG4gICAgICAgICQoXCIuc2VyaWVzX3R5cGVfaWNvblwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvL3VwZGF0ZSBzZXJpZXMgdHlwZVxuICAgICAgICAgICAgdmFyIGkgPSAkKHRoaXMpLnBhcmVudHMoXCIuc2VyaWVzX3NuaXBwZXRcIikuaW5kZXgoKTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gJCh0aGlzKS5hdHRyKFwidHlwZVwiKTtcbiAgICAgICAgICAgIHZhciBtYXJrZXIsXG4gICAgICAgICAgICAgICAgbGluZVdpZHRoLFxuICAgICAgICAgICAgICAgIHpJbmRleDtcblxuXG4gICAgICAgICAgICAvL2lmIHNjYXR0ZXIgY2hvc2VuLCBtYWtlIGl0IGEgbGluZSBjaGFydCB3aXRoIG1hcmtlcnMgYnV0IG5vIGxpbmVcblxuICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwic2NhdHRlclwiKSB7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICB6SW5kZXggPSA1MDA7XG4gICAgICAgICAgICAgICAgbWFya2VyID0ge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzeW1ib2w6IFwiY2lyY2xlXCJcbiAgICAgICAgICAgICAgICB9O1xuXG5cbiAgICAgICAgICAgIH0gZWxzZSB7IC8vbm90IHNjYXR0ZXJcblxuICAgICAgICAgICAgICAgIHpJbmRleCA9IHR5cGUgPT09IFwiY29sdW1uXCIgPyAtMSA6IGk7XG4gICAgICAgICAgICAgICAgbWFya2VyID0ge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbGluZVdpZHRoID0gdHlwZSA9PT0gXCJsaW5lXCIgPyAxIDogMDtcblxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGNoYXJ0LnNlcmllc1tpXS51cGRhdGUoe1xuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgbGluZVdpZHRoOiBsaW5lV2lkdGgsXG4gICAgICAgICAgICAgICAgekluZGV4OiB6SW5kZXgsXG4gICAgICAgICAgICAgICAgbWFya2VyOiBtYXJrZXJcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvL3VwZGF0ZSBhbGxfY2hhcnRfb3B0aW9uc1xuICAgICAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMuc2VyaWVzW2ldLnR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMuc2VyaWVzW2ldLmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcbiAgICAgICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnNlcmllc1tpXS56SW5kZXggPSB6SW5kZXg7XG4gICAgICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy5zZXJpZXNbaV0ubWFya2VyID0gbWFya2VyO1xuXG5cblxuICAgICAgICAgICAgLy9oaWdobGlnaHQgY2xpY2tlZCBpY29uXG4gICAgICAgICAgICAkKFwiLnNlbGVjdGVkXCIsICQodGhpcykucGFyZW50KCkpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7XG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwic2VsZWN0ZWRcIik7XG5cbiAgICAgICAgICAgIC8vaGlkZSBvciBzaG93IHRoZSBsaW5lIHN0eWxlcyBmb3IgdGhhdCBzZXJpZXNcbiAgICAgICAgICAgIHR5cGUgPT09IFwibGluZVwiID8gJChcIi5saW5lX3N0eWxlX2RpdjplcShcIiArIGkgKyBcIilcIikuc2hvdygpIDogJChcIi5saW5lX3N0eWxlX2RpdjplcShcIiArIGkgKyBcIilcIikuaGlkZSgpO1xuXG4gICAgICAgIH0pO1xuICAgIH0sXG5cblxuXG5cbiAgICAvKiogY2FsbGVkIHdoZW4gc2VyaWVzIHZpc2libGUgYnkgZGVmYXVsdCBjaGVja2JveCBpcyBjaGFuZ2VkLiAgQmluZGVkIGF0IHRoZSBlbmQgb2YgcG9wdWxhdGVGb3JtICoqL1xuICAgIHNlcmllc1Zpc2libGVDaGFuZ2U6IGZ1bmN0aW9uIChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpIHtcblxuICAgICAgICAkKFwiLnNlcmllc192aXNpYmxlX2NoZWNrYm94XCIpLmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaXNfdmlzaWJsZSA9IHV0aWxzX2Zvcm1zLmdldENoZWNrQm94VmFsdWUoJCh0aGlzKSk7XG4gICAgICAgICAgICB2YXIgaSA9ICQodGhpcykucGFyZW50cyhcIi5zZXJpZXNfc25pcHBldFwiKS5pbmRleCgpO1xuICAgICAgICAgICAgY2hhcnQuc2VyaWVzW2ldLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgdmlzaWJsZTogaXNfdmlzaWJsZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vdXBkYXRlIGFsbF9jaGFydF9vcHRpb25zXG4gICAgICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy5zZXJpZXNbaV0udmlzaWJsZSA9IGlzX3Zpc2libGU7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cblxuXG4gICAgLyoqIGNhbGxlZCB3aGVuIHRoZSBqc2NvbG9yIHNlbGVjdG9yIGlzIGNoYW5nZWQgKG1vdXNlIHN0aWxsIGRvd24pLiBVcGRhdGVzIHRoZSBhY3R1YWwgY2hhcnQgb2JqZWN0IGFuZCBhbGxfY2hhcnRfb3B0aW9ucyBjb2RlIG91dHB1dCBvYmplY3QqKiovXG4gICAgdXBkYXRlU2VyaWVzQ29sb3I6IGZ1bmN0aW9uIChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMsIGksIGpzY29sb3IpIHtcblxuICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy5jb2xvcnNbaV0gPSB0eXBlb2YganNjb2xvciA9PT0gXCJzdHJpbmdcIiA/IGpzY29sb3IgOiBqc2NvbG9yLnRvUkdCU3RyaW5nKCk7XG4gICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnNlcmllc1tpXS5jb2xvciA9IGFsbF9jaGFydF9vcHRpb25zLmNvbG9yc1tpXTtcbiAgICAgICAgY2hhcnQuc2VyaWVzW2ldLnVwZGF0ZSh7XG4gICAgICAgICAgICBjb2xvcjogYWxsX2NoYXJ0X29wdGlvbnMuc2VyaWVzW2ldLmNvbG9yXG4gICAgICAgIH0pO1xuICAgIH0sXG5cblxuXG4gICAgLyoqIGJvdW5kIHdpdGggcG9wdWxhdGVGb3JtLiBXaGVuIHRoZSBsaW5lIHN0eWxlIGRyb3Bkb3duIGlzIGNoYW5nZWQsIGNoYW5nZSB0aGF0IHNlcmllcyAqKi9cbiAgICBsaW5lU3R5bGVTZWxlY3RDaGFuZ2U6IGZ1bmN0aW9uIChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpIHtcbiAgICAgICAgJChcIi5saW5lX3N0eWxlX3NlbGVjdFwiKS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGxpbmVfc3R5bGUgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGkgPSAkKHRoaXMpLnBhcmVudHMoXCIuc2VyaWVzX3NuaXBwZXRcIikuaW5kZXgoKTtcblxuICAgICAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMuc2VyaWVzW2ldLmRhc2hTdHlsZSA9IGxpbmVfc3R5bGU7XG5cbiAgICAgICAgICAgIGNoYXJ0LnNlcmllc1tpXS51cGRhdGUoe1xuICAgICAgICAgICAgICAgIGRhc2hTdHlsZTogbGluZV9zdHlsZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cblxuXG5cbiAgICAvKiogbWFrZXMgYSBjb2xvciBib3gsIGNhbGxlZCBmcm9tIHBvcHVsYXRlRm9ybSAqKi9cbiAgICBtYWtlU2VyaWVzQ29sb3JEaXY6IGZ1bmN0aW9uIChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMsIGkpIHtcbiAgICAgICAgdmFyIHNlcmllc19jb2xvcl9kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBzZXJpZXNfY29sb3JfZGl2LmNsYXNzTmFtZSA9IFwic2VyaWVzX2NvbG9yX2RpdlwiO1xuXG4gICAgICAgIC8vIG1ha2UgYSBjb2xvciBsYWJlbFxuICAgICAgICB2YXIgc2VyaWVzX2NvbG9yX2xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgICAgICAkKHNlcmllc19jb2xvcl9sYWJlbCkuYWRkQ2xhc3MoXCJzZXJpZXNfY29sb3JfbGFiZWxcIilcbiAgICAgICAgICAgIC50ZXh0KFwiQ29sb3I6IFwiKTtcblxuICAgICAgICAvL21ha2UgY29sb3IgaW5wdXQgYm94XG4gICAgICAgIHZhciBzZXJpZXNfY29sb3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICAkKHNlcmllc19jb2xvcikuYWRkQ2xhc3MoXCJqc2NvbG9yIHt2YWx1ZUVsZW1lbnQ6bnVsbH1cIilcbiAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgXCJzZXJpZXNfY29sb3JfXCIgKyBpKTtcblxuICAgICAgICAvL2luaXQgd2l0aCBjb2xvciwgdXNpbmcganNjb2xvci5qc1xuICAgICAgICB2YXIgcGlja2VyID0gbmV3IGpzY29sb3Ioc2VyaWVzX2NvbG9yLCB7XG4gICAgICAgICAgICBvbkZpbmVDaGFuZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVfaW5kaXZpZHVhbF9zZXJpZXMudXBkYXRlU2VyaWVzQ29sb3IoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zLCBpLCB0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcblxuXG5cbiAgICAgICAgLy9jb252ZXJ0IHJnYiBzdHJpbmcgaW50byBhcnJyYXlcbiAgICAgICAgdmFyIGMgPSBpIDwgMTUgPyBpIDogaSAtIDE1O1xuICAgICAgICB2YXIgY29sb3IgPSBhbGxfY2hhcnRfb3B0aW9ucy5jb2xvcnNbY10gfHwgXCIjMDAwXCI7XG5cbiAgICAgICAgLy9jcmVhdGUgcGlja2VyXG4gICAgICAgIGlmIChjb2xvci5jaGFyQXQoMCkgPT09IFwiI1wiKSB7IC8vaWYgaGV4XG4gICAgICAgICAgICBwaWNrZXIuZnJvbVN0cmluZyhjb2xvcik7XG5cbiAgICAgICAgfSBlbHNlIHsgLy9lbHNlIGNvbG9yIGlzIHJnYlxuICAgICAgICAgICAgdmFyIHJnYiA9IHV0aWxzX21haW4ucmdiMmFycihjb2xvcik7XG4gICAgICAgICAgICBwaWNrZXIuZnJvbVJHQihyZ2JbMF0sIHJnYlsxXSwgcmdiWzJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vbWFrZSBjbGVhciBmbG9hdCBkaXZcbiAgICAgICAgdmFyIGNsZWFyX2RpdiA9IHV0aWxzX21haW4ubWFrZUNsZWFyRmxvYXREaXYoKTtcblxuICAgICAgICAkKHNlcmllc19jb2xvcl9kaXYpLmFwcGVuZChzZXJpZXNfY29sb3JfbGFiZWwsIHNlcmllc19jb2xvciwgY2xlYXJfZGl2KTtcblxuICAgICAgICByZXR1cm4gc2VyaWVzX2NvbG9yX2RpdjtcbiAgICB9LFxuXG5cblxuICAgIC8qKiBhZGQgbGluZSBzdHlsZSBvcHRpb24gLSBzaG93biBvbmx5IGlmIHR5cGUgaXMgbGluZSoqL1xuICAgIG1ha2VMaW5lU3R5bGVEaXY6IGZ1bmN0aW9uIChpKSB7XG5cbiAgICAgICAgdmFyIGxpbmVfc3R5bGVfZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgJChsaW5lX3N0eWxlX2RpdikuYWRkQ2xhc3MoXCJsaW5lX3N0eWxlX2RpdlwiKTtcblxuICAgICAgICB2YXIgbGluZV9zdHlsZV9sYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICAgICAgJChsaW5lX3N0eWxlX2xhYmVsKS5hZGRDbGFzcyhcImxpbmVfc3R5bGVfbGFiZWxcIilcbiAgICAgICAgICAgIC50ZXh0KFwiTGluZSBzdHlsZTogXCIpO1xuXG4gICAgICAgIHZhciBsaW5lX3N0eWxlX3NlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gICAgICAgICQobGluZV9zdHlsZV9zZWxlY3QpLmFkZENsYXNzKFwibGluZV9zdHlsZV9zZWxlY3RcIilcbiAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgXCJsaW5lX3N0eWxlX3NlbGVjdF9cIiArIGkpO1xuXG4gICAgICAgIHZhciBsaW5lX3N0eWxlX29wdGlvbl9zb2xpZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICAgICQobGluZV9zdHlsZV9vcHRpb25fc29saWQpLnRleHQoXCJTb2xpZFwiKVxuICAgICAgICAgICAgLnZhbChcIlNvbGlkXCIpO1xuXG4gICAgICAgIHZhciBsaW5lX3N0eWxlX29wdGlvbl9kYXNoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICAgICAgJChsaW5lX3N0eWxlX29wdGlvbl9kYXNoKS50ZXh0KFwiRGFzaFwiKVxuICAgICAgICAgICAgLnZhbChcIkRhc2hcIik7XG5cbiAgICAgICAgdmFyIGxpbmVfc3R5bGVfb3B0aW9uX2RvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICAgICQobGluZV9zdHlsZV9vcHRpb25fZG90KS50ZXh0KFwiRG90XCIpXG4gICAgICAgICAgICAudmFsKFwiRG90XCIpO1xuXG4gICAgICAgIHZhciBsaW5lX3N0eWxlX29wdGlvbl9sb25nX2Rhc2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgICAkKGxpbmVfc3R5bGVfb3B0aW9uX2xvbmdfZGFzaCkudGV4dChcIkxvbmcgZGFzaFwiKVxuICAgICAgICAgICAgLnZhbChcIkxvbmdEYXNoXCIpO1xuXG4gICAgICAgIHZhciBsaW5lX3N0eWxlX29wdGlvbl9kYXNoX2RvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICAgICQobGluZV9zdHlsZV9vcHRpb25fZGFzaF9kb3QpLnRleHQoXCJEYXNoLWRvdFwiKVxuICAgICAgICAgICAgLnZhbChcIkRhc2hEb3RcIik7XG5cbiAgICAgICAgJChsaW5lX3N0eWxlX3NlbGVjdCkuYXBwZW5kKGxpbmVfc3R5bGVfb3B0aW9uX3NvbGlkLCBsaW5lX3N0eWxlX29wdGlvbl9kYXNoLCBsaW5lX3N0eWxlX29wdGlvbl9kb3QsIGxpbmVfc3R5bGVfb3B0aW9uX2xvbmdfZGFzaCwgbGluZV9zdHlsZV9vcHRpb25fZGFzaF9kb3QpO1xuXG4gICAgICAgICQobGluZV9zdHlsZV9kaXYpLmFwcGVuZChsaW5lX3N0eWxlX2xhYmVsLCBsaW5lX3N0eWxlX3NlbGVjdCk7XG5cbiAgICAgICAgcmV0dXJuIGxpbmVfc3R5bGVfZGl2O1xuXG4gICAgfSxcblxuXG5cblxuICAgIC8qKiBtYWtlcyBhbmQgcmV0dXJucyBkaXYgd2l0aCBpY29ucyB0aGF0IGxldCB1c2VyIGNob29zZSBsaW5lIG9yIGJhciB0eXBlIGZvciB0aGF0IHNlcmllcyAqKi9cbiAgICBtYWtlU2VyaWVzVHlwZURpdjogZnVuY3Rpb24gKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucywgaSkge1xuICAgICAgICB2YXIgc2VyaWVzX3R5cGVfZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgc2VyaWVzX3R5cGVfZGl2LmNsYXNzTmFtZSA9IFwic2VyaWVzX3R5cGVfZGl2XCI7XG4gICAgICAgIHNlcmllc190eXBlX2Rpdi5pZCA9IFwic2VyaWVzX3R5cGVfZGl2X1wiICsgaTtcblxuICAgICAgICAvL2xhYmVsXG4gICAgICAgIHZhciBzZXJpZXNfdHlwZV9sYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICAgICAgc2VyaWVzX3R5cGVfbGFiZWwuY2xhc3NOYW1lID0gXCJzZXJpZXNfdHlwZV9sYWJlbFwiO1xuICAgICAgICBzZXJpZXNfdHlwZV9sYWJlbC50ZXh0Q29udGVudCA9IFwiVHlwZTogXCI7XG5cblxuICAgICAgICAvL2NvbHVtbiBpY29uXG4gICAgICAgIHZhciBzZXJpZXNfdHlwZV9jb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAkKHNlcmllc190eXBlX2NvbHVtbikuYWRkQ2xhc3MoXCJzZXJpZXNfdHlwZV9pY29uIHNlcmllc190eXBlX2NvbHVtblwiKVxuICAgICAgICAgICAgLmF0dHIoXCJ0eXBlXCIsIFwiY29sdW1uXCIpLmF0dHIoXCJ0aXRsZVwiLCBcIkNvbHVtblwiKTtcbiAgICAgICAgaWYgKGNoYXJ0LnNlcmllc1tpXS50eXBlID09PSBcImNvbHVtblwiKSB7XG4gICAgICAgICAgICAkKHNlcmllc190eXBlX2NvbHVtbikuYWRkQ2xhc3MoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vbGluZSBpY29uXG4gICAgICAgIHZhciBzZXJpZXNfdHlwZV9saW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgJChzZXJpZXNfdHlwZV9saW5lKS5hZGRDbGFzcyhcInNlcmllc190eXBlX2ljb24gc2VyaWVzX3R5cGVfbGluZVwiKVxuICAgICAgICAgICAgLmF0dHIoXCJ0eXBlXCIsIFwibGluZVwiKS5hdHRyKFwidGl0bGVcIiwgXCJMaW5lXCIpO1xuICAgICAgICBpZiAoY2hhcnQuc2VyaWVzW2ldLnR5cGUgPT09IFwibGluZVwiKSB7XG4gICAgICAgICAgICAkKHNlcmllc190eXBlX2xpbmUpLmFkZENsYXNzKFwic2VsZWN0ZWRcIik7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vc2NhdHRlciBpY29uXG4gICAgICAgIHZhciBzZXJpZXNfdHlwZV9zY2F0dGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgJChzZXJpZXNfdHlwZV9zY2F0dGVyKS5hZGRDbGFzcyhcInNlcmllc190eXBlX2ljb24gc2VyaWVzX3R5cGVfc2NhdHRlclwiKVxuICAgICAgICAgICAgLmF0dHIoXCJ0eXBlXCIsIFwic2NhdHRlclwiKS5hdHRyKFwidGl0bGVcIiwgXCJKdXN0IG1hcmtlcnNcIik7XG5cblxuICAgICAgICB2YXIgY2xlYXJfZGl2ID0gdXRpbHNfbWFpbi5tYWtlQ2xlYXJGbG9hdERpdigpO1xuXG5cbiAgICAgICAgLy9wdXQgaXQgdG9nZXRoZXJcbiAgICAgICAgJChzZXJpZXNfdHlwZV9kaXYpLmFwcGVuZChzZXJpZXNfdHlwZV9sYWJlbCwgc2VyaWVzX3R5cGVfbGluZSwgc2VyaWVzX3R5cGVfY29sdW1uLCBzZXJpZXNfdHlwZV9zY2F0dGVyLCBjbGVhcl9kaXYpO1xuXG4gICAgICAgIHJldHVybiBzZXJpZXNfdHlwZV9kaXY7XG4gICAgfSxcblxuICAgIC8qKiBtYWtlcyBhbmQgcmV0dXJucyBhIGRpdiB3aXRoIGEgY2hlY2tib3ggdGhhdCBsZXRzIHVzZXIgZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHNlcmllcyBzaG91bGQgYmUgdmlzaWJsZSBieSBkZWZhdWx0ICoqL1xuXG4gICAgbWFrZVNlcmllc1Zpc2libGVEaXY6IGZ1bmN0aW9uIChhbGxfY2hhcnRfb3B0aW9ucywgaSkge1xuICAgICAgICB2YXIgc2VyaWVzX3Zpc2libGVfZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgc2VyaWVzX3Zpc2libGVfZGl2LmNsYXNzTmFtZSA9IFwic2VyaWVzX3Zpc2libGVfZGl2XCI7XG5cbiAgICAgICAgdmFyIHNlcmllc192aXNpYmxlX2xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgICAgICBzZXJpZXNfdmlzaWJsZV9sYWJlbC5jbGFzc05hbWUgPSBcInNlcmllc192aXNpYmxlX2xhYmVsXCI7XG4gICAgICAgIHNlcmllc192aXNpYmxlX2xhYmVsLnRleHRDb250ZW50ID0gXCJWaXNpYmxlIGJ5IGRlZmF1bHQ6IFwiO1xuICAgICAgICBzZXJpZXNfdmlzaWJsZV9sYWJlbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgXCJzZXJpZXNfdmlzaWJsZV9jaGVja2JveF9cIiArIGkpO1xuXG4gICAgICAgIHZhciBzZXJpZXNfdmlzaWJsZV9jaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgc2VyaWVzX3Zpc2libGVfY2hlY2tib3guc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImNoZWNrYm94XCIpO1xuICAgICAgICBzZXJpZXNfdmlzaWJsZV9jaGVja2JveC5jaGVja2VkID0gYWxsX2NoYXJ0X29wdGlvbnMuc2VyaWVzW2ldLnZpc2libGUgPyBcImNoZWNrZWRcIiA6IG51bGw7XG4gICAgICAgIHNlcmllc192aXNpYmxlX2NoZWNrYm94LmlkID0gXCJzZXJpZXNfdmlzaWJsZV9jaGVja2JveF9cIiArIGk7XG5cblxuICAgICAgICBzZXJpZXNfdmlzaWJsZV9jaGVja2JveC5jbGFzc05hbWUgPSBcInNlcmllc192aXNpYmxlX2NoZWNrYm94XCI7XG5cbiAgICAgICAgc2VyaWVzX3Zpc2libGVfZGl2LmFwcGVuZENoaWxkKHNlcmllc192aXNpYmxlX2xhYmVsKTtcbiAgICAgICAgc2VyaWVzX3Zpc2libGVfZGl2LmFwcGVuZENoaWxkKHNlcmllc192aXNpYmxlX2NoZWNrYm94KTtcblxuICAgICAgICByZXR1cm4gc2VyaWVzX3Zpc2libGVfZGl2O1xuICAgIH0sXG5cblxuICAgIC8qKiBtYWtlcyBhbmQgcmV0dXJucyBhIGRpdiB0aGF0IGhhcyBvcHRpb25zIHRvIGFkZCBleHRyYSBkYXRhIHRvIGEgc2VyaWVzIGZvciBpdHMgdG9vbHRpcCAqKi9cblxuICAgIG1ha2VTZXJpZXNFeHRyYURhdGFEaXY6IGZ1bmN0aW9uIChhbGxfY2hhcnRfb3B0aW9ucywgaSwgaikge1xuICAgICAgICB2YXIgaiA9IGogfHwgMDtcblxuICAgICAgICB2YXIgc2VyaWVzX2V4dHJhX2RhdGFfZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgJChzZXJpZXNfZXh0cmFfZGF0YV9kaXYpLmFkZENsYXNzKFwic2VyaWVzX2V4dHJhX2RhdGFfZGl2XCIpO1xuXG5cblxuICAgICAgICAvL21ha2UgdGl0bGUgYm94IGFuZCBsYWJlbFxuICAgICAgICB2YXIgc2VyaWVzX2V4dHJhX2RhdGFfdGl0bGVfbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgICAgICQoc2VyaWVzX2V4dHJhX2RhdGFfdGl0bGVfbGFiZWwpLmFkZENsYXNzKFwic2VyaWVzX2V4dHJhX2RhdGFfdGl0bGVfbGFiZWxcIilcbiAgICAgICAgICAgIC50ZXh0KFwiRXh0cmEgZGF0YSB0aXRsZSBmb3IgdG9vbHRpcDogXCIpO1xuXG5cbiAgICAgICAgLy90aXRsZSB0ZXh0IGFyZWFcbiAgICAgICAgdmFyIHNlcmllc19leHRyYV9kYXRhX3RpdGxlX3RleHRhcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xuXG4gICAgICAgIHNlcmllc19leHRyYV9kYXRhX3RpdGxlX3RleHRhcmVhLnN0eWxlID0gXCJoZWlnaHQ6IDMwcHhcIjtcbiAgICAgICAgc2VyaWVzX2V4dHJhX2RhdGFfdGl0bGVfdGV4dGFyZWEuY2xhc3NOYW1lID0gXCJzZXJpZXNfZXh0cmFfZGF0YV90aXRsZV90ZXh0YXJlYVwiO1xuICAgICAgICBzZXJpZXNfZXh0cmFfZGF0YV90aXRsZV90ZXh0YXJlYS5pZCA9IFwic2VyaWVzX2V4dHJhX2RhdGFfdGl0bGVfdGV4dGFyZWFfXCIgKyBpO1xuICAgICAgICBzZXJpZXNfZXh0cmFfZGF0YV90aXRsZV90ZXh0YXJlYS52YWx1ZSA9IGFsbF9jaGFydF9vcHRpb25zLnNlcmllc1tpXS5leHRyYV9kYXRhID8gYWxsX2NoYXJ0X29wdGlvbnMuc2VyaWVzW2ldLmV4dHJhX2RhdGFbal0ubmFtZSA6IFwiXCI7XG5cbiAgICAgICAgLy9tYWtlIHZhbHVlcyBib3ggYW5kIGxhYmVsXG4gICAgICAgIHZhciBzZXJpZXNfZXh0cmFfZGF0YV92YWx1ZXNfbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgICAgIHNlcmllc19leHRyYV9kYXRhX3ZhbHVlc19sYWJlbC5jbGFzc05hbWUgPSBcInNlcmllc19leHRyYV9kYXRhX3ZhbHVlc19sYWJlbFwiO1xuICAgICAgICBzZXJpZXNfZXh0cmFfZGF0YV92YWx1ZXNfbGFiZWwudGV4dENvbnRlbnQgPSBcIkV4dHJhIGRhdGEgdmFsdWVzIGZvciB0b29sdGlwOiBcIjtcblxuICAgICAgICAvL3ZhbHVlcyB0ZXh0IGFyZWFcbiAgICAgICAgdmFyIHNlcmllc19leHRyYV9kYXRhX3ZhbHVlc190ZXh0YXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcbiAgICAgICAgc2VyaWVzX2V4dHJhX2RhdGFfdmFsdWVzX3RleHRhcmVhLmNsYXNzTmFtZSA9IFwic2VyaWVzX2V4dHJhX2RhdGFfdmFsdWVzX3RleHRhcmVhXCI7XG4gICAgICAgIHNlcmllc19leHRyYV9kYXRhX3ZhbHVlc190ZXh0YXJlYS5pZCA9IFwic2VyaWVzX2V4dHJhX2RhdGFfdmFsdWVzX3RleHRhcmVhX1wiICsgaTtcbiAgICAgICAgc2VyaWVzX2V4dHJhX2RhdGFfdmFsdWVzX3RleHRhcmVhLnZhbHVlID0gYWxsX2NoYXJ0X29wdGlvbnMuc2VyaWVzW2ldLmV4dHJhX2RhdGEgPyBhbGxfY2hhcnRfb3B0aW9ucy5zZXJpZXNbaV0uZXh0cmFfZGF0YVtqXS52YWx1ZXMuam9pbihcIlxcblwiKSA6IFwiXCI7IC8vL25lZWQgdG8gbWFrZSB0aGlzIExPUFAgVEhST1VHSCBFQUNIIEVYVFJBIERBVEEgSU4gQVJSQVlcblxuXG4gICAgICAgIC8vbm90ZXNcbiAgICAgICAgdmFyIGV4dHJhX2RhdGFfbm90ZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcblxuICAgICAgICAkKGV4dHJhX2RhdGFfbm90ZXMpLmFkZENsYXNzKFwibm90ZXNcIilcbiAgICAgICAgICAgIC50ZXh0KFwiRm9yIGVhY2ggcG9pbnQgaW4gYSBzZXJpZXMsIHNlcGFyYXRlIHRoZSBleHRyYSB2YWx1ZSB3aXRoIGEgbmV3IGxpbmUuIEFueSBmb3JtYXR0aW5nIHdpbGwgYmUgY2FycmllZCBvdmVyLCBzbyBpZiB5b3Ugd2FudCBjb21tYXMgb3IgYSBkb2xsYXIgc2lnbiBpbiB5b3VyIHZhbHVlLCBtYWtlIHN1cmUgdG8gaW5jbHVkZSB0aGF0IGhlcmUuXCIpO1xuXG4gICAgICAgIC8vYWRkIGJ1dHRvblxuICAgICAgICB2YXIgYWRkX2V4dHJhX2RhdGFfYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgJChhZGRfZXh0cmFfZGF0YV9idXR0b24pXG4gICAgICAgICAgICAuYWRkQ2xhc3MoXCJzZXJpZXNfYWRkX2V4dHJhX2RhdGFfYnV0dG9uXCIpXG4gICAgICAgICAgICAudGV4dChcIitcIilcbiAgICAgICAgICAgIC5jc3Moe1xuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgZmxvYXQ6IFwibGVmdFwiLFxuICAgICAgICAgICAgICAgIFwiZm9udC1zaXplXCI6IFwiMTkwJVwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMzMzdhYjdcIixcbiAgICAgICAgICAgICAgICBcImxpbmUtaGVpZ2h0XCI6IFwiLjlcIlxuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAvL3N1YnRyYWN0IGJ1dHRvblxuICAgICAgICB2YXIgc3VidHJhY3RfZXh0cmFfZGF0YV9idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAkKHN1YnRyYWN0X2V4dHJhX2RhdGFfYnV0dG9uKVxuICAgICAgICAgICAgLmFkZENsYXNzKFwic2VyaWVzX3N1YnRyYWN0X2V4dHJhX2RhdGFfYnV0dG9uXCIpXG4gICAgICAgICAgICAuaHRtbChcIiZtaW51cztcIilcbiAgICAgICAgICAgIC5jc3Moe1xuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgZmxvYXQ6IFwibGVmdFwiLFxuICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiMTBweFwiLFxuICAgICAgICAgICAgICAgIFwiZm9udC1zaXplXCI6IFwiMTkwJVwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMzMzdhYjdcIixcbiAgICAgICAgICAgICAgICBcImxpbmUtaGVpZ2h0XCI6IFwiLjlcIixcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIlxuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAvL2NsZWFyZmxvYXQgZGl2XG4gICAgICAgIHZhciBjbGVhcl9kaXYgPSB1dGlsc19tYWluLm1ha2VDbGVhckZsb2F0RGl2KCk7XG5cblxuICAgICAgICAvL2hvcml6b250YWwgcnVsZVxuICAgICAgICB2YXIgZXh0cmFfZGF0YV9ociA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoclwiKTtcbiAgICAgICAgZXh0cmFfZGF0YV9oci5zdHlsZSA9IFwibWFyZ2luLWJvdHRvbTogMHB4O1wiXG5cblxuICAgICAgICAvL3B1dCBpdCBhbGwgdG9nZXRoZXJcblxuICAgICAgICAkKHNlcmllc19leHRyYV9kYXRhX2RpdikuYXBwZW5kKGV4dHJhX2RhdGFfaHIsXG4gICAgICAgICAgICBzZXJpZXNfZXh0cmFfZGF0YV90aXRsZV9sYWJlbCxcbiAgICAgICAgICAgIHNlcmllc19leHRyYV9kYXRhX3RpdGxlX3RleHRhcmVhLFxuICAgICAgICAgICAgc2VyaWVzX2V4dHJhX2RhdGFfdmFsdWVzX2xhYmVsLFxuICAgICAgICAgICAgc2VyaWVzX2V4dHJhX2RhdGFfdmFsdWVzX3RleHRhcmVhLFxuICAgICAgICAgICAgZXh0cmFfZGF0YV9ub3RlcyxcbiAgICAgICAgICAgIGFkZF9leHRyYV9kYXRhX2J1dHRvbixcbiAgICAgICAgICAgIHN1YnRyYWN0X2V4dHJhX2RhdGFfYnV0dG9uLFxuICAgICAgICAgICAgY2xlYXJfZGl2KTtcblxuICAgICAgICByZXR1cm4gc2VyaWVzX2V4dHJhX2RhdGFfZGl2O1xuICAgIH0sXG5cblxuXG5cbiAgICAvKiogcG9wdWxhdGVzICNkaXNwbGF5X3Nlcmllc19vcHRpb25zIHdpdGggb3B0aW9ucyBmb3IgZWFjaCBzZXJpZXMuIENhbGxlZCB3aGVuIGl0cyBzaWRlIG5hdiB0YWIgaXMgc2VsZWN0ZWQgZnJvbSBuYXZpZ2F0aW9uX3NldHVwLiAqKi9cbiAgICBwb3B1bGF0ZUZvcm06IGZ1bmN0aW9uIChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpIHtcblxuICAgICAgICB2YXIgZGlzcGxheV9zZXJpZXNfb3B0aW9uc19pbm5lcl9kaXYgPSAkKFwiI2Rpc3BsYXlfc2VyaWVzX29wdGlvbnNfaW5uZXJfZGl2XCIpO1xuICAgICAgICBkaXNwbGF5X3Nlcmllc19vcHRpb25zX2lubmVyX2Rpdi5lbXB0eSgpO1xuXG4gICAgICAgICQoY2hhcnQuc2VyaWVzKS5lYWNoKGZ1bmN0aW9uIChpLCBzZXJpZXMpIHtcblxuICAgICAgICAgICAgLy9tYWtlIHNlcmllcyBuYW1lIGhlYWRlclxuICAgICAgICAgICAgdmFyIHNlcmllc19uYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDUnKTtcbiAgICAgICAgICAgIHNlcmllc19uYW1lLnRleHRDb250ZW50ID0gdGhpcy5uYW1lO1xuXG4gICAgICAgICAgICAvL21ha2Ugc2VyaWVzIGNvbG9yIGlucHV0XG4gICAgICAgICAgICB2YXIgc2VyaWVzX2NvbG9yX2RpdiA9IHVwZGF0ZV9pbmRpdmlkdWFsX3Nlcmllcy5tYWtlU2VyaWVzQ29sb3JEaXYoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zLCBpKTtcblxuICAgICAgICAgICAgLy9tYWtlIG91dGVyIHNuaXBwZXQgcCB0YWdcbiAgICAgICAgICAgIHZhciBzZXJpZXNfc25pcHBldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgICAgIHNlcmllc19zbmlwcGV0LmNsYXNzTmFtZSA9IFwic2VyaWVzX3NuaXBwZXRcIjtcblxuICAgICAgICAgICAgc2VyaWVzX3NuaXBwZXQuYXBwZW5kQ2hpbGQoc2VyaWVzX25hbWUpO1xuICAgICAgICAgICAgc2VyaWVzX3NuaXBwZXQuYXBwZW5kQ2hpbGQoc2VyaWVzX2NvbG9yX2Rpdik7XG5cbiAgICAgICAgICAgIC8vbWFrZSBzZXJpZXMgdHlwZSBkaXYgaWYgYXBwbGljYWJsZVxuICAgICAgICAgICAgaWYgKFtcImxpbmVcIiwgXCJjb2x1bW5cIl0uaW5kZXhPZihhbGxfY2hhcnRfb3B0aW9ucy5jaGFydC50eXBlKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlcmllc190eXBlX2RpdiA9IHVwZGF0ZV9pbmRpdmlkdWFsX3Nlcmllcy5tYWtlU2VyaWVzVHlwZURpdihjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMsIGkpO1xuICAgICAgICAgICAgICAgIHNlcmllc19zbmlwcGV0LmFwcGVuZENoaWxkKHNlcmllc190eXBlX2Rpdik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vbWFrZSBsaW5lIHN0eWxlIGRpdlxuICAgICAgICAgICAgdmFyIGxpbmVfc3R5bGVfZGl2ID0gdXBkYXRlX2luZGl2aWR1YWxfc2VyaWVzLm1ha2VMaW5lU3R5bGVEaXYoaSk7XG4gICAgICAgICAgICBzZXJpZXNfc25pcHBldC5hcHBlbmRDaGlsZChsaW5lX3N0eWxlX2Rpdik7XG5cbiAgICAgICAgICAgIC8vbWFrZSBcImlzIHNlcmllcyB2aXNpYmxlIG9uIHN0YXJ0dXA/XCIgZGl2XG4gICAgICAgICAgICB2YXIgc2VyaWVzX3Zpc2libGVfZGl2ID0gdXBkYXRlX2luZGl2aWR1YWxfc2VyaWVzLm1ha2VTZXJpZXNWaXNpYmxlRGl2KGFsbF9jaGFydF9vcHRpb25zLCBpKTtcbiAgICAgICAgICAgIHNlcmllc19zbmlwcGV0LmFwcGVuZENoaWxkKHNlcmllc192aXNpYmxlX2Rpdik7XG5cbiAgICAgICAgICAgIC8vbWFrZSBleHRyYSBkYXRhIGRpdiB0ZXh0IGFyZWEgKGRlZmF1bHQgb2YgMSwgYnV0IGNhbiBiZSBtb3JlIGlmIHNlcmllcyBhbHJlYWR5IGhhcyBleHRyYV9kYXRhKVxuICAgICAgICAgICAgaWYgKHNlcmllcy5leHRyYV9kYXRhKSB7XG4gICAgICAgICAgICAgICAgJC5lYWNoKHNlcmllcy5leHRyYV9kYXRhLCBmdW5jdGlvbiAoaikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VyaWVzX2V4dHJhX2RhdGFfZGl2ID0gdXBkYXRlX2luZGl2aWR1YWxfc2VyaWVzLm1ha2VTZXJpZXNFeHRyYURhdGFEaXYoYWxsX2NoYXJ0X29wdGlvbnMsIGksIGopO1xuICAgICAgICAgICAgICAgICAgICBzZXJpZXNfc25pcHBldC5hcHBlbmRDaGlsZChzZXJpZXNfZXh0cmFfZGF0YV9kaXYpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VyaWVzX2V4dHJhX2RhdGFfZGl2ID0gdXBkYXRlX2luZGl2aWR1YWxfc2VyaWVzLm1ha2VTZXJpZXNFeHRyYURhdGFEaXYoYWxsX2NoYXJ0X29wdGlvbnMsIGkpO1xuICAgICAgICAgICAgICAgIHNlcmllc19zbmlwcGV0LmFwcGVuZENoaWxkKHNlcmllc19leHRyYV9kYXRhX2Rpdik7XG4gICAgICAgICAgICB9XG5cblxuXG5cbiAgICAgICAgICAgIC8vYXBwZW5kIGFsbFxuICAgICAgICAgICAgJChkaXNwbGF5X3Nlcmllc19vcHRpb25zX2lubmVyX2RpdikuYXBwZW5kKHNlcmllc19zbmlwcGV0KTtcblxuXG4gICAgICAgICAgICBpZiAoYWxsX2NoYXJ0X29wdGlvbnMuY2hhcnQudHlwZSA9PT0gXCJsaW5lXCIpIHtcbiAgICAgICAgICAgICAgICAkKFwiLmxpbmVfc3R5bGVfZGl2XCIpLnNob3coKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcblxuICAgICAgICAvL2JpbmQgc2VyaWVzIHR5cGUgY2hhbmdlc1xuICAgICAgICB1cGRhdGVfaW5kaXZpZHVhbF9zZXJpZXMuc2VyaWVzVHlwZUljb25DaGFuZ2UoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcblxuICAgICAgICAvL2JpbmQgbGluZSBzdHlsZSBjaGFuZ2VzXG4gICAgICAgIHVwZGF0ZV9pbmRpdmlkdWFsX3Nlcmllcy5saW5lU3R5bGVTZWxlY3RDaGFuZ2UoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcblxuICAgICAgICAvL2JpbmQgaXMgdmlzaWJsZSBieSBkZWZhdWx0IGNoYW5nZXNcbiAgICAgICAgdXBkYXRlX2luZGl2aWR1YWxfc2VyaWVzLnNlcmllc1Zpc2libGVDaGFuZ2UoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcblxuICAgICAgICAvL2JpbmQgZXh0cmEgZGF0YSBjaGFuZ2VzXG4gICAgICAgIHVwZGF0ZV9pbmRpdmlkdWFsX3Nlcmllcy5zZXJpZXNFeHRyYURhdGFDaGFuZ2UoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICB9XG5cbn1cblxuXG5cbm1vZHVsZS5leHBvcnRzID0gdXBkYXRlX2luZGl2aWR1YWxfc2VyaWVzOyIsIi8qKiB3aGVuIGxlZ2VuZCBvcHRpb25zIGFyZSBjaGFuZ2VkIGluIHRoZSBzaWRlIGFyZWEgXG5AbmFtZXNwYWNlXG4qL1xuXG52YXIgdXBkYXRlX2xlZ2VuZCA9IHtcblxuICAgIC8qKiBkZWNpZGUgaWYgdGhlIGxlZ2VuZCBzaG91bGQgYmUgcmV2ZXJzZSBvcmRlciAqKi9cbiAgICB1cGRhdGVJc1JldmVyc2VkOiBmdW5jdGlvbiB1cGRhdGVJc1JldmVyc2VkKHZhbCwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKSB7XG5cbiAgICAgICAgdmFyIGxlZ2VuZCA9IGNoYXJ0LmxlZ2VuZDtcbiAgICAgICAgbGVnZW5kLm9wdGlvbnMucmV2ZXJzZWQgPSB2YWw7XG4gICAgICAgIGxlZ2VuZC5yZW5kZXIoKTtcblxuICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy5sZWdlbmQucmV2ZXJzZWQgPSB2YWw7XG4gICAgfSxcbiAgICBcbiAgICBcbiAgICBcbiAgICAvKiogdXBkYXRlcyBsZWdlbmQgaXRlbSB3aWR0aCAtIHVzZWZ1bGwgZm9yIG1ha2luZyBsZWdlbmRzIHdpdGggbG90cyBvZiBpdGVtcyBsb29rIG1vcmUgYWxpZ25lZCAqL1xuICAgIHVwZGF0ZUl0ZW1XaWR0aDogZnVuY3Rpb24obmV3SXRlbVdpZHRoLCBjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpe1xuICAgICAgICBcbiAgICAgICAgdmFyIGxlZ2VuZCA9IGNoYXJ0LmxlZ2VuZDtcbiAgICAgICAgbGVnZW5kLm9wdGlvbnMuaXRlbVdpZHRoID0gbmV3SXRlbVdpZHRoO1xuICAgICAgICBsZWdlbmQucmVuZGVyKGZhbHNlKTtcbiAgICAgICAgXG4gICAgICAgIGFsbF9jaGFydF9vcHRpb25zLmxlZ2VuZC5pdGVtV2lkdGggPSBuZXdJdGVtV2lkdGg7XG4gICAgfSxcblxuXG4gICAgLyoqIGlmICdubyBsZWdlbmQnIGlzIHNlbGVjdGVkLCBoaWRlIHRoZSBsZWdlbmQsIGFuZCBzZXQgb3B0aW9ucywgZWxzZSwgc2hvdyBpdCB3aXRoIHRoZSBjb3JyZWN0IGxheW91dCAqL1xuICAgIHVwZGF0ZUxheW91dDogZnVuY3Rpb24gKHZhbCwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKSB7XG5cbiAgICAgICAgdmFyIGxlZ2VuZCA9IGNoYXJ0LmxlZ2VuZDtcbiAgICAgICAgaWYgKHZhbCA9PT0gXCJub19sZWdlbmRcIikge1xuICAgICAgICAgICAgbGVnZW5kLmdyb3VwLmhpZGUoKTtcbiAgICAgICAgICAgIGxlZ2VuZC5ib3guaGlkZSgpO1xuICAgICAgICAgICAgbGVnZW5kLmRpc3BsYXkgPSBmYWxzZTtcbiAgICAgICAgICAgIGxlZ2VuZC5vcHRpb25zLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxlZ2VuZC5yZW5kZXIoZmFsc2UpO1xuXG4gICAgICAgICAgICB2YWwgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgbGVnZW5kLm9wdGlvbnMubGF5b3V0ID0gdmFsO1xuICAgICAgICAgICAgbGVnZW5kLnJlbmRlcihmYWxzZSk7XG4gICAgICAgICAgICBsZWdlbmQuZ3JvdXAuc2hvdygpO1xuICAgICAgICAgICAgbGVnZW5kLmJveC5zaG93KCk7XG4gICAgICAgICAgICBsZWdlbmQuZGlzcGxheSA9IHRydWU7XG4gICAgICAgICAgICBsZWdlbmQub3B0aW9ucy5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFsbF9jaGFydF9vcHRpb25zLmxlZ2VuZC5sYXlvdXQgPSB2YWw7XG4gICAgICAgIGFsbF9jaGFydF9vcHRpb25zLmxlZ2VuZC5lbmFibGVkID0gbGVnZW5kLm9wdGlvbnMuZW5hYmxlZDtcblxuICAgIH0sXG5cblxuXG4gICAgLyoqIHNldCBpZiB3aGVuIG9uZSBsZWdlbmQgaXRlbSBpcyBjbGlja2VkLCB0aGUgb3RoZXJzIGhpZGUgKi9cbiAgICB1cGRhdGVUb2dnbGU6IGZ1bmN0aW9uICh0b2dnbGVfZW5hYmxlZCwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKSB7XG5cbiAgICAgICAgLy91cGRhdGUgYWxsX2NoYXJ0X29wdGlvbnNcbiAgICAgICAgaWYgKHRvZ2dsZV9lbmFibGVkKSB7XG5cbiAgICAgICAgICAgIHZhciBsZWdlbmRJdGVtQ2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLmluZGV4O1xuICAgICAgICAgICAgICAgIHZhciBhbGxTZXJpZXMgPSB0aGlzLmNoYXJ0LnNlcmllcztcbiAgICAgICAgICAgICAgICAkLmVhY2goYWxsU2VyaWVzLCBmdW5jdGlvbiAoaW5kZXgsIHNlcmllcykge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZCA9PSBpbmRleCA/IHNlcmllcy5zaG93KCkgOiBzZXJpZXMuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGxlZ2VuZEl0ZW1DbGljayA9IGZ1bmN0aW9uIChldmVudCkge31cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY2hhcnQpIHtcbiAgICAgICAgICAgIHJldHVybiBsZWdlbmRJdGVtQ2xpY2s7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy5wbG90T3B0aW9ucy5zZXJpZXMuZXZlbnRzLmxlZ2VuZEl0ZW1DbGljayA9IGxlZ2VuZEl0ZW1DbGljaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vdXBkYXRlIGluIGN1cnJlbnQgY2hhcnRcbiAgICAgICAgJChjaGFydC5zZXJpZXMpLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHZhciBpc192aXNpYmxlID0gaSA+IDAgJiYgdG9nZ2xlX2VuYWJsZWQgPT09IHRydWUgPyBmYWxzZSA6IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlKHtcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiBpc192aXNpYmxlLFxuICAgICAgICAgICAgICAgIGV2ZW50czoge1xuICAgICAgICAgICAgICAgICAgICBsZWdlbmRJdGVtQ2xpY2s6IGFsbF9jaGFydF9vcHRpb25zLnBsb3RPcHRpb25zLnNlcmllcy5ldmVudHMubGVnZW5kSXRlbUNsaWNrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMuc2VyaWVzW2ldLnZpc2libGUgPSBpc192aXNpYmxlO1xuXG4gICAgICAgIH0pO1xuICAgIH0sXG5cblxuICAgIC8qKiB1cGRhdGUgWCBhbmQgWSBwb3NpdGlvbnMgb24gbGVnZW5kICovXG5cbiAgICB1cGRhdGVYWXBvc2l0aW9uczogZnVuY3Rpb24gKG5ld1gsIG5ld1ksIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucykge1xuICAgICAgICB2YXIgbGVnZW5kID0gY2hhcnQubGVnZW5kO1xuICAgICAgICBsZWdlbmQub3B0aW9ucy54ID0gbmV3WDtcbiAgICAgICAgbGVnZW5kLm9wdGlvbnMueSA9IG5ld1k7XG4gICAgICAgIGxlZ2VuZC5yZW5kZXIoZmFsc2UpO1xuXG4gICAgICAgIGFsbF9jaGFydF9vcHRpb25zLmxlZ2VuZC54ID0gbmV3WDtcbiAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMubGVnZW5kLnkgPSBuZXdZO1xuXG4gICAgfVxuXG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSB1cGRhdGVfbGVnZW5kOyIsInZhciB1dGlsc19tYWluID0gcmVxdWlyZShcIi4uL3V0aWxzL3V0aWxzX21haW4uanNcIik7XG5cblxuLyoqXG5mdW5jdGlvbnMgZm9yIHRoZSBpbmRpdmlkdWFsIHNlcmllcyB0YWIgZm9yIG1hcHMuIENhbGxlZCBhZCBwb3B1bGF0ZXMgZnJvbSBuYXZpZ2F0aW9uX3NldHVwLiBMZXRzIHVzZXIgZmluZSBhZGp1c3QgcmFuZ2VzIGFuZCBjb2xvcnNcbkBuYW1lc3BhY2VcbioqL1xudmFyIHVwZGF0ZV9tYXBfaW5kaXZpZHVhbF9zZXJpZXMgPSB7XG5cblxuICAgIC8qKiBtYWtlcyBhIGNvbG9yIGJveCwgY2FsbGVkIGZyb20gcG9wdWxhdGVGb3JtICoqL1xuICAgIG1ha2VNYXBDb2xvckRpdjogZnVuY3Rpb24gKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucywgYWxsX21hcF9vcHRpb25zLCBjb2xvciwgaSkge1xuXG4gICAgICAgIHZhciBtYXBfY29sb3JfZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbWFwX2NvbG9yX2Rpdi5jbGFzc05hbWUgPSBcIm1hcF9jb2xvcl9kaXZcIjtcblxuICAgICAgICAvL21ha2UgY29sb3IgaW5wdXQgYm94XG4gICAgICAgIHZhciBtYXBfY29sb3JfaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICAkKG1hcF9jb2xvcl9pbnB1dCkuYWRkQ2xhc3MoXCJqc2NvbG9yIHt2YWx1ZUVsZW1lbnQ6bnVsbH1cIik7XG4gICAgICAgIG1hcF9jb2xvcl9pbnB1dC5pZCA9IFwibWFwX2NvbG9yX2lucHV0XCIgKyBpO1xuXG4gICAgICAgIC8vaW5pdCB3aXRoIGNvbG9yLCB1c2luZyBqc2NvbG9yLmpzXG4gICAgICAgIHZhciBwaWNrZXIgPSBuZXcganNjb2xvcihtYXBfY29sb3JfaW5wdXQsIHtcbiAgICAgICAgICAgIG9uRmluZUNoYW5nZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZV9tYXBfaW5kaXZpZHVhbF9zZXJpZXMudXBkYXRlTWFwQ29sb3IoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zLCBhbGxfbWFwX29wdGlvbnMsIGksIHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgLy9jcmVhdGUgcGlja2VyXG4gICAgICAgIGlmIChjb2xvci5jaGFyQXQoMCkgPT09IFwiI1wiKSB7IC8vaWYgaGV4XG4gICAgICAgICAgICBwaWNrZXIuZnJvbVN0cmluZyhjb2xvcik7XG5cbiAgICAgICAgfSBlbHNlIHsgLy9lbHNlIGNvbG9yIGlzIHJnYlxuICAgICAgICAgICAgdmFyIHJnYiA9IHV0aWxzX21haW4ucmdiMmFycihjb2xvcik7XG4gICAgICAgICAgICBwaWNrZXIuZnJvbVJHQihyZ2JbMF0sIHJnYlsxXSwgcmdiWzJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcF9jb2xvcl9kaXYuYXBwZW5kQ2hpbGQobWFwX2NvbG9yX2lucHV0KTtcblxuXG4gICAgICAgIHJldHVybiBtYXBfY29sb3JfZGl2O1xuICAgIH0sXG5cblxuXG5cbiAgICAvKiogbWFrZXMgdGhlIHJhbmdlIHZhbHVlIGlucHV0IGJveGVzICoqL1xuICAgIG1ha2VNYXBSYW5nZUlucHV0OiBmdW5jdGlvbiAoYWxsX21hcF9vcHRpb25zLCBpKSB7XG4gICAgICAgIHZhciBtYXBfcmFuZ2VzX2RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICByYW5nZS5jbGFzc05hbWUgPSBcIm1hcF9yYW5nZV9pbnB1dFwiO1xuXG4gICAgICAgIHZhciByYW5nZV90ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG5cbiAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgIHJhbmdlX3RleHQuaW5uZXJIVE1MID0gXCImbmJzcDsgbmV4dCB2YWx1ZSBhbmQgbG93ZXJcIlxuXG4gICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gYWxsX21hcF9vcHRpb25zLmNvbG9ycy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICByYW5nZS52YWx1ZSA9IGFsbF9tYXBfb3B0aW9ucy52YWx1ZV9yYW5nZXNbaSAtIDFdIHx8IFwiXCI7XG4gICAgICAgICAgICByYW5nZV90ZXh0LnRleHRDb250ZW50ID0gXCIgYW5kIGhpZ2hlclwiXG4gICAgICAgICAgICBtYXBfcmFuZ2VzX2Rpdi5hcHBlbmRDaGlsZChyYW5nZSk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJhbmdlLnZhbHVlID0gYWxsX21hcF9vcHRpb25zLnZhbHVlX3Jhbmdlc1tpIC0gMV0gfHwgXCJcIjtcbiAgICAgICAgICAgIHJhbmdlX3RleHQudGV4dENvbnRlbnQgPSBcIiB0by4uXCJcbiAgICAgICAgICAgIG1hcF9yYW5nZXNfZGl2LmFwcGVuZENoaWxkKHJhbmdlKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgXG4gICAgICAgIG1hcF9yYW5nZXNfZGl2LmFwcGVuZENoaWxkKHJhbmdlX3RleHQpO1xuXG5cbiAgICAgICAgcmV0dXJuIG1hcF9yYW5nZXNfZGl2O1xuXG4gICAgfSxcblxuXG4gICAgLyoqIG1haW4gZnVuY3Rpb24gdGhhdCBsb2FkcyB0aGUgaW5kaXZpZHVhbCBzZXJpZXMgYXJlYSB3aXRoIGNvbG9yIGFuZCByYW5nZSBib3hlcyAqKi9cbiAgICBwb3B1bGF0ZUZvcm06IGZ1bmN0aW9uIChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMsIGFsbF9tYXBfb3B0aW9ucykge1xuXG4gICAgICAgIHZhciAkZGlzcGxheV9zZXJpZXNfb3B0aW9uc19pbm5lcl9kaXYgPSAkKFwiI2Rpc3BsYXlfc2VyaWVzX29wdGlvbnNfaW5uZXJfZGl2XCIpO1xuICAgICAgICAkZGlzcGxheV9zZXJpZXNfb3B0aW9uc19pbm5lcl9kaXYuZW1wdHkoKTtcblxuICAgICAgICBcbiAgICAgICAgJC5lYWNoKGFsbF9tYXBfb3B0aW9ucy5jb2xvcnMsIGZ1bmN0aW9uIChpKSB7XG5cbiAgICAgICAgICAgIHZhciBtYXBfY29sb3JfYm94ID0gdXBkYXRlX21hcF9pbmRpdmlkdWFsX3Nlcmllcy5tYWtlTWFwQ29sb3JEaXYoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zLCBhbGxfbWFwX29wdGlvbnMsIHRoaXMsIGkpO1xuXG4gICAgICAgICAgICB2YXIgbWFwX3JhbmdlX2lucHV0ID0gdXBkYXRlX21hcF9pbmRpdmlkdWFsX3Nlcmllcy5tYWtlTWFwUmFuZ2VJbnB1dChhbGxfbWFwX29wdGlvbnMsIGkpO1xuXG5cbiAgICAgICAgICAgICRkaXNwbGF5X3Nlcmllc19vcHRpb25zX2lubmVyX2Rpdi5hcHBlbmQobWFwX2NvbG9yX2JveCk7XG4gICAgICAgICAgICAkZGlzcGxheV9zZXJpZXNfb3B0aW9uc19pbm5lcl9kaXYuYXBwZW5kKG1hcF9yYW5nZV9pbnB1dCk7XG5cbiAgICAgICAgICAgIC8vbWFrZSBjbGVhciBmbG9hdCBkaXZcbiAgICAgICAgICAgIHZhciBjbGVhcl9kaXYgPSB1dGlsc19tYWluLm1ha2VDbGVhckZsb2F0RGl2KCk7XG4gICAgICAgICAgICAkZGlzcGxheV9zZXJpZXNfb3B0aW9uc19pbm5lcl9kaXYuYXBwZW5kKGNsZWFyX2Rpdik7XG5cbiAgICAgICAgfSk7XG5cblxuICAgICAgICAkKFwiI2Rpc3BsYXlfc2VyaWVzX29wdGlvbnNfaW5uZXJfZGl2XCIpLnNob3coKTtcbiAgICAgICAgdXBkYXRlX21hcF9pbmRpdmlkdWFsX3Nlcmllcy51cGRhdGVNYXBSYW5nZShjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMsIGFsbF9tYXBfb3B0aW9ucyk7IC8vYmluZHMgdmFsdWUgaW5wdXQgYm94ZXNcblxuICAgIH0sXG5cbiAgICAvKiogd2hlbiByYW5nZSBjb2xvciBib3hlcyBhcmUgY2hhbmdlZCwgdGhpcyBpcyBmaXJlZCB0byBjaGFuZ2UgdGhlIGNvbG9ycyBpbiB0aGUgbWFwICoqL1xuICAgIHVwZGF0ZU1hcENvbG9yOiBmdW5jdGlvbiAoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zLCBhbGxfbWFwX29wdGlvbnMsIGksIGpzY29sb3IpIHtcbiAgICAgICAgdmFyIG1hcF9pbml0ID0gcmVxdWlyZShcIi4uL2luaXRpYWxpemVycy9tYXBzL21hcF9pbml0LmpzXCIpO1xuXG4gICAgICAgIGFsbF9tYXBfb3B0aW9ucy5jb2xvcnNbaV0gPSB0eXBlb2YganNjb2xvciA9PT0gXCJzdHJpbmdcIiA/IGpzY29sb3IgOiBqc2NvbG9yLnRvUkdCU3RyaW5nKCk7XG4gICAgICAgIG1hcF9pbml0LmxvYWROZXdNYXAoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zLCBhbGxfbWFwX29wdGlvbnMsIGZhbHNlKTsgLy8gZmFsc2UgdG8gbm90IHJlcG9wdWxhdGUgZm9ybVxuICAgIH0sXG5cbiAgICAvKiogd2hlbiBjdXN0b20gdmFsdWUgcmFuZ2UgaW5wdXQgYm94ZXMgYXJlIGNoYW5nZWQsIHRoaXMgaXMgZmlyZWQgKiovXG4gICAgdXBkYXRlTWFwUmFuZ2U6IGZ1bmN0aW9uIChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMsIGFsbF9tYXBfb3B0aW9ucykge1xuICAgICAgICB2YXIgbWFwX2luaXQgPSByZXF1aXJlKFwiLi4vaW5pdGlhbGl6ZXJzL21hcHMvbWFwX2luaXQuanNcIik7XG5cbiAgICAgICAgJChcIi5tYXBfcmFuZ2VfaW5wdXRcIikua2V5dXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbWFwX2luaXQubG9hZE5ld01hcChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMsIGFsbF9tYXBfb3B0aW9ucywgZmFsc2UpOyAvL2ZhbHNlIGZvciBkb24ndCByZXBvcHVsYXRlIGZvcm1cbiAgICAgICAgfSk7XG5cbiAgICB9XG5cblxuXG5cbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSB1cGRhdGVfbWFwX2luZGl2aWR1YWxfc2VyaWVzOyIsInZhciBtYXBfY29sb3JzX2luaXQgPSByZXF1aXJlKFwiLi4vaW5pdGlhbGl6ZXJzL21hcHMvbWFwX2NvbG9yc19pbml0LmpzXCIpO1xudmFyIG1hcF9pbml0ID0gcmVxdWlyZShcIi4uL2luaXRpYWxpemVycy9tYXBzL21hcF9pbml0LmpzXCIpO1xuXG4vKipcblJlbGF0ZXMgdG8gdGhlIG1hcCBjb2xvciBwYWxldHRlcy4gZnVuY3Rpb25zIGNhbGxlZCBmcm9tIGFsbF9mb3JtX3VwZGF0ZXNcbkBuYW1lc3BhY2VcbioqL1xuXG52YXIgdXBkYXRlX21hcF9wYWxldHRlcyA9IHtcblxuICAgIC8qKiB3aGVuIHBsdXMgYW5kIG1pbnVzIGJ1dHRvbnMgKFwiI2FkZF9tYXBfY29sb3IpIGFyZSBjbGlja2VkLCB0aGlzIGlzIHRyaWdnZXJlZCAqKi9cbiAgICBjaGFuZ2VBbW91bnQ6IGZ1bmN0aW9uIChidXR0b24pIHtcbiAgICAgICAgXG4gICAgICAgICQoXCIjZGlzcGxheV9zZXJpZXNfb3B0aW9uc19pbm5lcl9kaXZcIikuZW1wdHkoKTsgLy9lbXB0eXMgdGhlIGluZGl2aWR1YWwgY2hvaWNlcyBhcmVhIHNvIGNvbG9ycyBhcmUgcmVkb25lLlxuXG4gICAgICAgIGlmICghYnV0dG9uLmhhc0NsYXNzKFwib2ZmXCIpKSB7XG5cbiAgICAgICAgICAgIHZhciBtb2QgPSBidXR0b24uYXR0cihcImlkXCIpLnJlcGxhY2UoXCJfbWFwX2NvbG9yXCIsIFwiXCIpID09IFwiYWRkXCIgPyAxIDogLTE7XG5cbiAgICAgICAgICAgIHZhciBuZXdfcGFsZXR0ZV9udW0gPSAkKFwiLm1hcF9jb2xvcl9wYWxldHRlX3Jvdy5zZWxlY3RlZCAubWFwX2NvbG9yX3BhbGV0dGVfY2VsbFwiKS5sZW5ndGggKyBtb2Q7XG4gICAgICAgICAgICBtYXBfY29sb3JzX2luaXQubG9hZE1hcENvbG9yUGFsZXR0ZXMobmV3X3BhbGV0dGVfbnVtKTtcblxuICAgICAgICAgICAgJChcIiNhZGRfbWFwX2NvbG9yLCAjbWludXNfbWFwX2NvbG9yXCIpLnJlbW92ZUNsYXNzKFwib2ZmXCIpO1xuICAgICAgICAgICAgaWYgKG5ld19wYWxldHRlX251bSA+IDYpIHtcbiAgICAgICAgICAgICAgICAkKFwiI2FkZF9tYXBfY29sb3JcIikuYWRkQ2xhc3MoXCJvZmZcIik7XG4gICAgICAgICAgICB9ZWxzZSBpZiAobmV3X3BhbGV0dGVfbnVtIDwgMykge1xuICAgICAgICAgICAgICAgICQoXCIjbWludXNfbWFwX2NvbG9yXCIpLmFkZENsYXNzKFwib2ZmXCIpO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHVwZGF0ZV9tYXBfcGFsZXR0ZXM7IiwiLyoqIHdoZW4gdGVtcGxhdGUgYXJlIGNoYW5nZWQgaW4gdGhlIHNpZGUgYXJlYSwgdGhlc2UgbWV0aG9kcyBhcmUgY2FsbGVkIFxuQG5hbWVzcGFjZVxuKi9cbnZhciB1cGRhdGVfdGVtcGxhdGUgPSB7XG5cbiAgICAvKiogY2hhbmdlIHRoZSBjaGFydCdzIFJlbmRlclRvIElEICh0aGUgZGl2IElEIHRoYXQgdGhlIGNoYXJ0IGlzIGxvYWRlZCBpbnRvKSAgKiovXG4gICAgY2hhbmdlSUQ6IGZ1bmN0aW9uIChuZXdfSUQsIGFsbF9jaGFydF9vcHRpb25zLCBhbGxfbWFwX29wdGlvbnMpIHtcblxuICAgICAgICBuZXdfSUQgPSAkLnRyaW0obmV3X0lEKS5yZXBsYWNlKC9eW15hLXpBLVpfXSsvZywgXCJcIik7XG4gICAgICAgIGlmICghYWxsX2NoYXJ0X29wdGlvbnMgfHwgYWxsX21hcF9vcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3X0lEO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMuY2hhcnQucmVuZGVyVG8gPSBuZXdfSUQ7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqIGNoYW5nZSB0aGUgY2hhcnQgaGVpZ2h0IGFuZCB3aXRkaCAqKi9cbiAgICByZXNpemU6IGZ1bmN0aW9uICh2YWwsIGRpbWVuc2lvbiwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKSB7XG4gICAgICAgIHZhbCA9IE51bWJlcih2YWwpO1xuICAgICAgICBpZiAoIWlzTmFOKHZhbCkpIHtcbiAgICAgICAgICAgICQoXCIuY2hhcnRfZGlzcGxheV9hcmVhLCAubWFwX2Rpc3BsYXlfYXJlYVwiKS5jc3MoZGltZW5zaW9uLCB2YWwgKyBcInB4XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFsbF9jaGFydF9vcHRpb25zLmNoYXJ0LnR5cGUgIT09IFwibWFwXCIpIHtcbiAgICAgICAgICAgIGNoYXJ0LnJlZmxvdygpO1xuICAgICAgICAgICAgJChcIiNjaGFydF9jcmVkaXRzX3RleHRfdGV4dGFyZWFcIikudHJpZ2dlcihcImlucHV0XCIpOyAvL2ZpeCBjcmVkaXRzIGxvYWNhdGlvblxuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKiBjaGFuZ2UgdGhlIGNoYXJ0J3MgaW5uZXIgbWFyZ2lucyAqKi9cbiAgICBtYXJnaW46IGZ1bmN0aW9uIChtYXJnaW5zX2FyciwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKSB7XG5cbiAgICAgICAgJC5lYWNoKGNoYXJ0LmF4ZXMsIGZ1bmN0aW9uIChpLCBlKSB7XG4gICAgICAgICAgICBlLmlzRGlydHkgPSB0cnVlOyAvL3RvIHRlbGwgYXhlcyB0byByZWZyZXNoXG4gICAgICAgIH0pO1xuICAgICAgICBjaGFydC5tYXJnaW4gPSBtYXJnaW5zX2FycjtcbiAgICAgICAgY2hhcnQucmVkcmF3KGZhbHNlKTtcblxuICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy5jaGFydC5tYXJnaW4gPSBtYXJnaW5zX2FycjtcblxuICAgIH1cbn1cblxuXG5cbm1vZHVsZS5leHBvcnRzID0gdXBkYXRlX3RlbXBsYXRlOyIsInZhciB1dGlsc19tYWluID0gcmVxdWlyZShcIi4uL3V0aWxzL3V0aWxzX21haW4uanNcIik7XG52YXIgdXRpbHNfZm9ybXMgPSByZXF1aXJlKFwiLi4vdXRpbHMvdXRpbHNfZm9ybXNcIik7XG5cblxuXG4vKiogd2hlbiB0b29sdGlwIG9wdGlvbnMgYXJlIGNoYW5nZWQgaW4gdGhlIHNpZGUgYXJlYSwgdGhlc2UgbWV0aG9kcyBhcmUgY2FsbGVkIFxuQG5hbWVzcGFjZVxuKi9cbnZhciB1cGRhdGVfdG9vbHRpcCA9IHtcblxuXG4gICAgLyoqIGdldHMgYSB0b29sdGlwIGZvciBidWJibGUgY2hhcnRzLiBDYWxsZWQgZnJvbSB1cGRhdGVUb29sVGlwICoqL1xuICAgIGdldEJ1YmJsZVRvb2x0aXA6IGZ1bmN0aW9uIChjaGFydCwgeV9kZWNpbWFscywgeF9kZWNpbWFscywgel9kZWNpbWFscywgeV9zaWduc19hcnIsIHhfc2lnbnNfYXJyLCB6X3NpZ25zX2FyciwgbXVsdGlwbGllciwgY2hhcnRfdHlwZSwgel90aXRsZSwgYWxsX2NoYXJ0X29wdGlvbnMpIHtcblxuICAgICAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMudG9vbHRpcC5mb3JtYXR0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHlfYXhpc190aXRsZSA9IHRoaXMuc2VyaWVzLnlBeGlzLmF4aXNUaXRsZSA/IHRoaXMuc2VyaWVzLnlBeGlzLmF4aXNUaXRsZS50ZXh0U3RyIDogXCJZLUF4aXNcIjtcbiAgICAgICAgICAgICAgICB2YXIgeF9heGlzX3RpdGxlID0gdGhpcy5zZXJpZXMueEF4aXMuYXhpc1RpdGxlID8gdGhpcy5zZXJpZXMueEF4aXMuYXhpc1RpdGxlLnRleHRTdHIgOiBcIlgtQXhpc1wiO1xuXG4gICAgICAgICAgICAgICAgdmFyIHMgPSBcIjxiPlwiICsgdGhpcy5zZXJpZXMubmFtZSArIFwiPC9iPjxicj5cIiArIHlfYXhpc190aXRsZSArIFwiOiA8Yj5cIiArIHlfc2lnbnNfYXJyWzBdICtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzLnkgKiBtdWx0aXBsaWVyKS5hZGRDb21tYXMoeV9kZWNpbWFscykgKyB5X3NpZ25zX2FyclsxXSArIFwiPC9iPjxici8+XCIgK1xuICAgICAgICAgICAgICAgICAgICB4X2F4aXNfdGl0bGUgKyBcIjogPGI+XCIgKyB4X3NpZ25zX2FyclswXSArICQodGhpcy54ICogbXVsdGlwbGllcikuYWRkQ29tbWFzKHhfZGVjaW1hbHMpICsgeF9zaWduc19hcnJbMV0gKyBcIjwvYj48YnIvPlwiICtcbiAgICAgICAgICAgICAgICAgICAgel90aXRsZSArIFwiOiA8Yj5cIiArIHpfc2lnbnNfYXJyWzBdICsgJCh0aGlzLnBvaW50LnogKiBtdWx0aXBsaWVyKS5hZGRDb21tYXMoel9kZWNpbWFscykgKyB6X3NpZ25zX2FyclsxXSArIFwiPC9iPlwiO1xuXG4gICAgICAgICAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMuc2VyaWVzW3RoaXMuc2VyaWVzLmluZGV4XSA/IHMgPSBhbGxfY2hhcnRfb3B0aW9ucy50b29sdGlwLmFkZEV4dHJhRGF0YShhbGxfY2hhcnRfb3B0aW9ucy5zZXJpZXNbdGhpcy5zZXJpZXMuaW5kZXhdLmV4dHJhX2RhdGEsIHRoaXMucG9pbnQsIHMpIDogcyA9IHM7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcy5yZXBsYWNlKC9cXCQtL2csIFwiLSRcIik7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICB9LFxuXG5cbiAgICAvKiogZ2V0cyBhIHRvb2x0aXAgZm9yIGRyaWxsZG93biBjaGFydHMuIENhbGxlZCBmcm9tIHVwZGF0ZVRvb2xUaXAqKi9cbiAgICBnZXREcmlsbGRvd25Ub29sdGlwOiBmdW5jdGlvbiAoY2hhcnQsIHlfZGVjaW1hbHMsIHlfc2lnbnNfYXJyLCBtdWx0aXBsaWVyLCBjaGFydF90eXBlLCBhbGxfY2hhcnRfb3B0aW9ucykge1xuXG4gICAgICBcbiAgICAgICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnRvb2x0aXAuZm9ybWF0dGVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHlfdmFsID0geV9zaWduc19hcnJbMF0gKyAkKHRoaXMueSAqIG11bHRpcGxpZXIpLmFkZENvbW1hcyh5X2RlY2ltYWxzKSArIHlfc2lnbnNfYXJyWzFdO1xuXG4gICAgICAgICAgICAgICAgdmFyIHMgPSBcIjxiPlwiICsgdGhpcy5zZXJpZXMubmFtZSArIFwiPC9iPjxicj5cIiArIHRoaXMua2V5ICsgXCI6IFwiICsgeV92YWw7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50LmRyaWxsZG93biA/IHMgPSBzICsgXCI8YnI+KENsaWNrIHRvIGRyaWxsIGRvd24pXCIgOiBzID0gcztcblxuICAgICAgICAgICAgICAgIHJldHVybiBzLnJlcGxhY2UoL1xcJC0vZywgXCItJFwiKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgfSxcblxuXG5cbiAgICAvKiogZ2V0cyBhIHRvb2x0aXAgZm9yIHNjYXR0ZXIgY2hhcnRzLiBDYWxsZWQgZnJvbSB1cGRhdGVUb29sVGlwKiovXG4gICAgZ2V0U2NhdHRlclRvb2x0aXA6IGZ1bmN0aW9uIChjaGFydCwgeV9kZWNpbWFscywgeF9kZWNpbWFscywgeV9zaWduc19hcnIsIHhfc2lnbnNfYXJyLCBtdWx0aXBsaWVyLCBjaGFydF90eXBlLCBhbGxfY2hhcnRfb3B0aW9ucykge1xuXG4gICAgICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy50b29sdGlwLmZvcm1hdHRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgeV9heGlzX3RpdGxlID0gdGhpcy5zZXJpZXMueUF4aXMuYXhpc1RpdGxlID8gdGhpcy5zZXJpZXMueUF4aXMuYXhpc1RpdGxlLnRleHRTdHIgOiBcIlktQXhpc1wiO1xuICAgICAgICAgICAgICAgIHZhciB4X2F4aXNfdGl0bGUgPSB0aGlzLnNlcmllcy54QXhpcy5heGlzVGl0bGUgPyB0aGlzLnNlcmllcy54QXhpcy5heGlzVGl0bGUudGV4dFN0ciA6IFwiWC1BeGlzXCI7XG5cbiAgICAgICAgICAgICAgICB2YXIgcyA9IFwiPGI+XCIgKyB0aGlzLnNlcmllcy5uYW1lICsgXCI8L2I+PGJyPlwiICsgeV9heGlzX3RpdGxlICsgXCI6IDxiPlwiICsgeV9zaWduc19hcnJbMF0gK1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMueSAqIG11bHRpcGxpZXIpLmFkZENvbW1hcyh5X2RlY2ltYWxzKSArIHlfc2lnbnNfYXJyWzFdICsgXCI8L2I+PGJyPlwiICtcbiAgICAgICAgICAgICAgICAgICAgeF9heGlzX3RpdGxlICsgXCI6IDxiPlwiICsgeF9zaWduc19hcnJbMF0gKyAkKHRoaXMueCAqIG11bHRpcGxpZXIpLmFkZENvbW1hcyh4X2RlY2ltYWxzKSArIHhfc2lnbnNfYXJyWzFdICsgXCI8L2I+XCI7XG5cbiAgICAgICAgICAgICAgICAvL2FkZCBleHRyYSBkYXRhLy9cbiAgICAgICAgICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy5zZXJpZXNbdGhpcy5zZXJpZXMuaW5kZXhdID8gcyA9IGFsbF9jaGFydF9vcHRpb25zLnRvb2x0aXAuYWRkRXh0cmFEYXRhKGFsbF9jaGFydF9vcHRpb25zLnNlcmllc1t0aGlzLnNlcmllcy5pbmRleF0uZXh0cmFfZGF0YSwgdGhpcy5wb2ludCwgcykgOiBzID0gcztcblxuICAgICAgICAgICAgICAgIHJldHVybiBzLnJlcGxhY2UoL1xcJC0vZywgXCItJFwiKTtcblxuICAgICAgICAgICAgfTtcbiAgICAgIFxuXG4gICAgfSxcblxuXG5cblxuXG4gICAgLyoqIGdldHMgYSB0b29sdGlwIGZvciB0eXBpY2FsIGNoYXJ0cyAobGluZSwgYXJlYSwgYmFyIGV0YykuIENhbGxlZCBmcm9tIHVwZGF0ZVRvb2xUaXAqKi9cbiAgICBnZXRUeXBpY2FsVG9vbHRpcDogZnVuY3Rpb24gKGNoYXJ0LCBpc19zaGFyZWQsIHlfZGVjaW1hbHMsIHlfc2lnbnNfYXJyLCBtdWx0aXBsaWVyLCBjaGFydF90eXBlLCBhbGxfY2hhcnRfb3B0aW9ucykge1xuXG5cbiAgICAgICAgaWYgKGlzX3NoYXJlZCkgeyAvL1NIQVJFRCBUT09MVElQXG5cbiAgICAgICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnRvb2x0aXAuc2hhcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNoYXJ0LnRvb2x0aXAuc2hhcmVkID0gdHJ1ZTtcblxuXG4gICAgICAgICAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMudG9vbHRpcC5mb3JtYXR0ZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNoYXJlZF90b29sdGlwX2FyciA9IFtcIjxiPlwiICsgdGhpcy54ICsgXCI8L2I+XCJdO1xuXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaCh0aGlzLnBvaW50cywgZnVuY3Rpb24gKGkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHlfdmFsID0gdGhpcy5wb2ludC5oaWdoID8gXCIgSGlnaDogXCIgKyB5X3NpZ25zX2FyclswXSArICQodGhpcy5wb2ludC5oaWdoICogbXVsdGlwbGllcikuYWRkQ29tbWFzKHlfZGVjaW1hbHMpICsgeV9zaWduc19hcnJbMV0gKyBcIiB8IExvdzogXCIgKyB5X3NpZ25zX2FyclswXSArICQodGhpcy5wb2ludC5sb3cgKiBtdWx0aXBsaWVyKS5hZGRDb21tYXMoeV9kZWNpbWFscykgKyB5X3NpZ25zX2FyclsxXSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeV9zaWduc19hcnJbMF0gKyAkKHRoaXMucG9pbnQueSAqIG11bHRpcGxpZXIpLmFkZENvbW1hcyh5X2RlY2ltYWxzKSArIHlfc2lnbnNfYXJyWzFdO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gdGhpcy5zZXJpZXMubmFtZSArIFwiOiBcIiArIHlfdmFsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy5zZXJpZXNbaV0uZXh0cmFfZGF0YSA/IHMgPSBhbGxfY2hhcnRfb3B0aW9ucy50b29sdGlwLmFkZEV4dHJhRGF0YShhbGxfY2hhcnRfb3B0aW9ucy5zZXJpZXNbaV0uZXh0cmFfZGF0YSwgdGhpcy5wb2ludCwgcykgOiBzID0gcztcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IHRoaXMuc2VyaWVzLm5hbWUgKyBcIjogXCIgKyB5X3ZhbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVkX3Rvb2x0aXBfYXJyLnB1c2gocyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNoYXJlZF90b29sdGlwX2Fyci5qb2luKCc8YnIvPicpLnJlcGxhY2UoL1xcJC0vZywgXCItJFwiKTtcblxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgIH0gZWxzZSB7IC8vTk9UIFNIQVJFRCBUT09MVElQXG5cblxuICAgICAgICAgICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnRvb2x0aXAuZm9ybWF0dGVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciB5X3ZhbCA9IHRoaXMucG9pbnQuaGlnaCA/IFwiSGlnaDogXCIgKyB5X3NpZ25zX2FyclswXSArICQodGhpcy5wb2ludC5oaWdoICogbXVsdGlwbGllcikuYWRkQ29tbWFzKHlfZGVjaW1hbHMpICsgeV9zaWduc19hcnJbMV0gKyBcIiB8IExvdzogXCIgKyB5X3NpZ25zX2FyclswXSArICQodGhpcy5wb2ludC5sb3cgKiBtdWx0aXBsaWVyKS5hZGRDb21tYXMoeV9kZWNpbWFscykgKyB5X3NpZ25zX2FyclsxXSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB5X3NpZ25zX2FyclswXSArICQodGhpcy55ICogbXVsdGlwbGllcikuYWRkQ29tbWFzKHlfZGVjaW1hbHMpICsgeV9zaWduc19hcnJbMV07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSBcIjxiPlwiICsgdGhpcy5zZXJpZXMubmFtZSArIFwiPC9iPjxicj5cIiArIHRoaXMueCArIFwiOiBcIiArIHlfdmFsO1xuXG4gICAgICAgICAgICAgICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnNlcmllc1t0aGlzLnNlcmllcy5pbmRleF0gPyBzID0gYWxsX2NoYXJ0X29wdGlvbnMudG9vbHRpcC5hZGRFeHRyYURhdGEoYWxsX2NoYXJ0X29wdGlvbnMuc2VyaWVzW3RoaXMuc2VyaWVzLmluZGV4XS5leHRyYV9kYXRhLCB0aGlzLnBvaW50LCBzKSA6IHMgPSBzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy5yZXBsYWNlKC9cXCQtL2csIFwiLSRcIik7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9LFxuXG5cblxuXG5cbiAgICAvKiogdXBkYXRlIHRvb2x0aXAgLSBkZWNpZGUgd2hpY2gga2luZCBvZiBjaGFydCBhbmQgY2FsbCB0aGF0IGdldCB0b29sdGlwIGZ1bmN0aW9uICoqL1xuICAgIHVwZGF0ZVRvb2xUaXA6IGZ1bmN0aW9uIChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpIHtcblxuICAgICAgICAvL2RlZmF1bHQgdG8gc2luZ2xlIHBvaW50IHRvb2x0aXBcbiAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMudG9vbHRpcC5zaGFyZWQgPSBmYWxzZTtcbiAgICAgICAgY2hhcnQudG9vbHRpcC5zaGFyZWQgPSBmYWxzZTtcblxuICAgICAgICAvL2V4dHJhIGRhdGEgZnVuY3Rpb25cbiAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMudG9vbHRpcC5hZGRFeHRyYURhdGEgPSBmdW5jdGlvbiAoZXh0cmFfZGF0YSwgcG9pbnQsIHMpIHtcblxuICAgICAgICAgICAgaWYgKGV4dHJhX2RhdGEgJiYgZXh0cmFfZGF0YVswXS5uYW1lKSB7XG5cbiAgICAgICAgICAgICAgICAkLmVhY2goZXh0cmFfZGF0YSwgZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4dHJhX2RhdGFbaV0udmFsdWVzW3BvaW50LmluZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcyA9IHMgKyBcIjxicj4gIFwiICsgZXh0cmFfZGF0YVtpXS5uYW1lICsgXCI6IFwiICsgZXh0cmFfZGF0YVtpXS52YWx1ZXNbcG9pbnQuaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBpc19zaGFyZWQgPSB1dGlsc19mb3Jtcy5nZXRDaGVja0JveFZhbHVlKCQoXCIjY2hhcnRfdG9vbHRpcF9zaGFyZWRfY2hlY2tib3hcIikpLFxuICAgICAgICAgICAgY2hhcnRfdHlwZSA9ICQoXCIjY2hhcnRfdHlwZV9pY29ucyAuc2VsZWN0ZWRcIikuZGl2VmFsKCksXG5cbiAgICAgICAgICAgIC8veSB2YWx1ZSBkZWNpbWFsc1xuICAgICAgICAgICAgeV9kZWNpbWFscyA9IE51bWJlcigkKFwiI2NoYXJ0X3Rvb2x0aXBfZm9yY2VfZGVjaW1hbHNfc2VsZWN0XCIpLnZhbCgpKSxcbiAgICAgICAgICAgIC8veCB2YWx1ZSBkZWNpbWFsc1xuICAgICAgICAgICAgeF9kZWNpbWFscyA9IE51bWJlcigkKFwiI2NoYXJ0X3Rvb2x0aXBfZm9yY2VfZGVjaW1hbHNfeF9zZWxlY3RcIikudmFsKCkpLFxuICAgICAgICAgICAgLy96IHZhbHVlIGRlY2ltYWxzXG4gICAgICAgICAgICB6X2RlY2ltYWxzID0gTnVtYmVyKCQoXCIjY2hhcnRfdG9vbHRpcF9mb3JjZV9kZWNpbWFsc196X3NlbGVjdFwiKS52YWwoKSksXG5cbiAgICAgICAgICAgIC8veSB2YWx1ZSBzaWduc1xuICAgICAgICAgICAgeV9zaWducyA9ICQoXCIjY2hhcnRfdG9vbHRpcF9zaWduc19zZWxlY3RcIikudmFsKCksXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHlfc2lnbnNfYXJyID0gW3lfc2lnbnMgPT09IFwiJFwiID8gXCIkXCIgOiBcIlwiLCB5X3NpZ25zID09PSBcIiVcIiA/IFwiJVwiIDogXCJcIl0sXG4gICAgICAgICAgICAvL3ggdmFsdWUgc2lnbnNcbiAgICAgICAgICAgIHhfc2lnbnMgPSAkKFwiI2NoYXJ0X3Rvb2x0aXBfc2lnbnNfeF9zZWxlY3RcIikudmFsKCksXG4gICAgICAgICAgICB4X3NpZ25zX2FyciA9IFt4X3NpZ25zID09PSBcIiRcIiA/IFwiJFwiIDogXCJcIiwgeF9zaWducyA9PT0gXCIlXCIgPyBcIiVcIiA6IFwiXCJdLFxuICAgICAgICAgICAgLy96IHZhbHVlIHNpZ25zXG4gICAgICAgICAgICB6X3NpZ25zID0gJChcIiNjaGFydF90b29sdGlwX3NpZ25zX3pfc2VsZWN0XCIpLnZhbCgpLFxuICAgICAgICAgICAgel9zaWduc19hcnIgPSBbel9zaWducyA9PT0gXCIkXCIgPyBcIiRcIiA6IFwiXCIsIHpfc2lnbnMgPT09IFwiJVwiID8gXCIlXCIgOiBcIlwiXSxcblxuICAgICAgICAgICAgbXVsdGlwbGllciA9IE51bWJlcigkKFwiI2NoYXJ0X3Rvb2x0aXBfeV9tdWx0aXBsZV9zZWxlY3RcIikudmFsKCkpLFxuXG4gICAgICAgICAgICAvL2J1YmJsZSBzaXplIHRpdGxlXG4gICAgICAgICAgICB6X3RpdGxlID0gJChcIiNjaGFydF96X3RpdGxlX3RleHRfaW5wdXRcIikudmFsKCkgPT09IFwiXCIgPyBcIlpcIiA6ICQoXCIjY2hhcnRfel90aXRsZV90ZXh0X2lucHV0XCIpLnZhbCgpO1xuXG5cbiAgICAgICAgLy9JRiBBIFRZUElDQUwgQ0hBUlRcbiAgICAgICAgaWYgKFtcImFyZWFcIiwgXCJsaW5lXCIsIFwiYmFyXCIsIFwic3RhY2tlZF9iYXJcIiwgXCJjb2x1bW5cIiwgXCJzdGFja2VkX2NvbHVtblwiLCBcImFyZWFyYW5nZVwiLCBcImNvbHVtbnJhbmdlXCJdLmluZGV4T2YoY2hhcnRfdHlwZSkgPiAtMSkge1xuICAgICAgICAgICAgdXBkYXRlX3Rvb2x0aXAuZ2V0VHlwaWNhbFRvb2x0aXAoY2hhcnQsIGlzX3NoYXJlZCwgeV9kZWNpbWFscywgeV9zaWduc19hcnIsIG11bHRpcGxpZXIsIGNoYXJ0X3R5cGUsIGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vSUYgQSBEUklMTERPV04gQ0hBUlRcbiAgICAgICAgZWxzZSBpZiAoY2hhcnRfdHlwZSA9PT0gXCJkcmlsbGRvd25cIikge1xuICAgICAgICAgICAgdXBkYXRlX3Rvb2x0aXAuZ2V0RHJpbGxkb3duVG9vbHRpcChjaGFydCwgeV9kZWNpbWFscywgeV9zaWduc19hcnIsIG11bHRpcGxpZXIsIGNoYXJ0X3R5cGUsIGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy9JRiBBIFNDQVRURVIgQ0hBUlRcbiAgICAgICAgZWxzZSBpZiAoY2hhcnRfdHlwZSA9PT0gXCJzY2F0dGVyXCIpIHtcbiAgICAgICAgICAgIHVwZGF0ZV90b29sdGlwLmdldFNjYXR0ZXJUb29sdGlwKGNoYXJ0LCB5X2RlY2ltYWxzLCB4X2RlY2ltYWxzLCB5X3NpZ25zX2FyciwgeF9zaWduc19hcnIsIG11bHRpcGxpZXIsIGNoYXJ0X3R5cGUsIGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vSUYgQSBCVUJCTEUgQ0hBUlRcbiAgICAgICAgZWxzZSBpZiAoY2hhcnRfdHlwZSA9PT0gXCJidWJibGVcIikge1xuICAgICAgICAgICAgdXBkYXRlX3Rvb2x0aXAuZ2V0QnViYmxlVG9vbHRpcChjaGFydCwgeV9kZWNpbWFscywgeF9kZWNpbWFscywgel9kZWNpbWFscywgeV9zaWduc19hcnIsIHhfc2lnbnNfYXJyLCB6X3NpZ25zX2FyciwgbXVsdGlwbGllciwgY2hhcnRfdHlwZSwgel90aXRsZSwgYWxsX2NoYXJ0X29wdGlvbnMpO1xuICAgICAgICB9XG5cblxuXG4gICAgICAgIGlmICghY2hhcnQpIHsgLy9mb3IgdXNlIGluIHRvb2x0aXBfaW5pdFxuICAgICAgICAgICAgcmV0dXJuIGFsbF9jaGFydF9vcHRpb25zLnRvb2x0aXA7XG4gICAgICAgIH1cblxuICAgICAgICBjaGFydC50b29sdGlwLm9wdGlvbnMuZm9ybWF0dGVyID0gYWxsX2NoYXJ0X29wdGlvbnMudG9vbHRpcC5mb3JtYXR0ZXI7XG4gICAgICAgIC8vdGhlc2UgYXJlIGxvb3BlZCB0aHJvdWdoIGluIHV0aWxzLmRlZXBTdHJpbmdpZnkgZnJvbSB3cml0ZV9jb2RlIHRvIHJlcGxhY2UgdmFyaWFibGUgbmFtZXMgd2l0aCB0aGVpciB2YWx1ZXNcbiAgICAgICAgdXBkYXRlX3Rvb2x0aXAucmVwbGFjZW1lbnRfb2JqID0ge1xuICAgICAgICAgICAgeV9kZWNpbWFsczogeV9kZWNpbWFscyxcbiAgICAgICAgICAgIHhfZGVjaW1hbHM6IHhfZGVjaW1hbHMsXG4gICAgICAgICAgICB6X2RlY2ltYWxzOiB6X2RlY2ltYWxzLFxuICAgICAgICAgICAgbXVsdGlwbGllcjogbXVsdGlwbGllcixcbiAgICAgICAgICAgIHlfc2lnbnNfYXJyOiB5X3NpZ25zX2FycixcbiAgICAgICAgICAgIHhfc2lnbnNfYXJyOiB4X3NpZ25zX2FycixcbiAgICAgICAgICAgIHpfc2lnbnNfYXJyOiB6X3NpZ25zX2FycixcbiAgICAgICAgICAgIHpfdGl0bGU6IHpfdGl0bGVcbiAgICAgICAgfTtcblxuICAgICAgICAvLyAgYWxsX2NoYXJ0X29wdGlvbnMudG9vbHRpcC5mb3JtYXR0ZXIgPSB1dGlsc19tYWluLnN0cmluZ2lmeUZvcm1hdHRlcihhbGxfY2hhcnRfb3B0aW9ucy50b29sdGlwLmZvcm1hdHRlciwgdXBkYXRlX3Rvb2x0aXAucmVwbGFjZW1lbnRfb2JqKTtcblxuICAgIH1cblxufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gdXBkYXRlX3Rvb2x0aXA7IiwidmFyIHV0aWxzX21haW4gPSByZXF1aXJlKFwiLi4vdXRpbHMvdXRpbHNfbWFpbi5qc1wiKTtcblxuLyoqIHdoZW4gWC1heGlzIG9wdGlvbnMgYXJlIGNoYW5nZWQgaW4gdGhlIHNpZGUgYXJlYSwgdGhlc2UgbWV0aG9kcyBhcmUgY2FsbGVkIFxuQG5hbWVzcGFjZVxuKi9cblxudmFyIHVwZGF0ZV94X2F4aXMgPSB7XG5cblxuXG4gICAgLyoqIHVwZGF0ZSB4LWF4aXMgZm9ybWF0dGVyICoqL1xuICAgIC8qKiB1cGRhdGUgZm9ybWF0IHdoZW4gZG9sbGFyIC8gcGVyY2VudCBzaWducyBzZWxlY3QgaXMgY2hhbmdlZCBUT0RPISovXG4gICAgdXBkYXRlRm9ybWF0dGVyOiBmdW5jdGlvbiAob25seV9udW1iZXJzLCBhZGRfY29tbWFzLCBjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpIHtcblxuICAgICAgICB2YXIgbmV3WEZvcm1hdCA9IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAob25seV9udW1iZXJzKSB7XG4gICAgICAgICAgICBuZXdYRm9ybWF0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLnJlcGxhY2UoL1teMC05XFwuXFwtXSsvZywgJycpIC8vaGlkZSBub24tbnVtYmVycyBpZiBzaG93IG9ubHkgeWVhcnMgYm94IGlzIGNoZWNrZWQvL1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFkZF9jb21tYXMpIHtcbiAgICAgICAgICAgIG5ld1hGb3JtYXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQoTnVtYmVyKHRoaXMudmFsdWUpKS5hZGRDb21tYXMoKTsgLy9oaWRlIG5vbi1udW1iZXJzIGlmIHNob3cgb25seSB5ZWFycyBib3ggaXMgY2hlY2tlZC8vXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIGlmICghY2hhcnQpIHsgLy8gY2FsbGVkIHdoZW4gdGhpcyBpcyB1c2VkIGluIHlfYXhpc19pbml0XG4gICAgICAgICAgICByZXR1cm4gbmV3WEZvcm1hdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoYXJ0LnhBeGlzWzBdLnVwZGF0ZSh7XG4gICAgICAgICAgICBsYWJlbHM6IHtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZXI6IG5ld1hGb3JtYXRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cblxuICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy54QXhpcy5sYWJlbHMuZm9ybWF0dGVyID0gbmV3WEZvcm1hdDtcblxuXG4gICAgfSxcbiAgICBcbiAgICBcbiAgICAgLyoqIHVwZGF0ZSB4LWF4aXMgbWF4ICovXG4gICAgdXBkYXRlTWF4OiBmdW5jdGlvbiAobmV3TWF4LCBjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpIHtcbiAgICAgICAgbmV3TWF4ID0gdXRpbHNfbWFpbi5jaGVja0ZvclVuZGVmaW5lZChuZXdNYXgpO1xuICAgICAgICBpZiAoIWNoYXJ0KSB7IC8vIGNhbGxlZCB3aGVuIHRoaXMgaXMgdXNlZCBpbiB4X2F4aXNfaW5pdFxuICAgICAgICAgICAgcmV0dXJuIG5ld01heDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoYXJ0LnhBeGlzWzBdLnVwZGF0ZSh7XG4gICAgICAgICAgICBtYXg6IG5ld01heFxuICAgICAgICB9KTtcblxuICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy54QXhpcy5tYXggPSBuZXdNYXg7XG4gICAgfSxcblxuXG5cbiAgICAvKiogdXBkYXRlIHktYXhpcyBtaW4gKi9cbiAgICB1cGRhdGVNaW46IGZ1bmN0aW9uIChuZXdNaW4sIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucykge1xuICAgICAgICBuZXdNaW4gPSB1dGlsc19tYWluLmNoZWNrRm9yVW5kZWZpbmVkKG5ld01pbik7XG4gICAgICAgIGlmICghY2hhcnQpIHsgLy8gY2FsbGVkIHdoZW4gdGhpcyBpcyB1c2VkIGluIHhfYXhpc19pbml0XG4gICAgICAgICAgICByZXR1cm4gbmV3TWluO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hhcnQueEF4aXNbMF0udXBkYXRlKHtcbiAgICAgICAgICAgIG1pbjogbmV3TWluXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnhBeGlzLm1pbiA9IG5ld01pbjtcbiAgICB9LFxuICAgIFxuXG4gICAgLyoqbWFrZXMgeC1heGlzIE1MUiBvciBzdGFuZGFyZCBzdHlsZSAqKi9cbiAgICB0b2dnbGVNTFJTdHlsZTogZnVuY3Rpb24gKGlzX2NoZWNrZWQsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucykge1xuXG4gICAgICAgIC8vaWYgdXNpbmcgTUxSIHN0eWxlc1xuICAgICAgICBpZiAoaXNfY2hlY2tlZCkge1xuICAgICAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMueEF4aXMudGlja1Bvc2l0aW9uID0gXCJpbnNpZGVcIjtcbiAgICAgICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnhBeGlzLnRpY2tDb2xvciA9IFwiIzAwMFwiO1xuICAgICAgICB9IGVsc2UgeyAvL3VzaW5nIHN0YW5kYXJkIHN0eWxlc1xuICAgICAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMueEF4aXMudGlja1Bvc2l0aW9uID0gXCJvdXRzaWRlXCI7XG4gICAgICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy54QXhpcy50aWNrQ29sb3IgPSBcIiNDMEQwRTBcIjtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgY2hhcnQueEF4aXNbMF0udXBkYXRlKHtcbiAgICAgICAgICAgIHRpY2tQb3NpdGlvbjogYWxsX2NoYXJ0X29wdGlvbnMueEF4aXMudGlja1Bvc2l0aW9uLFxuICAgICAgICAgICAgdGlja0NvbG9yOiBhbGxfY2hhcnRfb3B0aW9ucy54QXhpcy50aWNrQ29sb3JcbiAgICAgICAgfSk7XG4gICAgfSxcblxuXG4gICAgLyoqIHVwZGF0ZSB0aGUgeC1heGlzIHRpdGxlICoqL1xuICAgIHVwZGF0ZVRpdGxlOiBmdW5jdGlvbiAobmV3X3RpdGxlLCBjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpIHtcbiAgICAgICAgY2hhcnQueEF4aXNbMF0uc2V0VGl0bGUoe1xuICAgICAgICAgICAgdGV4dDogbmV3X3RpdGxlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnhBeGlzLnRpdGxlLnRleHQgPSBuZXdfdGl0bGU7XG5cbiAgICB9LFxuICAgIFxuICAgIFxuICAgIC8qKiB1cGRhdGUgdGhlIHgtYXhpcyB0aXRsZSBpbmRlbnQgKGJhciBjaGFydHMgb25seSkgKiovXG4gICAgdXBkYXRlVGl0bGVJbmRlbnQ6IGZ1bmN0aW9uKG5ld19pbmRlbnQsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyl7XG4gICAgICAgICBjaGFydC54QXhpc1swXS5zZXRUaXRsZSh7XG4gICAgICAgICAgICB4OiBuZXdfaW5kZW50XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnhBeGlzLnRpdGxlLnggPSBuZXdfaW5kZW50O1xuICAgICAgICBcbiAgICB9LFxuICAgIFxuXG4gICAgLyoqIHVwZGF0ZSB4IGF4aXMgdGlja21hcmsgaW50ZXJ2YWwgKiovXG4gICAgdXBkYXRlVGlja21hcmtJbnRlcnZhbDogZnVuY3Rpb24gKG5ld0ludGVydmFsLCBjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpIHtcblxuXG4gICAgICAgIGlmIChpc05hTihuZXdJbnRlcnZhbCkgfHwgbmV3SW50ZXJ2YWwgPT09IDApIHtcbiAgICAgICAgICAgIG5ld0ludGVydmFsID0gdW5kZWZpbmVkO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICghY2hhcnQpIHsgLy8gY2FsbGVkIHdoZW4gdGhpcyBpcyB1c2VkIGluIHhfYXhpc19pbml0XG4gICAgICAgICAgICByZXR1cm4gbmV3SW50ZXJ2YWw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmV3SW50ZXJ2YWwgPiBjaGFydC54QXhpc1swXS5kYXRhTWF4KSB7XG4gICAgICAgICAgICBuZXdJbnRlcnZhbCA9IGNoYXJ0LnhBeGlzWzBdLmRhdGFNYXg7XG4gICAgICAgIH1cblxuICAgICAgICBjaGFydC54QXhpc1swXS51cGRhdGUoe1xuICAgICAgICAgICAgdGlja0ludGVydmFsOiBuZXdJbnRlcnZhbFxuICAgICAgICB9KTtcbiAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMueEF4aXMudGlja0ludGVydmFsID0gbmV3SW50ZXJ2YWw7XG5cbiAgICB9XG5cblxufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gdXBkYXRlX3hfYXhpczsiLCJ2YXIgdXRpbHNfbWFpbiA9IHJlcXVpcmUoXCIuLi91dGlscy91dGlsc19tYWluLmpzXCIpO1xuXG5cbi8qKiB3aGVuIFktYXhpcyBvcHRpb25zIGFyZSBjaGFuZ2VkIGluIHRoZSBzaWRlIGFyZWEsIHRoZXNlIG1ldGhvZHMgYXJlIGNhbGxlZCBcbkBuYW1lc3BhY2VcbiovXG52YXIgdXBkYXRlX3lfYXhpcyA9IHtcblxuICAgIC8qKm1ha2VzIHktYXhpcyBNTFIgb3Igc3RhbmRhcmQgc3R5bGUgKiovXG4gICAgdG9nZ2xlTUxSU3R5bGU6IGZ1bmN0aW9uIChpc19jaGVja2VkLCBjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpIHtcblxuICAgICAgICAvL2lmIHVzaW5nIE1MUiBzdHlsZXNcbiAgICAgICAgaWYgKGlzX2NoZWNrZWQpIHtcbiAgICAgICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnlBeGlzLnRpY2tXaWR0aCA9IDA7XG4gICAgICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy55QXhpcy5ncmlkTGluZURhc2hTdHlsZSA9ICdTb2xpZCc7XG4gICAgICAgIH0gZWxzZSB7IC8vdXNpbmcgc3RhbmRhcmQgc3R5bGVzXG4gICAgICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy55QXhpcy50aWNrV2lkdGggPSAxO1xuICAgICAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMueUF4aXMuZ3JpZExpbmVEYXNoU3R5bGUgPSAnRG90JztcblxuICAgICAgICB9XG5cbiAgICAgICAgY2hhcnQueUF4aXNbMF0udXBkYXRlKHtcbiAgICAgICAgICAgIHRpY2tXaWR0aDogYWxsX2NoYXJ0X29wdGlvbnMueUF4aXMudGlja1dpZHRoLFxuICAgICAgICAgICAgZ3JpZExpbmVEYXNoU3R5bGU6IGFsbF9jaGFydF9vcHRpb25zLnlBeGlzLmdyaWRMaW5lRGFzaFN0eWxlXG4gICAgICAgIH0pO1xuXG4gICAgfSxcblxuXG4gICAgLyoqIHVwZGF0ZSBmb3JtYXQgd2hlbiBkb2xsYXIgLyBwZXJjZW50IHNpZ25zIHNlbGVjdCBpcyBjaGFuZ2VkICovXG4gICAgdXBkYXRlRm9ybWF0dGVyOiBmdW5jdGlvbiAoc2lnbiwgeV9heGlzX2RlY2ltYWxzLCBkaXZpZGVuZCwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKSB7XG5cbiAgICAgICAgdmFyIHlfYXhpc19zaWduc19hcnIgPSBbc2lnbiA9PT0gXCIkXCIgPyBcIiRcIiA6IFwiXCIsIHNpZ24gPT09IFwiJVwiID8gXCIlXCIgOiBcIlwiXTtcblxuICAgICAgICBpZiAoeV9heGlzX2RlY2ltYWxzICE9PSBcIm51bGxcIikgeyAvL2lmIGRlY2ltYWxzIGFyZSBub3QgbnVsbCAgIFxuXG4gICAgICAgICAgICB2YXIgbmV3WUZvcm1hdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcyA9IEhpZ2hjaGFydHMubnVtYmVyRm9ybWF0KHRoaXMudmFsdWUgLyBkaXZpZGVuZCwgeV9heGlzX2RlY2ltYWxzLCBcIi5cIiwgXCIsXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB5X2F4aXNfc2lnbnNfYXJyWzBdICsgcy5yZXBsYWNlKC9cXCQtL2csIFwiLSRcIikgKyB5X2F4aXNfc2lnbnNfYXJyWzFdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7IC8vaWYgZGVjaW1hbHMgYXJlIG51bGxcbiAgICAgICAgICAgIHZhciBuZXdZRm9ybWF0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBzID0gKHRoaXMudmFsdWUgLyBkaXZpZGVuZCA9PSBwYXJzZUludCh0aGlzLnZhbHVlIC8gZGl2aWRlbmQpKSA/IEhpZ2hjaGFydHMubnVtYmVyRm9ybWF0KHRoaXMudmFsdWUgLyBkaXZpZGVuZCwgMCwgXCIuXCIsIFwiLFwiKSA6IEhpZ2hjaGFydHMubnVtYmVyRm9ybWF0KHRoaXMudmFsdWUgLyBkaXZpZGVuZCwgMSwgXCIuXCIsIFwiLFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geV9heGlzX3NpZ25zX2FyclswXSArIHMucmVwbGFjZSgvXFwkLS9nLCBcIi0kXCIpICsgeV9heGlzX3NpZ25zX2FyclsxXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cblxuICAgICAgICBpZiAoIWNoYXJ0KSB7IC8vIGNhbGxlZCB3aGVuIHRoaXMgaXMgdXNlZCBpbiB5X2F4aXNfaW5pdFxuICAgICAgICAgICAgcmV0dXJuIG5ld1lGb3JtYXQ7XG4gICAgICAgIH1cblxuICAgICAgICBjaGFydC55QXhpc1swXS51cGRhdGUoe1xuICAgICAgICAgICAgbGFiZWxzOiB7XG4gICAgICAgICAgICAgICAgZm9ybWF0dGVyOiBuZXdZRm9ybWF0XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgdXBkYXRlX3lfYXhpcy5yZXBsYWNlbWVudF9vYmogPSB7XG4gICAgICAgICAgICB5X2F4aXNfZGVjaW1hbHM6IHlfYXhpc19kZWNpbWFscyxcbiAgICAgICAgICAgIGRpdmlkZW5kOiBkaXZpZGVuZCxcbiAgICAgICAgICAgIHlfYXhpc19zaWduc19hcnI6IHlfYXhpc19zaWduc19hcnJcbiAgICAgICAgfTtcblxuICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy55QXhpcy5sYWJlbHMuZm9ybWF0dGVyID0gbmV3WUZvcm1hdDtcblxuXG4gICAgfSxcblxuXG5cblxuXG4gICAgLyoqIHVwZGF0ZSBpZiB5LWF4aXMgaXMgbG9nICovXG4gICAgdXBkYXRlSXNMb2c6IGZ1bmN0aW9uICh2YWwsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucykge1xuXG4gICAgICAgIHZhciB0eXBlID0gdmFsID09PSB0cnVlID8gXCJsb2dhcml0aG1pY1wiIDogXCJsaW5lYXJcIjtcbiAgICAgICAgaWYgKCFjaGFydCkgeyAvLyBjYWxsZWQgd2hlbiB0aGlzIGlzIHVzZWQgaW4geV9heGlzX2luaXRcbiAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hhcnQueUF4aXNbMF0udXBkYXRlKHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnlBeGlzLnR5cGUgPSB0eXBlO1xuXG4gICAgfSxcblxuXG4gICAgLyoqIHVwZGF0ZSBpZiB5IGF4aXMgbGFiZWxzIGFyZSBvbiBvcHBvc2l0ZSBzaWRlICovXG4gICAgdXBkYXRlSXNPcHBvc2l0ZTogZnVuY3Rpb24gKHZhbCwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKSB7XG4gICAgICAgIGNoYXJ0LnlBeGlzWzBdLnVwZGF0ZSh7XG4gICAgICAgICAgICBvcHBvc2l0ZTogdmFsXG4gICAgICAgIH0pO1xuICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy55QXhpcy5vcHBvc2l0ZSA9IHZhbDtcblxuICAgICAgICAvL3VwZGF0ZSB5IGF4aXMgdGl0bGUgcG9zaXRpb25cbiAgICAgICAgJChcIiNjaGFydF95X2F4aXNfeF9wb3NpdGlvbl9pbnB1dFwiKS52YWwoJChcIiNjaGFydF95X2F4aXNfeF9wb3NpdGlvbl9pbnB1dFwiKS52YWwoKSotMSkua2V5dXAoKTtcblxuICAgIH0sXG5cbiAgICAvKiogdXBkYXRlIHktYXhpcyBtYXggKi9cbiAgICB1cGRhdGVNYXg6IGZ1bmN0aW9uIChuZXdNYXgsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucykge1xuICAgICAgICBuZXdNYXggPSB1dGlsc19tYWluLmNoZWNrRm9yVW5kZWZpbmVkKG5ld01heCk7XG4gICAgICAgIGlmICghY2hhcnQpIHsgLy8gY2FsbGVkIHdoZW4gdGhpcyBpcyB1c2VkIGluIHlfYXhpc19pbml0XG4gICAgICAgICAgICByZXR1cm4gbmV3TWF4O1xuICAgICAgICB9XG5cbiAgICAgICAgY2hhcnQueUF4aXNbMF0udXBkYXRlKHtcbiAgICAgICAgICAgIG1heDogbmV3TWF4XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnlBeGlzLm1heCA9IG5ld01heDtcbiAgICB9LFxuXG5cblxuICAgIC8qKiB1cGRhdGUgeS1heGlzIG1pbiAqL1xuICAgIHVwZGF0ZU1pbjogZnVuY3Rpb24gKG5ld01pbiwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKSB7XG4gICAgICAgIG5ld01pbiA9IHV0aWxzX21haW4uY2hlY2tGb3JVbmRlZmluZWQobmV3TWluKTtcbiAgICAgICAgaWYgKCFjaGFydCkgeyAvLyBjYWxsZWQgd2hlbiB0aGlzIGlzIHVzZWQgaW4geV9heGlzX2luaXRcbiAgICAgICAgICAgIHJldHVybiBuZXdNaW47XG4gICAgICAgIH1cblxuICAgICAgICBjaGFydC55QXhpc1swXS51cGRhdGUoe1xuICAgICAgICAgICAgbWluOiBuZXdNaW5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMueUF4aXMubWluID0gbmV3TWluO1xuICAgIH0sXG5cblxuXG5cbiAgICAvKiogdXBkYXRlIHRoZSB5IGF4aXMgdGl0bGUgKi9cbiAgICB1cGRhdGVUaXRsZTogZnVuY3Rpb24gKG5ld1RpdGxlLCBjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpIHtcbiAgICAgICAgY2hhcnQueUF4aXNbMF0uc2V0VGl0bGUoe1xuICAgICAgICAgICAgdGV4dDogbmV3VGl0bGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMueUF4aXMudGl0bGUudGV4dCA9IG5ld1RpdGxlO1xuXG4gICAgfSxcblxuXG5cbiAgICAvKiogdXBkYXRlIHkgYXhpcyB4LXBvc2l0aW9uICh0aXRsZS54KSAqL1xuICAgIHVwZGF0ZVhQb3NpdGlvbjogZnVuY3Rpb24gKG5ld1hQb3NpdGlvbiwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKSB7XG5cbiAgICAgICAgbmV3WFBvc2l0aW9uID0gdXRpbHNfbWFpbi5jaGVja0ZvclVuZGVmaW5lZChuZXdYUG9zaXRpb24pO1xuXG4gICAgICAgIGNoYXJ0LnlBeGlzWzBdLnNldFRpdGxlKHtcbiAgICAgICAgICAgIHg6IG5ld1hQb3NpdGlvblxuICAgICAgICB9KTtcblxuICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy55QXhpcy50aXRsZS54ID0gbmV3WFBvc2l0aW9uO1xuXG5cbiAgICB9LFxuXG5cblxuXG5cbiAgICAvKiogdXBkYXRlIHkgYXhpcyB0aWNrbWFyayBpbnRlcnZhbCAqL1xuICAgIHVwZGF0ZVRpY2ttYXJrSW50ZXJ2YWw6IGZ1bmN0aW9uIChuZXdJbnRlcnZhbCwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKSB7XG5cbiAgICAgICAgbmV3SW50ZXJ2YWwgPSB1dGlsc19tYWluLmNoZWNrRm9yVW5kZWZpbmVkKG5ld0ludGVydmFsKTtcblxuICAgICAgICBpZiAoIWNoYXJ0KSB7IC8vIGNhbGxlZCB3aGVuIHRoaXMgaXMgdXNlZCBpbiB5X2F4aXNfaW5pdFxuICAgICAgICAgICAgcmV0dXJuIG5ld0ludGVydmFsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld0ludGVydmFsID4gY2hhcnQueUF4aXNbMF0uZGF0YU1heCkge1xuICAgICAgICAgICAgbmV3SW50ZXJ2YWwgPSBjaGFydC55QXhpc1swXS5kYXRhTWF4O1xuICAgICAgICB9XG5cbiAgICAgICAgY2hhcnQueUF4aXNbMF0udXBkYXRlKHtcbiAgICAgICAgICAgIHRpY2tJbnRlcnZhbDogbmV3SW50ZXJ2YWxcblxuICAgICAgICB9KTtcbiAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMueUF4aXMudGlja0ludGVydmFsID0gbmV3SW50ZXJ2YWw7XG5cbiAgICB9XG5cblxuXG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSB1cGRhdGVfeV9heGlzOyIsIiB2YXIgQWxsQ2hhcnRPcHRpb25zID0gcmVxdWlyZShcIi4uLy4uL2NvbnN0cnVjdG9ycy9jaGFydHMvYWxsX2NoYXJ0X29wdGlvbnMuanNcIiksXG4gICAgIGNoYXJ0SW5pdCA9IHJlcXVpcmUoXCIuL2NoYXJ0X2luaXQuanNcIiksXG4gICAgIGNvbG9yc0luaXQgPSByZXF1aXJlKFwiLi9jb2xvcnNfaW5pdC5qc1wiKSxcbiAgICAgY3JlZGl0c0luaXQgPSByZXF1aXJlKFwiLi9jcmVkaXRzX2luaXQuanNcIiksXG4gICAgIGV4cG9ydGluZ0luaXQgPSByZXF1aXJlKFwiLi9leHBvcnRpbmdfaW5pdC5qc1wiKSxcbiAgICAgbGVnZW5kSW5pdCA9IHJlcXVpcmUoXCIuL2xlZ2VuZF9pbml0LmpzXCIpLFxuICAgICBwbG90T3B0aW9uc0luaXQgPSByZXF1aXJlKFwiLi9wbG90X29wdGlvbnNfaW5pdC5qc1wiKSxcbiAgICAgc2VyaWVzSW5pdCA9IHJlcXVpcmUoXCIuL3Nlcmllc19pbml0LmpzXCIpLFxuICAgICBzdWJ0aXRsZUluaXQgPSByZXF1aXJlKFwiLi9zdWJ0aXRsZV9pbml0LmpzXCIpLFxuICAgICB0aXRsZUluaXQgPSByZXF1aXJlKFwiLi90aXRsZV9pbml0LmpzXCIpLFxuICAgICB0b29sdGlwSW5pdCA9IHJlcXVpcmUoXCIuL3Rvb2x0aXBfaW5pdC5qc1wiKSxcbiAgICAgeEF4aXNJbml0ID0gcmVxdWlyZShcIi4veF9heGlzX2luaXQuanNcIiksXG4gICAgIHlBeGlzSW5pdCA9IHJlcXVpcmUoXCIuL3lfYXhpc19pbml0LmpzXCIpLFxuICAgICBwYXJzZVRhYmxlSW5wdXQgPSByZXF1aXJlKFwiLi4vLi4vcGFyc2Vycy9wYXJzZV90YWJsZV9pbnB1dC5qc1wiKSxcbiAgICAgdXRpbHNfZm9ybXMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNfZm9ybXMuanNcIik7IFxuXG5cbiAvKiogY3JlYXRlIGFuZCByZXR1cm4gYW4gaW5zdGFuY2Ugb2YgYWxsX2NoYXJ0X29wdGlvbnMgXG4gQG1vZHVsZVxuICoqL1xuIHZhciBhbGxDaGFydE9wdGlvbnNJbml0ID0gZnVuY3Rpb24oY2hhcnRfdHlwZSkge1xuICAgICBcbiAgICAgaWYgKGNoYXJ0X3R5cGUgPT09IFwibWFwXCIpe1xuICAgICAgICAgY2hhcnRfdHlwZSA9IFwibGluZVwiOyAvL2NyZWF0ZSBhbiBpbml0aWFsIGxpbmUgY2hhcnQganVzdCB0byBsb2FkIHRoZSBvcHRpb25zLCBldmVuIGlmIG1hcCBpcyBzZWxlY3RlZCAod2lsbCBiZSBjbGlja2VkIGxhdGVyIGluIGFwcC5qcylcbiAgICAgfVxuICAgICBcbiAgICAgdmFyIGxvYWRfc2VyaWVzX2Zyb20gPSAkKFwiI3RhYmxlX2lucHV0X2xvYWRfc2VyaWVzX2Zyb21faWNvbnMgLnNlbGVjdGVkXCIpLmRpdlZhbCgpOyBcbiAgICAgdmFyIGxlZ2VuZF90b2dnbGVfZW5hYmxlZCA9IHV0aWxzX2Zvcm1zLmdldENoZWNrQm94VmFsdWUoJChcIiNsZWdlbmRfbWFrZV90b2dnbGVfY2hlY2tib3hcIikpO1xuICAgICB2YXIgaW5wdXQgPSAkKFwiI3RhYmxlX2lucHV0X3RleHRhcmVhXCIpLnZhbCgpO1xuICAgICB2YXIgY29sb3JzID0gY29sb3JzSW5pdCgpO1xuICAgICBcbiAgICAgdmFyIHBhcnNlZF90YWJsZV9vdXRwdXQgPSBwYXJzZVRhYmxlSW5wdXQoaW5wdXQsIGxvYWRfc2VyaWVzX2Zyb20sIGNoYXJ0X3R5cGUsIGxlZ2VuZF90b2dnbGVfZW5hYmxlZCwgY29sb3JzKTtcblxuICAgICAvL2dldCBvcHRpb25zIGZyb20gaW5kaXZpZHVhbCBpbml0c1xuICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgIGNoYXJ0OiBjaGFydEluaXQoY2hhcnRfdHlwZSksXG4gICAgICAgICBjcmVkaXRzOiBjcmVkaXRzSW5pdCgpLFxuICAgICAgICAgY29sb3JzOiBjb2xvcnMsXG4gICAgICAgICAvLyBleHBvcnRpbmc6IGV4cG9ydGluZ0luaXQoKSxcbiAgICAgICAgIGxlZ2VuZDogbGVnZW5kSW5pdCgpLFxuICAgICAgICAgcGxvdE9wdGlvbnM6IHBsb3RPcHRpb25zSW5pdChsZWdlbmRfdG9nZ2xlX2VuYWJsZWQpLFxuICAgICAgICAgc2VyaWVzOiBwYXJzZWRfdGFibGVfb3V0cHV0LnNlcmllcywgLy9yZW1vdmVkIHNlcmllc0luaXQocGFyc2VkX3RhYmxlX291dHB1dC5zZXJpZXMpXG4gICAgICAgICBkcmlsbGRvd246IHBhcnNlZF90YWJsZV9vdXRwdXQuZHJpbGxkb3duIHx8IHt9LFxuICAgICAgICAgc3VidGl0bGU6IHN1YnRpdGxlSW5pdCgpLFxuICAgICAgICAgdGl0bGU6IHRpdGxlSW5pdChwYXJzZWRfdGFibGVfb3V0cHV0LnRpdGxlX3RleHQpLFxuICAgICAgICAgdG9vbHRpcDogdG9vbHRpcEluaXQoKSxcbiAgICAgICAgIHhBeGlzOiB4QXhpc0luaXQocGFyc2VkX3RhYmxlX291dHB1dC54X2F4aXNfY2F0ZWdvcmllcywgY2hhcnRfdHlwZSksXG4gICAgICAgICB5QXhpczogeUF4aXNJbml0KGNoYXJ0X3R5cGUpXG5cbiAgICAgfTtcblxuICAgICB2YXIgYWxsX2NoYXJ0X29wdGlvbnMgPSBuZXcgQWxsQ2hhcnRPcHRpb25zKG9wdGlvbnMpO1xuICAgICByZXR1cm4gYWxsX2NoYXJ0X29wdGlvbnM7XG4gfTtcblxuIG1vZHVsZS5leHBvcnRzID0gYWxsQ2hhcnRPcHRpb25zSW5pdDsiLCIgLyoqIEhhcyBmdW5jdGlvbnMgZm9yIHNldHRpbmcgdXAgYSBjaGFydCBhbmltYXRpb24gKGJ1dHRvbnMsIHNsaWRlciwgZXRjKVxuIEBuYW1lc3BhY2VcbiAqKi9cblxudmFyIGNoYXJ0X2FuaW1hdGlvbl9pbml0ID0ge1xuICAgIFxuICAgIC8qKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgZGl2IGNvbnRhaW5pbmcgYSBzbGlkZXIgYW5kIHBsYXkgYW5kIHBhdXNlIGJ1dHRvbnMgdG8gYW5pbWF0ZWQgdGhlIG1hcCAgKiovXG4gICAgZ2V0QW5pbWF0aW9uRGl2OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgLy9vdXRlciBkaXZcbiAgICAgICAgdmFyIGNoYXJ0X2FuaW1hdGlvbl9kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjaGFydF9hbmltYXRpb25fZGl2LnN0eWxlID0gXCJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMjhweDsgbWFyZ2luLWxlZnQ6IDIwcHg7IHotaW5kZXg6IDUwMDsgbWFyZ2luLWJvdHRvbTogLTZweDsgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcIjtcblxuXG4gICAgICAgIC8vcGxheSBidXR0b25cbiAgICAgICAgdmFyIHBsYXlfYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgcGxheV9idXR0b24uc3R5bGUgPSBcImZsb2F0OiBsZWZ0OyBtYXJnaW4tcmlnaHQ6IDEwcHg7IGNvbG9yOiAjMzM3YWI3OyBmb250LXNpemU6IDI0cHg7IGN1cnNvcjogcG9pbnRlcjsgcG9zaXRpb246IHJlbGF0aXZlOyB0b3A6IDRweDtcIjtcbiAgICAgICAgcGxheV9idXR0b24uaW5uZXJIVE1MID0gXCJcXHUyNUI2XCI7XG4gICAgICAgIHBsYXlfYnV0dG9uLmNsYXNzTmFtZSA9IFwiY2hhcnRfcGxheV9idXR0b25cIjtcblxuXG4gICAgICAgIC8vc2xpZGVyXG4gICAgICAgIHZhciBjaGFydF9zbGlkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGNoYXJ0X3NsaWRlci5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwicmFuZ2VcIik7XG4gICAgICAgIGNoYXJ0X3NsaWRlci5zZXRBdHRyaWJ1dGUoXCJtaW5cIiwgXCIwXCIpO1xuICAgICAgICBjaGFydF9zbGlkZXIuc2V0QXR0cmlidXRlKFwibWF4XCIsIFwiMjBcIik7XG4gICAgICAgIGNoYXJ0X3NsaWRlci5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIjBcIik7XG4gICAgICAgIGNoYXJ0X3NsaWRlci5zdHlsZSA9IFwiZmxvYXQ6IGxlZnQ7IG1hcmdpbi1yaWdodDogMTBweDsgY29sb3I6ICMzMzdhYjc7IGZvbnQtc2l6ZTogMThweDsgY3Vyc29yOiBwb2ludGVyOyB3aWR0aDogMzUwcHg7IHBvc2l0aW9uOiByZWxhdGl2ZTsgdG9wOiAxMnB4O1wiO1xuICAgICAgICBjaGFydF9zbGlkZXIuY2xhc3NOYW1lID0gXCJjaGFydF9zbGlkZXJcIjtcblxuICAgICAgICAvL2FuaW1hdGlvbiB0aXRsZSAoaS5lLiBkYXRlIHNob3duKVxuICAgICAgICB2YXIgYW5pbWF0aW9uX3RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgICAgICBhbmltYXRpb25fdGl0bGUudGV4dENvbnRlbnQgPSBcInRlc3RcIjtcbiAgICAgICAgYW5pbWF0aW9uX3RpdGxlLnN0eWxlID0gXCJtYXJnaW46IDBweDsgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7IGZvbnQtd2VpZ2h0OiAyMDA7IGNvbG9yOiAjMzM3YWI3OyBmb250LXNpemU6IDE4cHg7IHBvc2l0aW9uOiByZWxhdGl2ZTsgdG9wOiA4cHg7IGZsb2F0OiBsZWZ0O1wiO1xuICAgICAgICBhbmltYXRpb25fdGl0bGUuY2xhc3NOYW1lID0gXCJhbmltYXRpb25fdGl0bGVcIjtcblxuXG4gICAgICAgIC8vcHV0IGl0IGFsbCB0b2dldGhlciBpbiB0aGUgZGl2XG4gICAgICAgIGNoYXJ0X2FuaW1hdGlvbl9kaXYuYXBwZW5kQ2hpbGQocGxheV9idXR0b24pO1xuXG4gICAgICAgIGNoYXJ0X2FuaW1hdGlvbl9kaXYuYXBwZW5kQ2hpbGQoY2hhcnRfc2xpZGVyKTtcbiAgICAgICAgY2hhcnRfYW5pbWF0aW9uX2Rpdi5hcHBlbmRDaGlsZChhbmltYXRpb25fdGl0bGUpO1xuXG5cblxuICAgICAgICByZXR1cm4gY2hhcnRfYW5pbWF0aW9uX2RpdjtcblxuICAgIH0sXG4gICAgXG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gY2hhcnRfYW5pbWF0aW9uX2luaXQ7IiwidmFyIENoYXJ0T3B0aW9ucyA9IHJlcXVpcmUoXCIuLi8uLi9jb25zdHJ1Y3RvcnMvY2hhcnRzL2NoYXJ0LmpzXCIpO1xudmFyIHVwZGF0ZV90ZW1wbGF0ZSA9IHJlcXVpcmUoXCIuLi8uLi9mb3JtX3VwZGF0ZXMvdXBkYXRlX3RlbXBsYXRlLmpzXCIpO1xuXG4vKiogSW5pdGlhbGl6ZXIgZm9yIFwiY2hhcnRcIiBvcHRpb25zIHNlY3Rpb24gb2YgYWxsX2NoYXJ0X29wdGlvbnMuIENyZWF0ZXMgYW5kIHJldHVybnMgYSBuZXcgaW5zdGFuY2UgXG5AbW9kdWxlXG4qL1xudmFyIGNoYXJ0SW5pdCA9IGZ1bmN0aW9uIGNoYXJ0SW5pdChjaGFydF90eXBlKSB7XG5cbiAgICBpZiAoY2hhcnRfdHlwZSA9PT0gXCJkcmlsbGRvd25cIikge1xuICAgICAgICBjaGFydF90eXBlID0gXCJjb2x1bW5cIjtcbiAgICB9XG5cbiAgICAvL2xvYWQgb3B0aW9ucyBmcm9tIHVzZXIgaW5wdXRzXG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIG1hcmdpbjogW051bWJlcigkKFwiI3RvcF9tYXJnaW5fdGV4dGlucHV0XCIpLnZhbCgpKSxcbiAgICAgICAgICAgICAgICAgIE51bWJlcigkKFwiI3JpZ2h0X21hcmdpbl90ZXh0aW5wdXRcIikudmFsKCkpLFxuICAgICAgICAgICAgICAgICAgTnVtYmVyKCQoXCIjYm90dG9tX21hcmdpbl90ZXh0aW5wdXRcIikudmFsKCkpLFxuICAgICAgICAgICAgICAgICAgTnVtYmVyKCQoXCIjbGVmdF9tYXJnaW5fdGV4dGlucHV0XCIpLnZhbCgpKSxcbiAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgcmVuZGVyVG86IHVwZGF0ZV90ZW1wbGF0ZS5jaGFuZ2VJRCgkKFwiI2NoYXJ0X2lkX3RleHRpbnB1dFwiKS52YWwoKSksXG4gICAgICAgIHR5cGU6IGNoYXJ0X3R5cGUsXG4gICAgICAgIGV2ZW50czoge1xuICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlZGl0cy5lbGVtZW50Lm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHA6Ly93d3cuYmxzLmdvdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnX2JsYW5rJ1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjaGFydF9vcHRpb25zID0gbmV3IENoYXJ0T3B0aW9ucyhvcHRpb25zKTtcbiAgICByZXR1cm4gY2hhcnRfb3B0aW9ucztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY2hhcnRJbml0OyIsIi8qKiBJbml0aWFsaXplciBmb3IgXCJjb2xvcnNcIiBvcHRpb25zIHNlY3Rpb24gb2YgYWxsX2NoYXJ0X29wdGlvbnMuIENyZWF0ZXMgYW5kIHJldHVybnMgYSBuZXcgaW5zdGFuY2UgXG5AbW9kdWxlXG4qL1xudmFyIGNvbG9yc0luaXQgPSBmdW5jdGlvbiBjb2xvcnNJbml0KCkge1xuICAgIHZhciBjb2xvcl9hcnIgPSBbXTtcbiAgICAkKFwiI2NvbG9yX3BhbGV0dGVzIC5zZWxlY3RlZCAuY29sb3JfcGFsZXR0ZV9jZWxsXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBjb2xvcl9hcnIucHVzaCgkKHRoaXMpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIikpO1xuICAgIH0pO1xuICAgIFxuICAgIGlmIChjb2xvcl9hcnIubGVuZ3RoIDwgMSl7XG4gICAgICBjb2xvcl9hcnIgPSAgWycjN2NiNWVjJywgJyM0MzQzNDgnLCAnIzkwZWQ3ZCcsICcjZjdhMzVjJywgJyM4MDg1ZTknLFxuICAgJyNmMTVjODAnLCAnI2U0ZDM1NCcsICcjMmI5MDhmJywgJyNmNDViNWInLCAnIzkxZThlMScsICcjMmY3ZWQ4JywgJyMwZDIzM2EnLCAnIzhiYmMyMScsICcjOTEwMDAwJywgJyMxYWFkY2UnLFxuICAgJyM0OTI5NzAnLCAnI2YyOGY0MycsICcjNzdhMWU1JywgJyNjNDI1MjUnLCAnI2E2Yzk2YSddO1xuICAgIH1cbiAgICBcbiAgICAgICAgcmV0dXJuIGNvbG9yX2Fycjtcbn07XG4gXG5tb2R1bGUuZXhwb3J0cyA9IGNvbG9yc0luaXQ7IiwidmFyIENyZWRpdHMgPSByZXF1aXJlKFwiLi4vLi4vY29uc3RydWN0b3JzL2NoYXJ0cy9jcmVkaXRzLmpzXCIpO1xuXG4vKiogSW5pdGlhbGl6ZXIgZm9yIFwiY3JlZGl0c1wiIG9wdGlvbnMgc2VjdGlvbiBvZiBhbGxfY2hhcnRfb3B0aW9ucy4gQ3JlYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBpbnN0YW5jZSBcbkBtb2R1bGVcbiovXG52YXIgY3JlZGl0c0luaXQgPSBmdW5jdGlvbiBjcmVkaXRzSW5pdCgpIHtcblxuICAgIHZhciBjcmVkaXRzX3RleHQgPSAkKFwiI2NoYXJ0X2NyZWRpdHNfdGV4dF90ZXh0YXJlYVwiKS52YWwoKS5yZXBsYWNlKC9cXG4vZywgXCI8YnI+XCIpO1xuICAgIC8qKiBjYWxjdWxhdGUgdmVydGljYWwgeSBwb3NpdGlvbiBvZiBjcmVkaXRzLCBkZXBlbmRpbmcgb24gaG93IG1hbnkgbGluZXMgaXQgaGFzIFxuICAgIEBwYXJhbSB0ZXh0IHtzdHJpbmd9IHRoZSBjcmVkaXRzIHRleHQsIG9yaWdpbmFsbHkgZnJvbSAjY2hhcnRfY3JlZGl0c190ZXh0X3RleHRhcmVhXG4gICAgKi9cbiAgICB2YXIgY2FsY3VsYXRlQ3JlZGl0c1Bvc2l0aW9uID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgdmFyIG5ld195X3BvcyA9ICh0ZXh0LnNwbGl0KFwiPGJyPlwiKS5sZW5ndGgpICogLTExO1xuICAgICAgICByZXR1cm4gbmV3X3lfcG9zO1xuICAgIH07XG5cbiAgICAvL2xvYWQgb3B0aW9ucyBmcm9tIHVzZXIgaW5wdXRzXG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIHRleHQ6IGNyZWRpdHNfdGV4dCxcbiAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgIHk6IGNhbGN1bGF0ZUNyZWRpdHNQb3NpdGlvbihjcmVkaXRzX3RleHQpXG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICB2YXIgY3JlZGl0cyA9IG5ldyBDcmVkaXRzKG9wdGlvbnMpO1xuICAgIHJldHVybiBjcmVkaXRzO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjcmVkaXRzSW5pdDsiLCJ2YXIgRXhwb3J0aW5nID0gcmVxdWlyZShcIi4uLy4uL2NvbnN0cnVjdG9ycy9jaGFydHMvZXhwb3J0aW5nLmpzXCIpO1xuXG4vKiogSW5pdGlhbGl6ZXIgZm9yIFwiZXhwb3J0aW5nXCIgb3B0aW9ucyBzZWN0aW9uIG9mIGFsbF9jaGFydF9vcHRpb25zLiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgbmV3IGluc3RhbmNlIFxuQG1vZHVsZVxuKi9cbnZhciBleHBvcnRpbmdJbml0ID0gZnVuY3Rpb24gZXhwb3J0aW5nSW5pdCgpIHtcblxuICAgIC8vbG9hZCBvcHRpb25zIGZyb20gdXNlciBpbnB1dHNcbiAgICB2YXIgb3B0aW9ucyA9IHtcblxuICAgIH07XG5cblxuICAgIHZhciBleHBvcnRpbmcgPSBuZXcgRXhwb3J0aW5nKG9wdGlvbnMpO1xuICAgIHJldHVybiBleHBvcnRpbmc7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydGluZ0luaXQ7IiwidmFyIExlZ2VuZCA9IHJlcXVpcmUoXCIuLi8uLi9jb25zdHJ1Y3RvcnMvY2hhcnRzL2xlZ2VuZC5qc1wiKTtcbnZhciB1dGlsc19mb3JtcyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc19mb3Jtcy5qc1wiKTtcbnZhciB1dGlsc19tYWluID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWxzX21haW4uanNcIik7XG5cbi8qKiBJbml0aWFsaXplciBmb3IgXCJsZWdlbmRcIiBvcHRpb25zIHNlY3Rpb24gb2YgYWxsX2NoYXJ0X29wdGlvbnMuIENyZWF0ZXMgYW5kIHJldHVybnMgYSBuZXcgaW5zdGFuY2UgXG5AbW9kdWxlXG4qLyBcbiB2YXIgbGVnZW5kSW5pdCA9IGZ1bmN0aW9uIGxlZ2VuZEluaXQoKSB7XG4gICAgIFxuICAgICBcbiAgICAgdmFyIGdldExlZ2VuZExheW91dCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICB2YXIgbGVnZW5kX2xheW91dF92YWwgPSAkKFwiI2xlZ2VuZF9sYXlvdXRfc2VsZWN0XCIpLnZhbCgpO1xuICAgICAgICAgcmV0dXJuIGxlZ2VuZF9sYXlvdXRfdmFsICE9PSBcIm5vX2xlZ2VuZFwiID8gbGVnZW5kX2xheW91dF92YWwgOiB1bmRlZmluZWQ7XG4gICAgIH07XG4gICAgIFxuICAgICBcblxuICAgICAvL2xvYWQgb3B0aW9ucyBmcm9tIHVzZXIgaW5wdXRzXG4gICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgbGF5b3V0OiBnZXRMZWdlbmRMYXlvdXQoKSxcbiAgICAgICAgIHg6IE51bWJlcigkKFwiI2xlZ2VuZF9wbGFjZW1lbnRfeFwiKS52YWwoKSksXG4gICAgICAgICB5OiBOdW1iZXIoJChcIiNsZWdlbmRfcGxhY2VtZW50X3lcIikudmFsKCkpLFxuICAgICAgICAgcmV2ZXJzZWQ6IHV0aWxzX2Zvcm1zLmdldENoZWNrQm94VmFsdWUoJChcIiNsZWdlbmRfcmV2ZXJzZV9sYXlvdXRfY2hlY2tib3hcIikpLFxuICAgICAgICAgaXRlbVdpZHRoOiB1dGlsc19tYWluLmNoZWNrRm9yVW5kZWZpbmVkKCQoXCIjbGVnZW5kX2l0ZW1fd2lkdGhfaW5wdXRcIikudmFsKCkpIFxuXG4gICAgIH07XG5cblxuICAgICB2YXIgbGVnZW5kID0gbmV3IExlZ2VuZChvcHRpb25zKTtcbiAgICAgcmV0dXJuIGxlZ2VuZDtcbiB9O1xuXG4gbW9kdWxlLmV4cG9ydHMgPSBsZWdlbmRJbml0OyIsInZhciBQbG90T3B0aW9ucyA9IHJlcXVpcmUoXCIuLi8uLi9jb25zdHJ1Y3RvcnMvY2hhcnRzL3Bsb3Rfb3B0aW9ucy5qc1wiKTtcbnZhciB1cGRhdGVfbGVnZW5kID0gcmVxdWlyZShcIi4uLy4uL2Zvcm1fdXBkYXRlcy91cGRhdGVfbGVnZW5kLmpzXCIpO1xudmFyIHV0aWxzX2Zvcm1zID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWxzX2Zvcm1zLmpzXCIpO1xuXG4vKiogSW5pdGlhbGl6ZXIgZm9yIFwicGxvdE9wdGlvbnNcIiBvcHRpb25zIHNlY3Rpb24gb2YgYWxsX2NoYXJ0X29wdGlvbnMuIENyZWF0ZXMgYW5kIHJldHVybnMgYSBuZXcgaW5zdGFuY2UgXG5AbW9kdWxlXG4qL1xudmFyIHBsb3RPcHRpb25zSW5pdCA9IGZ1bmN0aW9uIHBsb3RPcHRpb25zSW5pdChsZWdlbmRfdG9nZ2xlX2VuYWJsZWQpIHtcblxuICAgIC8vbG9hZCBvcHRpb25zIGZyb20gdXNlciBpbnB1dHNcbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgc2VyaWVzOiB7XG4gICAgICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAgICAgICAvLyB3aGVuIG9uZSBsZWdlbmQgaXRlbSBpcyBjbGlja2VkLCB0aGUgb3RoZXJzIGhpZGVcbiAgICAgICAgICAgICAgICBsZWdlbmRJdGVtQ2xpY2s6IHVwZGF0ZV9sZWdlbmQudXBkYXRlVG9nZ2xlKGxlZ2VuZF90b2dnbGVfZW5hYmxlZClcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGRhdGFMYWJlbHM6IHtcbiAgICAgICAgICAgICAgICBlbmFibGVkOiB1dGlsc19mb3Jtcy5nZXRDaGVja0JveFZhbHVlKCQoXCIjY2hhcnRfc2hvd19kYXRhX2xhYmVsc19jaGVja2JveFwiKSlcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGxpbmVXaWR0aDogMS41LFxuICAgICAgICAgICAgbWFya2VyOiB7XG4gICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc3RhdGVzOiB7XG4gICAgICAgICAgICAgICAgICAgIGhvdmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiA1XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RhdGVzOiB7XG4gICAgICAgICAgICAgICAgaG92ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoOiA0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH07XG5cblxuICAgIC8qIHVuaXF1ZSBjaGFydCBvcHRpb25zIChjaG9vc2luZyB0byBrZWVwIHRoZXNlIHdpdGggZXZlcnkgY2hhcnQgc28gSSBkb24ndCBoYXZlIHRvIHJlbG9hZCB0aGVtIHdpdGggaW5kaXZpZHVhbCBzZXJpZXMgd2hlbiBjaGFydCB0eXBlcyBhcmUgdXBkYXRlZCkgKi9cblxuICAgIC8vYmFyIG9yIGNvbHVtbiBvcHRpb25zXG4gICAgb3B0aW9ucy5zZXJpZXMuZ3JvdXBQYWRkaW5nID0gJChcIiNncm91cF9wYWRkaW5nX2lucHV0XCIpLmdldFZhbE51bWJlcigpIHx8IDAuMjtcbiAgICBvcHRpb25zLnNlcmllcy5wb2ludFBhZGRpbmcgPSAkKFwiI3BvaW50X3BhZGRpbmdfaW5wdXRcIikuZ2V0VmFsTnVtYmVyKCkgfHwgMC4xO1xuICAgIG9wdGlvbnMuc2VyaWVzLnBvaW50UGxhY2VtZW50ID0gbnVsbDsgXG4gICAgb3B0aW9ucy5zZXJpZXMuc3RhY2tpbmcgPSBudWxsO1xuICAgIG9wdGlvbnMuc2VyaWVzLm1pblBvaW50TGVuZ3RoID0gMjtcblxuXG4gICAgLy9qdXN0IGZvciBidWJibGUgY2hhcnRzXG4gICAgb3B0aW9ucy5zZXJpZXMubWF4U2l6ZSA9IDkwO1xuICAgIG9wdGlvbnMuc2VyaWVzLm1pblNpemUgPSA0O1xuICAgIG9wdGlvbnMuc2VyaWVzLnNpemVCeSA9ICd3aWR0aCc7IC8vaW5zdGVhZCBvZiAnYXJlYScsIHNlZW1zIG1vcmUgYWNjdXJhdGVcblxuXG4gICAgdmFyIHBsb3RPcHRpb25zID0gbmV3IFBsb3RPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBwbG90T3B0aW9ucztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gcGxvdE9wdGlvbnNJbml0OyIsInZhciBTZXJpZXMgPSByZXF1aXJlKFwiLi4vLi4vY29uc3RydWN0b3JzL2NoYXJ0cy9zZXJpZXMuanNcIik7XG5cbi8qKiBJbml0aWFsaXplciBmb3IgXCJzZXJpZXNcIiBvcHRpb25zIHNlY3Rpb24gb2YgYWxsX2NoYXJ0X29wdGlvbnMuIENyZWF0ZXMgYW5kIHJldHVybnMgYSBuZXcgaW5zdGFuY2UgXG5AbW9kdWxlXG4qL1xudmFyIHNlcmllc0luaXQgPSBmdW5jdGlvbiBzZXJpZXNJbml0KHNlcmllcykge1xuXG4gICAgLy9sb2FkIG9wdGlvbnMgZnJvbSB1c2VyIGlucHV0c1xuICAgIHZhciBvcHRpb25zID0gc2VyaWVzO1xuXG5cbiAgICB2YXIgc2VyaWVzID0gbmV3IFNlcmllcyhvcHRpb25zKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhzZXJpZXMpO1xuICAgIHJldHVybiBzZXJpZXMuc2VyaWVzO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBzZXJpZXNJbml0OyIsInZhciBTdWJ0aXRsZSA9IHJlcXVpcmUoXCIuLi8uLi9jb25zdHJ1Y3RvcnMvY2hhcnRzL3N1YnRpdGxlLmpzXCIpO1xuXG4vKiogSW5pdGlhbGl6ZXIgZm9yIFwic3VidGl0bGVcIiBvcHRpb25zIHNlY3Rpb24gb2YgYWxsX2NoYXJ0X29wdGlvbnMuIENyZWF0ZXMgYW5kIHJldHVybnMgYSBuZXcgaW5zdGFuY2VcbkBtb2R1bGVcbiovXG5cbnZhciBzdWJ0aXRsZUluaXQgPSBmdW5jdGlvbiBzdWJ0aXRsZUluaXQoKSB7XG5cbiAgICAvL2xvYWQgb3B0aW9ucyBmcm9tIHVzZXIgaW5wdXRzXG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIHRleHQ6ICQoXCIjY2hhcnRfc3VidGl0bGVfdGV4dGFyZWFcIikudmFsKClcbiAgICB9O1xuXG5cbiAgICB2YXIgc3VidGl0bGUgPSBuZXcgU3VidGl0bGUob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN1YnRpdGxlO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBzdWJ0aXRsZUluaXQ7IiwidmFyIFRpdGxlID0gcmVxdWlyZShcIi4uLy4uL2NvbnN0cnVjdG9ycy9jaGFydHMvdGl0bGUuanNcIik7XG5cbi8qKiBJbml0aWFsaXplciBmb3IgXCJ0aXRsZVwiIG9wdGlvbnMgc2VjdGlvbiBvZiBhbGxfY2hhcnRfb3B0aW9ucy4gQ3JlYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBpbnN0YW5jZSBcbkBtb2R1bGVcbiovXG52YXIgdGl0bGVJbml0ID0gZnVuY3Rpb24gdGl0bGVJbml0KHRpdGxlX3RleHQpIHtcblxuICAgIC8vbG9hZCBvcHRpb25zIGZyb20gdXNlciBpbnB1dHNcbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgdGV4dDogdGl0bGVfdGV4dFxuICAgIH07XG5cblxuICAgIHZhciB0aXRsZSA9IG5ldyBUaXRsZShvcHRpb25zKTtcbiAgICByZXR1cm4gdGl0bGU7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHRpdGxlSW5pdDsiLCJ2YXIgVG9vbHRpcCA9IHJlcXVpcmUoXCIuLi8uLi9jb25zdHJ1Y3RvcnMvY2hhcnRzL3Rvb2x0aXAuanNcIik7XG52YXIgdXRpbHNfZm9ybXMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNfZm9ybXMuanNcIik7XG5cbi8qKiBJbml0aWFsaXplciBmb3IgXCJ0b29sdGlwXCIgb3B0aW9ucyBzZWN0aW9uIG9mIGFsbF9jaGFydF9vcHRpb25zLiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgbmV3IGluc3RhbmNlIFxuQG1vZHVsZVxuKi9cbnZhciB0b29sdGlwSW5pdCA9IGZ1bmN0aW9uIHRvb2x0aXBJbml0KCkge1xuXG4gICAgLy9sb2FkIG9wdGlvbnMgZnJvbSB1c2VyIGlucHV0c1xuICAgIHZhciBvcHRpb25zID0ge1xuXG4gICAgICAgIGZvcm1hdHRlcjogdW5kZWZpbmVkICAvLy9mb3JtYXR0ZXIgaXMgY3JlYXRlZCB3aXRoIHVwZGF0ZV90b29sdGlwIGFzIGEgY2FsbGJhY2sgKG5lZWRzIGNoYXJ0IHRvIGV4aXN0IGZpcnN0KVxuICAgICAgICBcbiAgICB9O1xuXG4gICAgdmFyIHRvb2x0aXAgPSBuZXcgVG9vbHRpcChvcHRpb25zKTtcbiAgICByZXR1cm4gdG9vbHRpcDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gdG9vbHRpcEluaXQ7IiwidmFyIHVwZGF0ZV94X2F4aXMgPSByZXF1aXJlKFwiLi4vLi4vZm9ybV91cGRhdGVzL3VwZGF0ZV94X2F4aXMuanNcIik7XG52YXIgWEF4aXMgPSByZXF1aXJlKFwiLi4vLi4vY29uc3RydWN0b3JzL2NoYXJ0cy94X2F4aXMuanNcIik7XG52YXIgdXRpbHNfZm9ybXMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNfZm9ybXMuanNcIik7XG5cbi8qKiBJbml0aWFsaXplciBmb3IgXCJ4QXhpc1wiIG9wdGlvbnMgc2VjdGlvbiBvZiBhbGxfY2hhcnRfb3B0aW9ucy4gQ3JlYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBpbnN0YW5jZSBcbkBtb2R1bGVcbiovXG52YXIgeEF4aXNJbml0ID0gZnVuY3Rpb24geEF4aXNJbml0KGNhdGVnb3JpZXMsIGNoYXJ0X3R5cGUpIHtcblxuICAgIC8vbG9hZCBvcHRpb25zIGZyb20gdXNlciBpbnB1dHNcbiAgICB2YXIgb3B0aW9ucyA9IHtcblxuICAgICAgICBjYXRlZ29yaWVzOiBjYXRlZ29yaWVzIHx8IHVuZGVmaW5lZCxcblxuICAgICAgICBsYWJlbHM6IHtcbiAgICAgICAgICAgIGZvcm1hdHRlcjogdXBkYXRlX3hfYXhpcy51cGRhdGVGb3JtYXR0ZXIodXRpbHNfZm9ybXMuZ2V0Q2hlY2tCb3hWYWx1ZSgkKFwiI2NoYXJ0X3hfYXhpc19zaG93X29ubHlfeWVhcnNcIikpKVxuICAgICAgICB9LFxuXG4gICAgICAgIG1heDogdXBkYXRlX3hfYXhpcy51cGRhdGVNYXgoTnVtYmVyKCQoXCIjY2hhcnRfeF9heGlzX21heF9pbnB1dFwiKS52YWwoKSkpLFxuICAgICAgICBtaW46IHVwZGF0ZV94X2F4aXMudXBkYXRlTWluKE51bWJlcigkKFwiI2NoYXJ0X3hfYXhpc19taW5faW5wdXRcIikudmFsKCkpKSxcblxuICAgICAgICBwbG90TGluZXM6IFt7XG4gICAgICAgICAgICBcInZhbHVlXCI6IDAsXG4gICAgICAgICAgICBcImNvbG9yXCI6IFwiI2MwYzBjMFwiLFxuICAgICAgICAgICAgXCJkYXNoU3R5bGVcIjogXCJzb2xpZFwiLFxuICAgICAgICAgICAgXCJ3aWR0aFwiOiBjaGFydF90eXBlID09PSBcInNjYXR0ZXJcIiB8fCBjaGFydF90eXBlID09PSBcImJ1YmJsZVwiID8gMSA6IDBcbiAgICAgICAgfV0sXG4gICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICBhbGlnbjogY2hhcnRfdHlwZSA9PT0gXCJiYXJcIiB8fCBjaGFydF90eXBlID09PSBcInN0YWNrZWRfYmFyXCIgPyBcImhpZ2hcIiA6IFwibWlkZGxlXCIsXG4gICAgICAgICAgICB0ZXh0OiAkKFwiI2NoYXJ0X3hfYXhpc190aXRsZV90ZXh0YXJlYVwiKS52YWwoKSxcbiAgICAgICAgICAgIHg6IGNoYXJ0X3R5cGUgPT09IFwiYmFyXCIgfHwgY2hhcnRfdHlwZSA9PT0gXCJzdGFja2VkX2JhclwiID8gTnVtYmVyKCQoXCIjY2hhcnRfeF9heGlzX3hfcG9zaXRpb25faW5wdXRcIikudmFsKCkpIDogMFxuICAgICAgICB9LFxuICAgICAgICB0aWNrSW50ZXJ2YWw6IHVwZGF0ZV94X2F4aXMudXBkYXRlVGlja21hcmtJbnRlcnZhbChOdW1iZXIoJChcIiNjaGFydF94X2F4aXNfdGlja21hcmtfaW50ZXJ2YWxfaW5wdXRcIikudmFsKCkpKSxcbiAgICAgICAgdHlwZTogXCJsaW5lYXJcIlxuXG4gICAgfTtcblxuXG4gICAgdmFyIHhBeGlzID0gbmV3IFhBeGlzKG9wdGlvbnMpO1xuICAgIHJldHVybiB4QXhpcztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0geEF4aXNJbml0OyIsInZhciB1dGlsc19tYWluID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWxzX21haW4uanNcIik7XG52YXIgWUF4aXMgPSByZXF1aXJlKFwiLi4vLi4vY29uc3RydWN0b3JzL2NoYXJ0cy95X2F4aXMuanNcIik7XG52YXIgdXBkYXRlX3lfYXhpcyA9IHJlcXVpcmUoXCIuLi8uLi9mb3JtX3VwZGF0ZXMvdXBkYXRlX3lfYXhpcy5qc1wiKTtcbnZhciB1dGlsc19mb3JtcyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc19mb3Jtcy5qc1wiKTtcblxuLyoqIEluaXRpYWxpemVyIGZvciBcInlBeGlzXCIgb3B0aW9ucyBzZWN0aW9uIG9mIGFsbF9jaGFydF9vcHRpb25zLiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgbmV3IGluc3RhbmNlIFxuQG1vZHVsZVxuKi9cbnZhciB5QXhpc0luaXQgPSBmdW5jdGlvbiB5QXhpc0luaXQoY2hhcnRfdHlwZSkge1xuXG4gICAgLyoqIGxvYWQgb3B0aW9ucyBmcm9tIHVzZXIgaW5wdXRzICovXG4gICAgdmFyIG9wdGlvbnMgPSB7XG5cbiAgICAgICAgbGFiZWxzOiB7XG4gICAgICAgICAgICBmb3JtYXR0ZXI6IHVuZGVmaW5lZCAvL2ZvbWF0dGVyIGlzIG1hZGUgb24gY2FsbCBiYWNrIGluIGFsbF9mb3JtX3VwZGF0ZXMuanNcbiAgICAgICAgfSxcblxuICAgICAgICBtYXg6IHVwZGF0ZV95X2F4aXMudXBkYXRlTWF4KE51bWJlcigkKFwiI2NoYXJ0X3lfYXhpc19tYXhfaW5wdXRcIikudmFsKCkpKSxcbiAgICAgICAgbWluOiB1cGRhdGVfeV9heGlzLnVwZGF0ZU1pbihOdW1iZXIoJChcIiNjaGFydF95X2F4aXNfbWluX2lucHV0XCIpLnZhbCgpKSksXG4gICAgICAgIHR5cGU6IHVwZGF0ZV95X2F4aXMudXBkYXRlSXNMb2codXRpbHNfZm9ybXMuZ2V0Q2hlY2tCb3hWYWx1ZSgkKFwiI2NoYXJ0X3lfYXhpc19sb2dfY2hlY2tib3hcIikpKSxcbiAgICAgICAgb3Bwb3NpdGU6IHV0aWxzX2Zvcm1zLmdldENoZWNrQm94VmFsdWUoJChcIiNjaGFydF95X2F4aXNfb3Bwb3NpdGVfY2hlY2tib3hcIikpLFxuICAgICAgICB0aWNrSW50ZXJ2YWw6IHVwZGF0ZV95X2F4aXMudXBkYXRlVGlja21hcmtJbnRlcnZhbChOdW1iZXIoJChcIiNjaGFydF95X2F4aXNfdGlja21hcmtfaW50ZXJ2YWxfaW5wdXRcIikudmFsKCkpKSxcblxuICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgdGV4dDogJChcIiNjaGFydF95X2F4aXNfdGl0bGVfdGV4dGFyZWFcIikudmFsKCksXG4gICAgICAgICAgICBhbGlnbjogY2hhcnRfdHlwZSA9PT0gXCJiYXJcIiA/IFwibWlkZGxlXCIgOiBcImhpZ2hcIixcbiAgICAgICAgICAgIHg6IGNoYXJ0X3R5cGUgPT09IFwiYmFyXCIgfHwgY2hhcnRfdHlwZSA9PT0gXCJzdGFja2VkX2JhclwiID8gMCA6IE51bWJlcigkKFwiI2NoYXJ0X3lfYXhpc194X3Bvc2l0aW9uX2lucHV0XCIpLnZhbCgpKSxcbiAgICAgICAgICAgIHk6IGNoYXJ0X3R5cGUgPT09IFwiYmFyXCIgfHwgY2hhcnRfdHlwZSA9PT0gXCJzdGFja2VkX2JhclwiID8gOCA6IC0yMCxcbiAgICAgICAgfVxuXG5cbiAgICB9O1xuXG5cbiAgICB2YXIgeUF4aXMgPSBuZXcgWUF4aXMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHlBeGlzO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB5QXhpc0luaXQ7IiwiLyoqIENhbGxlZCBmcm9tIG1hcF9pbml0LmNvbnZlcnRNYXBPcHRpb25zVG9TVkcgaWYgdXNlciBzZWxlY3RlZCBhbmltYXRlZCBtYXAuIFxuQG1vZHVsZVxuKiovXG5cbnZhciBtYXBfYW5pbWF0aW9uX2luaXQgPSB7XG5cblxuICAgIC8qKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgZGl2IGNvbnRhaW5pbmcgYSBzbGlkZXIgYW5kIHBsYXkgYW5kIHBhdXNlIGJ1dHRvbnMgdG8gYW5pbWF0ZWQgdGhlIG1hcCAgKiovXG4gICAgZ2V0QW5pbWF0aW9uRGl2OiBmdW5jdGlvbiAoYWxsX21hcF9vcHRpb25zKSB7XG5cbiAgICAgICAgLy9vdXRlciBkaXZcbiAgICAgICAgdmFyIG1hcF9hbmltYXRpb25fZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgJChtYXBfYW5pbWF0aW9uX2RpdikuY3NzKHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICBcIm1hcmdpbi1sZWZ0XCI6IFwiMjBweFwiLFxuICAgICAgICAgICAgXCJ6LWluZGV4XCI6IFwiNTAwXCIsXG4gICAgICAgICAgICBcIm1hcmdpbi1ib3R0b21cIjogXCItNnB4XCIsXG4gICAgICAgICAgICBcIi13ZWJraXQtdXNlci1zZWxlY3RcIjogXCJub25lXCJcbiAgICAgICAgfSk7XG5cblxuICAgICAgICAvL3BsYXkgYnV0dG9uXG4gICAgICAgIHZhciBwbGF5X2J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICQocGxheV9idXR0b24pLmNzcyh7XG4gICAgICAgICAgICAgICAgZmxvYXQ6IFwibGVmdFwiLFxuICAgICAgICAgICAgICAgIFwibWFyZ2luLXJpZ2h0XCI6IFwiMTBweFwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMzMzdhYjdcIixcbiAgICAgICAgICAgICAgICBcImZvbnQtc2l6ZVwiOiBcIjMycHhcIixcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgdG9wOiBcIi02cHhcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5odG1sKFwiXFx1MjVCNlwiKVxuICAgICAgICAgICAgLmFkZENsYXNzKFwibWFwX3BsYXlfYnV0dG9uXCIpO1xuXG5cbiAgICAgICAgLy9zdGVwIGJhY2t3YXJkIGJ1dHRvblxuICAgICAgICB2YXIgc3RlcF9iYWNrd2FyZF9idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAkKHN0ZXBfYmFja3dhcmRfYnV0dG9uKS5jc3Moe1xuICAgICAgICAgICAgICAgIGZsb2F0OiBcImxlZnRcIixcbiAgICAgICAgICAgICAgICBcIm1hcmdpbi1yaWdodFwiOiBcIjEwcHhcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjMzM3YWI3XCIsXG4gICAgICAgICAgICAgICAgXCJmb250LXNpemVcIjogXCIyNnB4XCIsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgIHRvcDogXCItNXB4XCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuaHRtbChcIiZsdFwiKVxuICAgICAgICAgICAgLmFkZENsYXNzKFwibWFwX3N0ZXBfYmFja3dhcmRfYnV0dG9uXCIpO1xuXG4gICAgICAgIC8vc3RlcCBmb3J3YXJkIGJ1dHRvblxuICAgICAgICB2YXIgc3RlcF9mb3J3YXJkX2J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICQoc3RlcF9mb3J3YXJkX2J1dHRvbikuY3NzKHtcbiAgICAgICAgICAgICAgICBmbG9hdDogXCJsZWZ0XCIsXG4gICAgICAgICAgICAgICAgXCJtYXJnaW4tcmlnaHRcIjogXCIxMHB4XCIsXG4gICAgICAgICAgICAgICAgXCJtYXJnaW4tbGVmdFwiOiBcIi0ycHhcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjMzM3YWI3XCIsXG4gICAgICAgICAgICAgICAgXCJmb250LXNpemVcIjogXCIyNnB4XCIsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgIHRvcDogXCItNXB4XCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuaHRtbChcIiZndFwiKVxuICAgICAgICAgICAgLmFkZENsYXNzKFwibWFwX3N0ZXBfZm9yd2FyZF9idXR0b25cIik7XG5cblxuICAgICAgICAvL3NsaWRlclxuICAgICAgICB2YXIgbWFwX3NsaWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgJChtYXBfc2xpZGVyKS5hdHRyKHtcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJyYW5nZVwiLFxuICAgICAgICAgICAgICAgIFwibWluXCI6IFwiMFwiLFxuICAgICAgICAgICAgICAgIFwibWF4XCI6IGFsbF9tYXBfb3B0aW9ucy5hbmltYXRlZF92YWx1ZV90aXRsZXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICBcInZhbHVlXCI6IFwiMFwiXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNzcyh7XG4gICAgICAgICAgICAgICAgZmxvYXQ6IFwibGVmdFwiLFxuICAgICAgICAgICAgICAgIFwibWFyZ2luLXJpZ2h0XCI6IFwiMTBweFwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMzMzdhYjdcIixcbiAgICAgICAgICAgICAgICBcImZvbnQtc2l6ZVwiOiBcIjI2cHhcIixcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBhbGxfbWFwX29wdGlvbnMuc2l6ZWRfZm9yX3Nwb3RsaWdodCA/IFwiMzEwcHhcIiA6IFwiNDAwcHhcIixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgIHRvcDogXCIxMHB4XCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuYWRkQ2xhc3MoXCJtYXBfc2xpZGVyXCIpXG5cblxuXG4gICAgICAgIC8vYW5pbWF0aW9uIHRpdGxlIChpLmUuIGRhdGUgc2hvd24pXG4gICAgICAgIHZhciBhbmltYXRpb25fdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgJChhbmltYXRpb25fdGl0bGUpLnRleHQoYWxsX21hcF9vcHRpb25zLmFuaW1hdGVkX3ZhbHVlX3RpdGxlc1swXSlcbiAgICAgICAgICAgIC5jc3Moe1xuICAgICAgICAgICAgICAgIG1hcmdpbjogXCIwcHhcIixcbiAgICAgICAgICAgICAgICBcImZvbnQtZmFtaWx5XCI6IFwic2Fucy1zZXJpZlwiLFxuICAgICAgICAgICAgICAgIFwiZm9udC13ZWlnaHRcIjogXCIyMDBcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjMzM3YWI3XCIsXG4gICAgICAgICAgICAgICAgXCJmb250LXNpemVcIjogXCIyNHB4XCIsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICB0b3A6IFwiNXB4XCIsXG4gICAgICAgICAgICAgICAgZmxvYXQ6IFwibGVmdFwiXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmFkZENsYXNzKFwiYW5pbWF0aW9uX3RpdGxlXCIpO1xuXG5cbiAgICAgICAgLy9wdXQgaXQgYWxsIHRvZ2V0aGVyIGluIHRoZSBkaXZcbiAgICAgICAgJChtYXBfYW5pbWF0aW9uX2RpdikuYXBwZW5kKHBsYXlfYnV0dG9uLCBzdGVwX2JhY2t3YXJkX2J1dHRvbiwgc3RlcF9mb3J3YXJkX2J1dHRvbiwgbWFwX3NsaWRlciwgYW5pbWF0aW9uX3RpdGxlKTtcblxuXG4gICAgICAgIC8vYWRqdXN0IGxlZ2VuZCBwbGFjZW1lbnRcbiAgICAgICAgLy8gICAgICAgICQoXCIjbGVnZW5kX3BsYWNlbWVudF95XCIpLnZhbCg3MCk7XG4gICAgICAgIC8vICAgICAgICBhbGxfbWFwX29wdGlvbnMubGVnZW5kLnkgPSA3MDtcblxuICAgICAgICByZXR1cm4gbWFwX2FuaW1hdGlvbl9kaXY7XG5cbiAgICB9LFxuXG5cblxuICAgIC8qKiBzZXRzIHVwIHRoZSBwbGF5LCBwYXVzZSwgYW5kIHNsaWRlciBmdW5jdGlvbmFsaXR5IGluIGFuaW1hdGVkIG1hcHMgKiovXG4gICAgc2V0VXBNYXBBbmltYXRpb246IGZ1bmN0aW9uIChhbGxfbWFwX29wdGlvbnMsIG1hcF9kaXNwbGF5X2FyZWEpIHtcblxuXG4gICAgICAgIC8vd2hlbiBzbGlkZXIgY2hhbmdlcywgY2hhbmdlIHRoZSB2YWx1ZXMgZGlzcGxheWVkIGluIHRoZSBtYXAgYW5kIHRoZSBhbmltYXRpb24gdGl0bGVcbiAgICAgICAgJChcIi5tYXBfc2xpZGVyXCIsIG1hcF9kaXNwbGF5X2FyZWEpLm9uKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNsaWRlcl92YWwgPSAkKHRoaXMpLnZhbCgpO1xuXG4gICAgICAgICAgICAvL3VwZGF0ZSBhbmltYXRlZCB0aXRsZVxuICAgICAgICAgICAgJChcIi5hbmltYXRpb25fdGl0bGVcIiwgbWFwX2Rpc3BsYXlfYXJlYSkudGV4dChhbGxfbWFwX29wdGlvbnMuYW5pbWF0ZWRfdmFsdWVfdGl0bGVzW3NsaWRlcl92YWxdKTtcblxuICAgICAgICAgICAgLy9yZWFzaWduIG1hcCB2YWx1ZXNcbiAgICAgICAgICAgICQoXCJwYXRoW2xvY19uYW1lXSwgY2lyY2xlW2xvY19uYW1lXVwiLCBtYXBfZGlzcGxheV9hcmVhKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciB0aGlzX2FuaW1hdGVkX3ZhbHMgPSAkdGhpcy5hdHRyKFwiYW5pbWF0ZWRfdmFsc1wiKTtcbiAgICAgICAgICAgICAgICB2YXIgbmV3X3ZhbCA9IHRoaXNfYW5pbWF0ZWRfdmFscyA/IHRoaXNfYW5pbWF0ZWRfdmFscy5zcGxpdChcIjtcIilbc2xpZGVyX3ZhbF0gOiBcIk4vQVwiO1xuXG4gICAgICAgICAgICAgICAgJHRoaXMuYXR0cihcImxvY192YWx1ZVwiLCBuZXdfdmFsKTtcblxuICAgICAgICAgICAgICAgIHZhciBuZXdfZmlsbCA9IFwiXCI7IC8vbmV3IGNvbG9yIHRvIGJlIGFzc2lnbmVkXG4gICAgICAgICAgICAgICAgLy90aGVuIHJlY29sb3JcbiAgICAgICAgICAgICAgICBpZiAobmV3X3ZhbCA9PT0gbnVsbCB8fCBuZXdfdmFsID09PSBcIk4vQVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld19maWxsID0gXCJyZ2IoMjIzLCAyMjMsIDIyMylcIjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobmV3X3ZhbCA8PSBhbGxfbWFwX29wdGlvbnMudmFsdWVfcmFuZ2VzWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld19maWxsID0gYWxsX21hcF9vcHRpb25zLmNvbG9yc1swXTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX21hcF9vcHRpb25zLnZhbHVlX3Jhbmdlcy5sZW5ndGg7IGkrKykgeyAvL2ZvciBsZW5ndGggb2YgdmFsdWVfcmFuZ2VzIGFycmF5LCBhc3NpZ24gY29sb3JzXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdfdmFsID4gYWxsX21hcF9vcHRpb25zLnZhbHVlX3Jhbmdlc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3X2ZpbGwgPSBhbGxfbWFwX29wdGlvbnMuY29sb3JzW2kgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vaWYgYSBjaXJjbGUsIHJlc2l6ZSBhbmQgZ2l2ZSBvcGFjaXR5XG5cbiAgICAgICAgICAgICAgICBpZiAoJHRoaXMuYXR0cihcInJcIikgJiYgYWxsX21hcF9vcHRpb25zLm1hcF90eXBlICE9PSBcInN0YXRlXCIpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc19hcmVhID0gbmV3X3ZhbCA/IChNYXRoLmFicyhuZXdfdmFsKSAvIGFsbF9tYXBfb3B0aW9ucy5jaXJjbGVfc2l6ZV9tdWx0aXBsZSkgfHwgMCA6IDA7XG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmF0dHIoXCJyXCIsIE1hdGguc3FydCh0aGlzX2FyZWEgLyBNYXRoLlBJKSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAkdGhpcy5hdHRyKFwiZmlsbFwiLCBuZXdfZmlsbC5yZXBsYWNlKCcpJywgJywgMC43NSknKS5yZXBsYWNlKCdyZ2InLCAncmdiYScpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvL2ZvciBwYXRocywgbm8gcmVzaXplIG9yIG9wYWNpdHlcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMuYXR0cihcImZpbGxcIiwgbmV3X2ZpbGwpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7IC8vIGVuZCBwYXRoIC8gY2lyY2xlIGxvb3BcblxuXG4gICAgICAgIH0pO1xuXG5cblxuXG4gICAgICAgIHZhciBwbGF5aW5nOyAvL2JlY29tZXMgcGxheWluZyBmdW5jdGlvbiB0aGF0IG1vdmVzIHNsaWRlciB2YWx1ZSB0byB0aGUgcmlnaHRcblxuICAgICAgICAvL21vdmUgdGhlIHNsaWRlciBhIHN0ZXAgaW4gYSBkaXJlY3Rpb24uIGlmIGF0IG1heCwgbWFrZSAwXG4gICAgICAgIHZhciBtb3ZlU2xpZGVyID0gZnVuY3Rpb24gKG51bSkge1xuICAgICAgICAgICAgdmFyICRtYXBfc2xpZGVyID0gJChcIi5tYXBfc2xpZGVyXCIsIG1hcF9kaXNwbGF5X2FyZWEpO1xuXG4gICAgICAgICAgICAkbWFwX3NsaWRlci52YWwoJG1hcF9zbGlkZXIudmFsKCkgPT09ICRtYXBfc2xpZGVyLmF0dHIoXCJtYXhcIikgPyAwIDogTnVtYmVyKCRtYXBfc2xpZGVyLnZhbCgpKSArIG51bSkudHJpZ2dlcihcImlucHV0XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9wbGF5IGZ1bmN0aW9uLCBydW4gd2hlbiBwbGF5IGJ1dHRvbiBpcyBjbGlja2VkXG4gICAgICAgIHZhciBwbGF5TWFwID0gZnVuY3Rpb24gKG1hcF9kaXNwbGF5X2FyZWEpIHtcbiAgICAgICAgICAgIC8vYXNzaWduIChhbmQgc3RhcnQpIHBsYXlpbmcgaW50ZXJ2YWwgdG8gcGxheWluZyB2YXJcbiAgICAgICAgICAgIHBsYXlpbmcgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAobWFwX2Rpc3BsYXlfYXJlYSkge1xuICAgICAgICAgICAgICAgIC8vaW5jcmVhc2Ugc2xpZGVyIHZhbHVlIGJ5IG9uZSB1bmxlc3MgYXQgbWF4LiBJZiBhdCBtYXgsIG1ha2UgMFxuICAgICAgICAgICAgICAgIG1vdmVTbGlkZXIoMSk7XG4gICAgICAgICAgICB9LCBhbGxfbWFwX29wdGlvbnMuYW5pbWF0aW9uX2RlbGF5KTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy9wYXVzZSBmdW5jdGlvbiwgcnVuIHdoZW4gcGF1c2UgYnV0dG9uIGlzIGNsaWNrZWRcbiAgICAgICAgdmFyIHBhdXNlTWFwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChwbGF5aW5nKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy9zdHlsZSBidXR0b25zXG4gICAgICAgICQoXCIubWFwX3BsYXlfYnV0dG9uLCAubWFwX3N0ZXBfYmFja3dhcmRfYnV0dG9uLCAubWFwX3N0ZXBfZm9yd2FyZF9idXR0b25cIiwgbWFwX2Rpc3BsYXlfYXJlYSkuaG92ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5jc3MoXCJjb2xvclwiLCBcIiNiNzM0MzhcIik7IC8vcmVkXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQodGhpcykuY3NzKFwiY29sb3JcIiwgXCIjMzM3YWI3XCIpOyAvL2JsdWVcblxuICAgICAgICB9KTtcblxuXG4gICAgICAgIC8vcGxheSAvIHBhdXNlIGJ1dHRvbiBjbGlja1xuICAgICAgICAkKFwiLm1hcF9wbGF5X2J1dHRvblwiLCBtYXBfZGlzcGxheV9hcmVhKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICAkdGhpcy50b2dnbGVDbGFzcyhcInBsYXlpbmdcIik7XG5cbiAgICAgICAgICAgIGlmICgkdGhpcy5oYXNDbGFzcyhcInBsYXlpbmdcIikpIHsgLy9pZiB1c2VyIGNsaWNrZWQgaXQgdG8gcGxheSwgc3RhcnQgYW5pbWF0aW9uLCBhbmQgc2hvdyBwYXVzZSBidXR0b25cbiAgICAgICAgICAgICAgICAkdGhpcy5odG1sKFwiJm5ic3A7fHxcIik7XG5cbiAgICAgICAgICAgICAgICBwbGF5TWFwKG1hcF9kaXNwbGF5X2FyZWEpO1xuXG4gICAgICAgICAgICB9IGVsc2UgeyAvL2lmIHVzZXIgY2xpY2sgaXQgdG8gcGF1c2UsIHNob3cgcGxheSBidXR0b24gYW5kIHN0b3AgYW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgJHRoaXMuaHRtbChcIlxcdTI1QjZcIik7XG5cbiAgICAgICAgICAgICAgICBwYXVzZU1hcChtYXBfZGlzcGxheV9hcmVhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcblxuICAgICAgICAvL3N0ZXAgZm9yd2FyZCBidXR0b24gY2xpY2tcbiAgICAgICAgJChcIi5tYXBfc3RlcF9mb3J3YXJkX2J1dHRvblwiLCBtYXBfZGlzcGxheV9hcmVhKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBtb3ZlU2xpZGVyKDEpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL3N0ZXAgYmFjayBidXR0b24gY2xpY2tcbiAgICAgICAgJChcIi5tYXBfc3RlcF9iYWNrd2FyZF9idXR0b25cIiwgbWFwX2Rpc3BsYXlfYXJlYSkuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbW92ZVNsaWRlcigtMSk7XG4gICAgICAgIH0pO1xuXG5cblxuICAgIH1cblxufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcF9hbmltYXRpb25faW5pdDsiLCJ2YXIgdXRpbHNfbWFpbiA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc19tYWluLmpzXCIpO1xuXG4vKiogR2l2ZW4gYW4gYXJyYXkgb2YgbWFwIGNpcmNsZXMsIHRoaXMgc29ydHMgdGhlbSBieSB2YWx1ZSBhbmQgZGVjaWRlcyB3aGF0IHJhZGl1cyB0aGV5IHNob3VsZCBoYXZlIFxuQG1vZHVsZVxuKiovXG5cbnZhciBtYXBfY2lyY2xlX3NpemVzX2luaXQgPSB7XG5cbiAgICAvKiogR2l2ZW4gYW4gYXJyYXkgb2YgbWFwIGNpcmNsZXMsIHRoaXMgc29ydHMgdGhlbSBieSB2YWx1ZSBhbmQgZGVjaWRlcyB3aGF0IHJhZGl1cyB0aGV5IHNob3VsZCBoYXZlICAqKi9cbiAgICBnZXRDaXJjbGVTaXplczogZnVuY3Rpb24gKGFsbF9tYXBfb3B0aW9ucykge1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIHZhciBjaXJjbGVfdmFsdWVzX2FyciA9IHV0aWxzX21haW4udmFsdWVTb3J0KGFsbF9tYXBfb3B0aW9ucy5hcmVhcyk7XG4gICAgICAgIC8vZ2V0IG11bHRpcGxlIGFuZCBhZGp1c3QgZm9yIGJpZyBudW1iZXJzXG4gICAgICAgICBhbGxfbWFwX29wdGlvbnMuY2lyY2xlX3NpemVfbXVsdGlwbGUgPSAkKFwiI21hcF9jaXJjbGVfc2l6ZV9yYW5nZVwiKS52YWwoKTtcbiAgICAgICAgaWYoY2lyY2xlX3ZhbHVlc19hcnJbY2lyY2xlX3ZhbHVlc19hcnIubGVuZ3RoLTFdID4gMTAwKXtcbiAgICAgICAgICAgYWxsX21hcF9vcHRpb25zLmNpcmNsZV9zaXplX211bHRpcGxlID0gYWxsX21hcF9vcHRpb25zLmNpcmNsZV9zaXplX211bHRpcGxlICogLjA1O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvL2Fzc2lnbiBSIHZhbHVlIHRvIGVhY2ggY2lyY2xlIGFyZWFcblxuICAgICAgICAkKGFsbF9tYXBfb3B0aW9ucy5hcmVhcykuZWFjaChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciB0aGlzX2FyZWEgPSB0aGlzLnZhbHVlID8gTWF0aC5hYnModGhpcy52YWx1ZSkgfHwgMSA6IDA7XG4gICAgICAgICAgICB0aGlzLnIgPSBNYXRoLnNxcnQodGhpc19hcmVhIC8gTWF0aC5QSSkgKiBhbGxfbWFwX29wdGlvbnMuY2lyY2xlX3NpemVfbXVsdGlwbGU7XG4gICAgICAgICAgICBcblxuICAgICAgICB9KTtcbiAgICAgXG4gICAgICAgIG1hcF9jaXJjbGVfc2l6ZXNfaW5pdC5zb3J0Q2lyY2xlcyhhbGxfbWFwX29wdGlvbnMuYXJlYXMpO1xuXG4gICAgfSxcblxuXG5cblxuICAgIC8qKiBzb3J0cyBjaXJjbGVzIHNvIHRoYXQgc21hbGxlciBvbmVzIHdpbGwgYXBwZWFyIG9uIHRvcCBpbiB0aGUgbWFwICoqL1xuICAgIHNvcnRDaXJjbGVzOiBmdW5jdGlvbiAoYXJlYXMpIHtcbiAgICAgICAgYXJlYXMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgXG4gICAgICAgICAgICAvL2lmIG5vIHJhZGl1cyAoaWUgYSBwYXRoLCBtYWtlIG9yZGVyIGEgaGlnaCBudW1iZXIgc28gaXQgZ2V0cyBzdGFja2VkIG5lYXIgdGhlIGJvdHRvbSlcbiAgICAgICAgICAgIGEub3JkZXIgPSBhLnIgPyBhLnIgOiAxMDAwMDAwMDAwMDA7XG4gICAgICAgICAgICBiLm9yZGVyID0gYi5yID8gYi5yIDogMTAwMDAwMDAwMDAwO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiLm9yZGVyIC0gYS5vcmRlcjtcblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgXG5cbiAgICB9XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwX2NpcmNsZV9zaXplc19pbml0OyIsInZhciB1dGlsc19tYWluID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWxzX21haW4uanNcIik7XG52YXIgdXRpbHNfZm9ybXMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNfZm9ybXMuanNcIik7XG4vKiogR2l2ZW4gYW4gYXJyYXkgb2YgbWFwIGFyZWFzLCB0aGlzIHNvcnRzIHRoZW0gYnkgdmFsdWUgYW5kIGRlY2lkZXMgd2hpY2ggY29sb3JzIHRoZXkgc2hvdWxkIGhhdmUgXG5AbW9kdWxlXG4qKi9cblxudmFyIG1hcF9jb2xvcnNfaW5pdCA9IHtcblxuXG4gICAgY2FjaGVkX21hcF9vcHRpb25zOiB7fSxcblxuICAgIC8qKiBjb2xvcnMgZXhpc3Rpbmcgc3ZnIHBhdGhzIC0gdXNlZCB3aGVuIGNoYXJ0IGlzIHVwZGF0ZWQgICoqL1xuICAgIGNvbG9yUGF0aHM6IGZ1bmN0aW9uIChhbGxfbWFwX29wdGlvbnMpIHtcblxuICAgICAgICAkLmVhY2goYWxsX21hcF9vcHRpb25zLmFyZWFzLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICQoJy5tYXBfZGlzcGxheV9hcmVhIHBhdGhbbG9jX25hbWU9XCInICsgdGhpcy5sb2NfbmFtZSArICdcIl0sIC5tYXBfZGlzcGxheV9hcmVhIGNpcmNsZVtsb2NfbmFtZT1cIicgKyB0aGlzLmxvY19uYW1lICsgJ1wiXScpLmF0dHIoXCJmaWxsXCIsIHRoaXMuY29sb3IpO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG5cblxuICAgIC8qKiBhc3NpZ25zIGNvbG9ycyB0byBhbGxfbWFwX29wdGlvbnMuYXJlYXMgZGVwZW5kaW5nIG9uIHdoZXJlIHRoZWlyIHZhbHVlcyBhcmUgb24gYSByYW5nZSoqL1xuICAgIGdldEJvdW5kYXJ5TWFwQ29sb3JzOiBmdW5jdGlvbiAoYWxsX21hcF9vcHRpb25zLCBjb2xvcnMpIHtcblxuICAgICAgICBhbGxfbWFwX29wdGlvbnMgPSBhbGxfbWFwX29wdGlvbnMgfHwgbWFwX2NvbG9yc19pbml0LmNhY2hlZF9tYXBfb3B0aW9uczsgLy91c2VkIGNhY2hlZCBpZiBhbGxfbWFwX29wdGlvbnMgbm90IHBhc3NlZFxuXG5cbiAgICAgICAgLy9nZXQgYWxsIHZhbHVlcyBpbiBvcmRlclxuICAgICAgICB2YXIgdmFsdWVzX2FyciA9IHV0aWxzX21haW4udmFsdWVTb3J0KGFsbF9tYXBfb3B0aW9ucy5hcmVhcyk7XG5cblxuICAgICAgICAvL2RpdmlkZSB2YWx1ZXMgaW50byByYW5nZXNcbiAgICAgICAgdmFyIHZhbHVlX3JhbmdlcyA9IFtdOyAvL3RvIGJlIHVzZWQgdG8gY29sb3IgYXJlYXNcblxuXG4gICAgICAgIC8vdXNlIGN1c3RvbSBpbnB1dCBpZiBhdmFpbGFibGVcbiAgICAgICAgaWYgKCQoXCIubWFwX3JhbmdlX2lucHV0XCIpLmxlbmd0aCA+IDApIHsgLy9ncmFiIGZyb20gY3VzdG9tIGlmIGF2YWlsYWJsZVxuXG4gICAgICAgICAgICAkLmVhY2goJChcIi5tYXBfcmFuZ2VfaW5wdXRcIiksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZV9yYW5nZXMucHVzaChOdW1iZXIoJCh0aGlzKS52YWwoKSkpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBlbHNlIHsgLy9lbHNlIGNhbGN1bGF0ZVxuXG4gICAgICAgICAgICB2YXIgZnJhY3Rpb24gPSAxIC8gYWxsX21hcF9vcHRpb25zLnJhbmdlc19hbW91bnQ7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gZnJhY3Rpb247IGkgPCAxOyBpID0gaSArIGZyYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVfcmFuZ2VzLnB1c2godmFsdWVzX2FycltNYXRoLmZsb29yKHZhbHVlc19hcnIubGVuZ3RoICogaSldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vc2V0IG5ldyBjYWNoZWQgYXJyYXlcbiAgICAgICAgbWFwX2NvbG9yc19pbml0LmNhY2hlZF92YWx1ZV9yYW5nZXMgPSB2YWx1ZV9yYW5nZXM7XG5cblxuICAgICAgICAvL2FkZCBjb2xvciBwcm9wZXJ0eSB0byBlYWNoIG9iaiBpbiBtYXBfb2JqcyBkZXBlbmRpbmcgb24gaXRzIHZhbHVlXG4gICAgICAgICQuZWFjaChhbGxfbWFwX29wdGlvbnMuYXJlYXMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlID09PSBudWxsIHx8IHRoaXMudmFsdWUgPT09IFwiTi9BXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjIzLCAyMjMsIDIyMylcIiAvL2dyYXlcblxuICAgICAgICAgICAgfSBlbHNlIHsgLy9ub3QgTi9BXG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy52YWx1ZSA8PSB2YWx1ZV9yYW5nZXNbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yc1swXTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB2YWx1ZV9yYW5nZXMubGVuZ3RoOyBpKyspIHsgLy9mb3IgbGVuZ3RoIG9mIHZhbHVlX3JhbmdlcyBhcnJheSwgYXNzaWduIGNvbG9yc1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52YWx1ZSA+IHZhbHVlX3Jhbmdlc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yc1tpICsgMV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cblxuICAgICAgICBtYXBfY29sb3JzX2luaXQuY2FjaGVkX21hcF9vcHRpb25zID0gYWxsX21hcF9vcHRpb25zO1xuXG4gICAgICAgIGFsbF9tYXBfb3B0aW9ucy52YWx1ZV9yYW5nZXMgPSB2YWx1ZV9yYW5nZXM7XG4gICAgICAgIGFsbF9tYXBfb3B0aW9ucy5jb2xvcnMgPSBjb2xvcnM7XG4gICAgICAgIHJldHVybiBhbGxfbWFwX29wdGlvbnM7XG4gICAgfSxcblxuXG4gICAgLyoqIG1ha2UgYW5kIHJldHVybiBhbiBhcnJheSBvZiBjb2xvcnMgZnJvbSBhIGNvbG9yIHBhbGV0dGUgKiovXG4gICAgbmV3Q29sb3JBcnJheTogZnVuY3Rpb24gKGNvbG9yX3BhbGV0dGUpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkX2NvbG9ycyA9IFtdO1xuXG5cbiAgICAgICAgaWYgKCQoXCIubWFwX2NvbG9yX2RpdiAuanNjb2xvclwiKS5sZW5ndGggPiAwKSB7IC8vZ3JhYiBmcm9tIGN1c3RvbSBpZiBhdmFpbGFibGVcblxuICAgICAgICAgICAgJC5lYWNoKCQoXCIubWFwX2NvbG9yX2RpdiAuanNjb2xvclwiKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkX2NvbG9ycy5wdXNoKCQodGhpcykuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJC5lYWNoKCQoXCIubWFwX2NvbG9yX3BhbGV0dGVfY2VsbFwiLCBjb2xvcl9wYWxldHRlKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkX2NvbG9ycy5wdXNoKCQodGhpcykuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cblxuICAgICAgICByZXR1cm4gc2VsZWN0ZWRfY29sb3JzO1xuICAgIH0sXG5cblxuXG4gICAgLyoqIGxvYWQgbWFwIGNvbG9yIHBhbGV0dGUgYm94ZXMgaW50byAjbWFwX2NvbG9yX3BhbGV0dGVzICoqL1xuICAgIGxvYWRNYXBDb2xvclBhbGV0dGVzKHZhbCkge1xuXG4gICAgICAgIHZhciBzZWxlY3RlZF9pbmRleCA9IHV0aWxzX2Zvcm1zLmdldFNlbGVjdGVkSW5kZXgoJChcIi5tYXBfY29sb3JfcGFsZXR0ZV9yb3dcIikpOyAvL2dldCBjdXJyZW50IHNlbGVjdGVkIGluZGV4IHRvIGNsaWNrIGxhdGVyXG4gICAgICAgIHZhciBhbGxGb3JtVXBkYXRlcyA9IHJlcXVpcmUoXCIuLi8uLi9mb3JtX3VwZGF0ZXMvYWxsX2Zvcm1fdXBkYXRlcy5qc1wiKTtcblxuICAgICAgICB2YXIgdmFsID0gdmFsIHx8IDQ7XG4gICAgICAgICQoXCIjbWFwX2NvbG9yX3BhbGV0dGVzXCIpLmxvYWQoXCIuL2NvbXBvbmVudHMvbWFwX2NvbG9yX3BhbGV0dGVzX1wiICsgdmFsICsgXCIuaHRtXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGFsbEZvcm1VcGRhdGVzLmNvbG9yUGFsZXR0ZVJvd0NsaWNrKCk7IC8vIHJlaW5pdHMgdGhlIGNsaWNrIGZ1bmN0aW9uYWxpdHlcblxuICAgICAgICAgICAgJChcIi5tYXBfY29sb3JfcGFsZXR0ZV9yb3c6ZXEoXCIgKyBzZWxlY3RlZF9pbmRleCArIFwiKVwiKS5jbGljaygpOyAvL2NsaWNrIGEgY29sb3IgdG8gaW5pdGlpYWxpemUgYSBuZXcgbWFwXG5cbiAgICAgICAgICAgIGlmICh2YWwgPiAyKSB7XG4gICAgICAgICAgICAgICAgJChcIiNtaW51c19tYXBfY29sb3JcIikuYXR0cihcImNsYXNzXCIsIFwib25cIik7IC8vdHVybiBtaW51cyBidXR0b24gb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHZhbCA8IDYpe1xuICAgICAgICAgICAgICAgICQoXCIjYWRkX21hcF9jb2xvclwiKS5hdHRyKFwiY2xhc3NcIiwgXCJvblwiKTsgLy90dXJuIHBsdXMgYnV0dG9uIG9uXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcF9jb2xvcnNfaW5pdDsiLCIvKiogXG5mdW5jdGlvbnMgZm9yIG1hcCBjcmVkaXRzXG5AbW9kdWxlXG4qL1xuXG52YXIgbWFwX2NyZWRpdHNfaW5pdCA9IHtcblxuLyoqR2V0cyBjcmVkaXRzIGZyb20gYSB0ZXh0IGlucHV0IGVsZW1lbnQgYW5kIHJldHVybnMgaXQgKiovXG4gICAgbWFwQ3JlZGl0c0luaXQ6IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICB2YXIgbWFwX2NyZWRpdHMgPSB7XG4gICAgICAgICAgICB0ZXh0OiBpbnB1dC52YWwoKS5yZXBsYWNlKC9cXG4vZywgXCI8YnI+XCIpLFxuICAgICAgICAgICAgc3R5bGU6IFwiY29sb3I6ICMwMDA7IGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmOyBmb250LXdlaWdodDogbm9ybWFsOyBmb250LXNpemU6IDEycHg7IHBhZGRpbmc6IDEwcHg7IG1hcmdpbi1ib3R0b206IC01cHg7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgYm90dG9tOiAwcHg7IHotaW5kZXg6IDUwMFwiXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcF9jcmVkaXRzO1xuXG4gICAgfSxcblxuICAgIC8qKiBjcmVhdGVzIGFuZCByZXR1cm5zIGEgc3R5bGVkIG1hcCBkaXYgY3JlZGl0cyB3aXRoIHRleHQgKiovXG4gICAgZ2V0TWFwQ3JlZGl0czogZnVuY3Rpb24gKGNyZWRpdHMpIHtcbiAgICAgICAgdmFyIG1hcF9jcmVkaXRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbWFwX2NyZWRpdHMuaW5uZXJIVE1MID0gY3JlZGl0cy50ZXh0O1xuICAgICAgICBtYXBfY3JlZGl0cy5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBjcmVkaXRzLnN0eWxlKTtcblxuICAgICAgICByZXR1cm4gbWFwX2NyZWRpdHM7XG4gICAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBtYXBfY3JlZGl0c19pbml0OyIsInZhciB1dGlsc19mb3JtcyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc19mb3Jtcy5qc1wiKTtcbnZhciBwYXJzZUZvck1hcCA9IHJlcXVpcmUoXCIuLi8uLi9wYXJzZXJzL3BhcnNlX2Zvcl9tYXAuanNcIik7XG52YXIgbWFwX2FuaW1hdGlvbl9pbml0ID0gcmVxdWlyZShcIi4vbWFwX2FuaW1hdGlvbl9pbml0LmpzXCIpO1xudmFyIG1hcF9jb2xvcnNfaW5pdCA9IHJlcXVpcmUoXCIuL21hcF9jb2xvcnNfaW5pdC5qc1wiKTtcbnZhciBtYXBfdGl0bGVfaW5pdCA9IHJlcXVpcmUoXCIuL21hcF90aXRsZV9pbml0LmpzXCIpO1xudmFyIG1hcF9zdWJ0aXRsZV9pbml0ID0gcmVxdWlyZShcIi4vbWFwX3N1YnRpdGxlX2luaXQuanNcIik7XG52YXIgbWFwX3Rvb2x0aXBfaW5pdCA9IHJlcXVpcmUoXCIuL21hcF90b29sdGlwX2luaXQuanNcIik7XG52YXIgbWFwX2xlZ2VuZF9pbml0ID0gcmVxdWlyZShcIi4vbWFwX2xlZ2VuZF9pbml0XCIpO1xudmFyIG1hcF9jcmVkaXRzX2luaXQgPSByZXF1aXJlKFwiLi9tYXBfY3JlZGl0c19pbml0LmpzXCIpO1xudmFyIG1hcF9jaXJjbGVfc2l6ZXNfaW5pdCA9IHJlcXVpcmUoXCIuL21hcF9jaXJjbGVfc2l6ZXNfaW5pdC5qc1wiKTtcbnZhciB1cGRhdGVfbWFwX2luZGl2aWR1YWxfc2VyaWVzID0gcmVxdWlyZShcIi4uLy4uL2Zvcm1fdXBkYXRlcy91cGRhdGVfbWFwX2luZGl2aWR1YWxfc2VyaWVzLmpzXCIpO1xudmFyIHVwZGF0ZV90ZW1wbGF0ZSA9IHJlcXVpcmUoXCIuLi8uLi9mb3JtX3VwZGF0ZXMvdXBkYXRlX3RlbXBsYXRlLmpzXCIpO1xudmFyIGFyZWFzX2NvbG9yZWRfcmVwb3J0ID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2FyZWFzX2NvbG9yZWRfcmVwb3J0LmpzXCIpO1xuXG4vKiogXG5NYXAgaW5pdGlhbGl6YXRpb24gb2JqZWN0XG5AbmFtZXNwYWNlXG4qKi9cblxudmFyIG1hcF9pbml0ID0ge1xuXG5cbiAgICAvKiogY3JlYXRlcyAvIHNldHMgYWxsIG1hcCBvcHRpb25zLCB0aGUgbWFpbiBvYmplY3QgdGhhdCB0aGUgbWFwIHN2ZyBpcyBtYWRlIGZyb20gKiovXG4gICAgY3JlYXRlQWxsTWFwT3B0aW9uczogZnVuY3Rpb24gKGFsbF9tYXBfb3B0aW9ucywgYXJlYXMsIG1hcF90eXBlKSB7XG5cbiAgICAgICAgLy9zZXR1cCBlbXB0eSBhbGxfbWFwX29wdGlvbnNcbiAgICAgICAgYWxsX21hcF9vcHRpb25zID0ge1xuICAgICAgICAgICAgcmVuZGVyX0lEOiB1cGRhdGVfdGVtcGxhdGUuY2hhbmdlSUQoJChcIiNjaGFydF9pZF90ZXh0aW5wdXRcIikudmFsKCksIG51bGwsIGFsbF9tYXBfb3B0aW9ucyksXG4gICAgICAgICAgICB0aXRsZToge30sXG4gICAgICAgICAgICBzdWJ0aXRsZToge30sXG4gICAgICAgICAgICBjb2xvcnM6IFtdLFxuICAgICAgICAgICAgY2lyY2xlX3NpemVfbXVsdGlwbGU6IDEsXG4gICAgICAgICAgICBpc19hbmltYXRlZDogdXRpbHNfZm9ybXMuZ2V0Q2hlY2tCb3hWYWx1ZSgkKFwiI21hcF9hbmltYXRlZF9jaGVja2JveFwiKSksXG4gICAgICAgICAgICBhbmltYXRpb25fZGVsYXk6IE51bWJlcigkKFwiI21hcF9hbmltYXRpb25fc3BlZWRfcmFuZ2VcIikudmFsKCkpLFxuICAgICAgICAgICAgbGVnZW5kOiB7XG4gICAgICAgICAgICAgICAgZW5hYmxlZDogdXRpbHNfZm9ybXMuZ2V0Q2hlY2tCb3hWYWx1ZSgkKFwiI21hcF9sZWdlbmRfZW5hYmxlZF9jaGVja2JveFwiKSksXG4gICAgICAgICAgICAgICAgcmV2ZXJzZWQ6IHV0aWxzX2Zvcm1zLmdldENoZWNrQm94VmFsdWUoJChcIiNsZWdlbmRfcmV2ZXJzZV9sYXlvdXRfY2hlY2tib3hcIikpLFxuICAgICAgICAgICAgICAgIHg6IE51bWJlcigkKFwiI2xlZ2VuZF9wbGFjZW1lbnRfeFwiKS52YWwoKSksXG4gICAgICAgICAgICAgICAgeTogTnVtYmVyKCQoXCIjbGVnZW5kX3BsYWNlbWVudF95XCIpLnZhbCgpKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1hcF90eXBlOiBtYXBfdHlwZSxcbiAgICAgICAgICAgIHZpZXdib3g6IFwiXCIsXG4gICAgICAgICAgICBzaXplZF9mb3Jfc3BvdGxpZ2h0OiAkKFwiI21hcF9zcG90bGlnaHRfc2l6ZV9jaGVja2JveFwiKS5pcyhcIjpjaGVja2VkXCIpLFxuICAgICAgICAgICAgcmFuZ2VzX2Ftb3VudDogJChcIi5tYXBfY29sb3JfcGFsZXR0ZV9yb3cuc2VsZWN0ZWQgLm1hcF9jb2xvcl9wYWxldHRlX2NlbGxcIikubGVuZ3RoLFxuICAgICAgICAgICAgdmFsdWVfcmFuZ2VzOiBbXSxcbiAgICAgICAgICAgIGNyZWRpdHM6IHt9LFxuICAgICAgICAgICAgdG9vbHRpcDoge1xuICAgICAgICAgICAgICAgIGRvbGxhcl9zaWduOiBcIlwiLFxuICAgICAgICAgICAgICAgIHBlcmNlbnRfc2lnbjogXCJcIixcbiAgICAgICAgICAgICAgICBkZWNpbWFsczogXCJcIixcbiAgICAgICAgICAgICAgICBuYV90ZXh0OiBcIlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXh0cmFfdmFsdWVfdGl0bGVzOiBbXSxcbiAgICAgICAgICAgIGFuaW1hdGVkX3ZhbHVlX3RpdGxlczogW10sXG4gICAgICAgICAgICBhcmVhczogYXJlYXNcblxuICAgICAgICB9O1xuXG4gICAgICAgIC8vICAgY29uc29sZS5sb2coYWxsX21hcF9vcHRpb25zKTtcblxuICAgICAgICAvL3NldCB2aWV3Ym94XG4gICAgICAgIHN3aXRjaCAobWFwX3R5cGUpIHtcbiAgICAgICAgY2FzZSBcImNvdW50eVwiOlxuICAgICAgICAgICAgYWxsX21hcF9vcHRpb25zLnZpZXdib3ggPSBcIjk1IC0xMCAzODAgMzgwXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0YXRlXCI6XG4gICAgICAgICAgICBhbGxfbWFwX29wdGlvbnMudmlld2JveCA9IFwiMTgwIDAgNjIwIDYyMFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtZXRyb19hcmVhXCI6XG4gICAgICAgICAgICBhbGxfbWFwX29wdGlvbnMudmlld2JveCA9IFwiNDUgMCA2NzAgNTEwXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG5cbiAgICAgICAgdmFyIHRhYmxlX2lucHV0ID0gJChcIiN0YWJsZV9pbnB1dF90ZXh0YXJlYVwiKS52YWwoKTtcblxuICAgICAgICAvL3NldCB0aXRsZVxuICAgICAgICBhbGxfbWFwX29wdGlvbnMudGl0bGUgPSBtYXBfdGl0bGVfaW5pdC5tYXBUaXRsZUluaXQodGFibGVfaW5wdXQpO1xuXG4gICAgICAgIC8vc2V0IHN1YnRpdGxlXG4gICAgICAgIGFsbF9tYXBfb3B0aW9ucy5zdWJ0aXRsZSA9IG1hcF9zdWJ0aXRsZV9pbml0Lm1hcFN1YnRpdGxlSW5pdCgkKFwiI2NoYXJ0X3N1YnRpdGxlX3RleHRhcmVhXCIpKTtcblxuICAgICAgICAvL3NldCBjcmVkaXRzXG4gICAgICAgIGFsbF9tYXBfb3B0aW9ucy5jcmVkaXRzID0gbWFwX2NyZWRpdHNfaW5pdC5tYXBDcmVkaXRzSW5pdCgkKFwiI2NoYXJ0X2NyZWRpdHNfdGV4dF90ZXh0YXJlYVwiKSk7XG5cbiAgICAgICAgLy9zZXQgdG9vbHRpcCBmb3JtYXRcbiAgICAgICAgbWFwX3Rvb2x0aXBfaW5pdC5mb3JtYXRNYXBUb29sVGlwKGFsbF9tYXBfb3B0aW9ucyk7XG5cblxuICAgICAgICAvL2Fzc2lnbiB2YWx1ZXMgdG8gYWxsX21hcF9vcHRpb25zLmFyZWFzIGJhc2VkIG9uIHRhYmxlIGlucHV0XG5cbiAgICAgICAgcGFyc2VGb3JNYXAoYWxsX21hcF9vcHRpb25zLCB0YWJsZV9pbnB1dCk7XG5cblxuICAgICAgICB2YXIgY29sb3JzID0gbWFwX2NvbG9yc19pbml0Lm5ld0NvbG9yQXJyYXkoJChcIi5tYXBfY29sb3JfcGFsZXR0ZV9yb3cuc2VsZWN0ZWRcIikpOyAvL2dldHMgYXJyYXkgb2YgY29sb3JzIGRlcGVuZGluZyBvbiB3aGF0IGlzIHNlbGVjdGVkXG4gICAgICAgIG1hcF9jb2xvcnNfaW5pdC5nZXRCb3VuZGFyeU1hcENvbG9ycyhhbGxfbWFwX29wdGlvbnMsIGNvbG9ycyk7IC8vbW9kcyBhbGxfbWFwX29wdGlvbnMuYXJlYXMgdG8gaW5jbHVkZSBmaWxsIGNvbG9ycyBkZXBlbmRpbmcgb24gdmFsdWVzXG5cbiAgICAgICAgLy9nZXQgY2lyY2xlIHNpemVzIGZvciBjaXJjbGUgdHlwZSBtYXBzXG4gICAgICAgIGlmIChtYXBfdHlwZSA9PT0gXCJtZXRyb19hcmVhXCIpIHtcbiAgICAgICAgICAgIG1hcF9jaXJjbGVfc2l6ZXNfaW5pdC5nZXRDaXJjbGVTaXplcyhhbGxfbWFwX29wdGlvbnMpOyAvL2RlY2lkZXMgd2hhdCByYWRpdXMgbWFwIGNpcmNsZSBlbGVtZW50cyB3aWxsIGhhdmUsIGRlcGVuZGluZyBvbiB0aGVpciB2YWx1ZVxuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYWxsX21hcF9vcHRpb25zO1xuXG5cbiAgICB9LFxuXG5cblxuXG5cblxuXG4gICAgLyoqIGNvbnZlcnRzIGFsbF9tYXBfb3B0aW9ucyAoYWN0dWFsbHkgYW4gYXJyYXkgb2Ygb2JqZWN0cyBieSBub3cgYWZ0ZXIgdGhlIC5nZXQoKSBhdXRvIGNvbnZlcnNpb24pIHRvIHN2ZyBhbmQgcHV0cyBpdCBvbiBwYWdlICoqL1xuICAgIGNvbnZlcnRNYXBPcHRpb25zVG9TVkc6IGZ1bmN0aW9uIChhbGxfbWFwX29wdGlvbnMpIHtcbiAgICAgICAgdmFyIG1hcF9kaXNwbGF5X2FyZWEgPSAkKFwiI1wiICsgYWxsX21hcF9vcHRpb25zLnJlbmRlcl9JRCArIFwiLm1hcF9kaXNwbGF5X2FyZWFcIik7XG5cblxuICAgICAgICAvLyAgdmFyIG1hcF9kaXNwbGF5X2FyZWEgPSAkKFwiLm1hcF9kaXNwbGF5X2FyZWFcIik7XG4gICAgICAgIG1hcF9kaXNwbGF5X2FyZWEuZW1wdHkoKTtcblxuICAgICAgICB2YXIgbWFwX291dGVyX2RpdiA9IG1hcF9pbml0LmdldE1hcE91dGVyRGl2KGFsbF9tYXBfb3B0aW9ucyk7IC8vY3JlYXRlcyBhbmQgcmV0dXJucyBvdXRlciBtYXAgZGl2XG5cbiAgICAgICAgdmFyIG1hcF9vdXRlcl9zdmcgPSBtYXBfaW5pdC5nZXRNYXBPdXRlclNWRyhhbGxfbWFwX29wdGlvbnMpOyAvL2NyZWF0ZXMgYW5kIHJldHVybnMgZW1wdHkgbWFwIHN2ZyB0YWdcbiAgICAgICAgbWFwX2luaXQucG9wdWxhdGVTVkdBcmVhcyhhbGxfbWFwX29wdGlvbnMsIG1hcF9vdXRlcl9zdmcpOyAvL2NvbG9yaXplcyBwYXRocywgc2V0cyBjaXJjbGUgYXR0cmlidXRlcywgYXBwZW5kcyBnIGVsZW1lbnRzIHRvIHN2Z1xuXG4gICAgICAgIHZhciBtYXBfdGl0bGUgPSBtYXBfdGl0bGVfaW5pdC5nZXRNYXBUaXRsZShhbGxfbWFwX29wdGlvbnMudGl0bGUpOyAvL2NyZWF0ZXMgYW5kIHJldHVybnMgYSBzdHlsZWQgbWFwIGgyIHRpdGxlIHdpdGggdGV4dFxuICAgICAgICB2YXIgbWFwX3N1YnRpdGxlID0gbWFwX3N1YnRpdGxlX2luaXQuZ2V0TWFwU3VidGl0bGUoYWxsX21hcF9vcHRpb25zLnN1YnRpdGxlKTsgLy9jcmVhdGVzIGFuZCByZXR1cm5zIGEgc3R5bGVkIG1hcCBoMyB0aXRsZSB3aXRoIHRleHRcbiAgICAgICAgdmFyIG1hcF9jcmVkaXRzID0gbWFwX2NyZWRpdHNfaW5pdC5nZXRNYXBDcmVkaXRzKGFsbF9tYXBfb3B0aW9ucy5jcmVkaXRzKTsgLy9jcmVhdGVzIGFuZCByZXR1cm5zIGEgc3R5bGVkIG1hcCBkaXYgY3JlZGl0cyB3aXRoIHRleHRcblxuICAgICAgICB2YXIgdG9vbHRpcF9kaXYgPSBtYXBfdG9vbHRpcF9pbml0LmdldE1hcFRvb2x0aXAoKTsgLy9jcmVhdGVzIGFuZCByZXR1cm5zIGFuIGVtcHR5IHRvb2x0aXAgZGl2IHRlbXBsYXRlIFxuXG4gICAgICAgIC8vcHV0IGVsZW1lbnRzIHRvZ2V0aGVyXG4gICAgICAgICQobWFwX291dGVyX2RpdikuYXBwZW5kKHRvb2x0aXBfZGl2LCBtYXBfdGl0bGUsIG1hcF9zdWJ0aXRsZSk7IC8vdG9vbHRpcFxuXG5cbiAgICAgICAgLy8gaWYgaXQncyBhbmltYXRlZCwgbWFrZSBhbmQgYWRkIHRoZSBzbGlkZXJcbiAgICAgICAgaWYgKGFsbF9tYXBfb3B0aW9ucy5pc19hbmltYXRlZCkge1xuICAgICAgICAgICAgdmFyIG1hcF9hbmltYXRpb25fZGl2ID0gbWFwX2FuaW1hdGlvbl9pbml0LmdldEFuaW1hdGlvbkRpdihhbGxfbWFwX29wdGlvbnMpO1xuICAgICAgICAgICAgbWFwX291dGVyX2Rpdi5hcHBlbmRDaGlsZChtYXBfYW5pbWF0aW9uX2Rpdik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWFwX2xlZ2VuZCA9IGFsbF9tYXBfb3B0aW9ucy5sZWdlbmQuZW5hYmxlZCA/IG1hcF9sZWdlbmRfaW5pdC5nZXRNYXBMZWdlbmQoYWxsX21hcF9vcHRpb25zKSA6IHVuZGVmaW5lZDsgLy9jcmVhdGVzIGFuZCByZXR1cm5zIGEgc3R5bGVkIG1hcCBkaXYgbGVnZW5kIHdpdGggY29sb3IgYm94ZXMgYW5kIHRleHRcblxuICAgICAgICAvL3B1dCBtb3JlIHRvZ2V0aGVyXG4gICAgICAgICQobWFwX291dGVyX2RpdikuYXBwZW5kKG1hcF9vdXRlcl9zdmcsIG1hcF9sZWdlbmQsIG1hcF9jcmVkaXRzKTtcblxuXG4gICAgICAgIG1hcF9kaXNwbGF5X2FyZWEuYXBwZW5kKCQobWFwX291dGVyX2RpdikpOyAvL3B1dCBtYXAgb24gcGFnZVxuXG4gICAgICAgIC8vcmV2ZXJzZSBsZWdlbmQgaWYgbmVlZGVkXG4gICAgICAgIGlmIChhbGxfbWFwX29wdGlvbnMubGVnZW5kLnJldmVyc2VkKSB7XG4gICAgICAgICAgICB2YXIgbWFwX2xlZ2VuZF9kaXYgPSAkKFwiLm1hcF9sZWdlbmRfZGl2XCIpO1xuICAgICAgICAgICAgJChtYXBfbGVnZW5kX2RpdikuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uIChpLCBkaXYpIHtcbiAgICAgICAgICAgICAgICBtYXBfbGVnZW5kX2Rpdi5wcmVwZW5kKGRpdilcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1hcF9kaXNwbGF5X2FyZWE7XG5cbiAgICB9LFxuXG5cblxuXG5cbiAgICAvKiogY3JlYXRlcyBhbmQgcmV0dXJucyBhbiBlbXB0eSBtYXAgb3V0ZXIgZGl2LiBUaGlzIHdpbGwgaG9sZCB0aGUgbWFwIHN2ZywgdG9vbHRpcCBib3gsIGxlZ2VuZCwgdGl0bGUsIGV0Yy4gKiovXG5cbiAgICBnZXRNYXBPdXRlckRpdjogZnVuY3Rpb24gKGFsbF9tYXBfb3B0aW9ucykge1xuXG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgICAgICQoZGl2KS5jc3Moe1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IGFsbF9tYXBfb3B0aW9ucy5zaXplZF9mb3Jfc3BvdGxpZ2h0ID8gXCI1OTVweFwiIDogXCI2OTVweFwiLFxuICAgICAgICAgICAgICAgIFwibWluLWhlaWdodFwiOiBhbGxfbWFwX29wdGlvbnMuc2l6ZWRfZm9yX3Nwb3RsaWdodCA/IFwiNTMwcHhcIiA6IFwiNTkwcHhcIixcbiAgICAgICAgICAgICAgICBcInRleHQtYWxpZ25cIjogXCJsZWZ0XCIsXG4gICAgICAgICAgICAgICAgbWFyZ2luOiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBcImJhY2tncm91bmQtY29sb3JcIjogXCIjRkZGRkZGXCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuYWRkQ2xhc3MoXCJtYXBfb3V0ZXJfZGl2XCIpO1xuXG4gICAgICAgIHJldHVybiBkaXY7XG4gICAgfSxcblxuXG5cblxuICAgIC8qKiBjcmVhdGVzIGFuZCByZXR1cm5zIGFuIGVtcHR5IG1hcCBzdmcgZWxlbWVudCAqKi9cbiAgICBnZXRNYXBPdXRlclNWRzogZnVuY3Rpb24gKGFsbF9tYXBfb3B0aW9ucykge1xuXG4gICAgICAgIHZhciBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICAgICAgJChzdmcpLmNzcyh7XG4gICAgICAgICAgICAgICAgXCJ6LWluZGV4XCI6IFwiNDAwXCIsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICBsZWZ0OiBcIjEzcHhcIixcbiAgICAgICAgICAgICAgICB0b3A6IFwiLTlweFwiLFxuICAgICAgICAgICAgICAgIFwiYmFja2dyb3VuZC1jb2xvclwiOiBcIiNmZmZcIixcbiAgICAgICAgICAgICAgICBcImhlaWdodFwiOiBhbGxfbWFwX29wdGlvbnMuc2l6ZWRfZm9yX3Nwb3RsaWdodCA/IFwiMzgycHhcIiA6IFwiNDUwcHhcIixcbiAgICAgICAgICAgICAgICBcIndpZHRoXCI6IGFsbF9tYXBfb3B0aW9ucy5zaXplZF9mb3Jfc3BvdGxpZ2h0ID8gXCI1NzhweFwiIDogXCI2ODBweFwiXG5cblxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5hZGRDbGFzcyhcIm1hcF9zdmdcIilcblxuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLCBhbGxfbWFwX29wdGlvbnMudmlld2JveCk7XG5cbiAgICAgICAgcmV0dXJuIHN2ZztcbiAgICB9LFxuXG5cblxuXG5cbiAgICAvKiogSW5pdGlhbCBGdW5jdGlvbiAoY2FsbGVkIGZyb20gbWFwIGljb24gY2xpY2spIC0gY2FsbHMgZnVuY3Rpb25zIHRvIGxvYWRzIHRoZSBtYXAganNvbiwgY29udmVydCBpdCB0byBzdmcsIGxvYWRzIG9wdGlvbnMgYW5kIGRpc3BsYXlzIG1hcCBpbiAubWFwX2Rpc3BsYXlfYXJlYSAqKi9cbiAgICBsb2FkTmV3TWFwOiBmdW5jdGlvbiAoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zLCBhbGxfbWFwX29wdGlvbnMsIHJlcG9wdWxhdGVfZm9ybSkge1xuXG4gICAgICAgICQoXCIubWFwX3BsYXlfYnV0dG9uLnBsYXlpbmdcIikuY2xpY2soKTsgLy9pZiBhbmltYXRlZCBtYXAgaXMgcGxheWluZywgc3RvcCBpdCAtIHByZXZlbnRzIGVycm9yc1xuXG4gICAgICAgIHZhciBuYXZpZ2F0aW9uX3NldHVwID0gcmVxdWlyZShcIi4uLy4uL25hdmlnYXRpb25fc2V0dXAuanNcIik7XG5cbiAgICAgICAgdmFyIG1hcF90eXBlID0gJChcIiNtYXBfdHlwZV9zZWxlY3RcIikudmFsKCk7XG5cbiAgICAgICAgdmFyIGZpbGVuYW1lID0gXCJqc29uL21hcHMvXCIgKyBtYXBfdHlwZSArIFwiX21hcC5qc29uXCI7XG5cbiAgICAgICAgJC5nZXQoZmlsZW5hbWUsIGZ1bmN0aW9uIChhcmVhcykge1xuXG4gICAgICAgICAgICB2YXIgYWxsX21hcF9vcHRpb25zID0gbWFwX2luaXQuY3JlYXRlQWxsTWFwT3B0aW9ucyhhbGxfbWFwX29wdGlvbnMsIGFyZWFzLCBtYXBfdHlwZSk7XG5cbiAgICAgICAgICAgIC8vZ2l2ZSAubWFwX2Rpc3BsYXlfYXJlYSB0aGUgY2hvc2VuIElEXG4gICAgICAgICAgICAkKFwiLm1hcF9kaXNwbGF5X2FyZWFcIikuYXR0cihcImlkXCIsIGFsbF9tYXBfb3B0aW9ucy5yZW5kZXJfSUQpO1xuXG4gICAgICAgICAgICAvL2NvbnZlcnQgYWxsX21hcF9vcHRpb25zIHRvIHN2ZyBhbmQgcHV0cyBpdCBvbiBwYWdlLCByZXR1cm5zIGpxdWVyeSBvYmplY3Qgb2YgbWFwIGRpdlxuICAgICAgICAgICAgdmFyIG1hcF9kaXNwbGF5X2FyZWEgPSBtYXBfaW5pdC5jb252ZXJ0TWFwT3B0aW9uc1RvU1ZHKGFsbF9tYXBfb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIC8vYWRqdXN0IG1hcF9kaXNwbGF5X2FyZWEgc2l6ZVxuICAgICAgICAgICAgbWFwX2luaXQucmVzaXplTWFwKGFsbF9tYXBfb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIC8vaW5pdCB0b29sdGlwIGFuZCBoaWdobGlnaHRpbmdcbiAgICAgICAgICAgIG1hcF9pbml0LnNldFVwTWFwSG92ZXIoYWxsX21hcF9vcHRpb25zLCBtYXBfZGlzcGxheV9hcmVhKTtcblxuICAgICAgICAgICAgLy9pbml0IGxlZ2VuZCBob3ZlcmluZ1xuICAgICAgICAgICAgbWFwX2luaXQuc2V0VXBNYXBMZWdlbmRIb3ZlcihtYXBfZGlzcGxheV9hcmVhKTtcblxuICAgICAgICAgICAgLy9pbml0IGFuaW1hdGlvbiBmdW5jdGlvbmFsaXR5IGlmIGFwcGxpY2FibGFcbiAgICAgICAgICAgIGlmIChhbGxfbWFwX29wdGlvbnMuaXNfYW5pbWF0ZWQpIHtcbiAgICAgICAgICAgICAgICBtYXBfYW5pbWF0aW9uX2luaXQuc2V0VXBNYXBBbmltYXRpb24oYWxsX21hcF9vcHRpb25zLCBtYXBfZGlzcGxheV9hcmVhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9pbml0IHN0YXRlIGxpbmtzIHRvIGVhZyBwYWdlc1xuICAgICAgICAgICAgbWFwX2luaXQuc2V0VXBNYXBTdGF0ZUxpbmtzKG1hcF9kaXNwbGF5X2FyZWEpO1xuXG4gICAgICAgICAgICAvL2luaXQgaW5kaXZpZHVhbCBzZXJpZXMgcmFuZ2Ugc2V0dXBcbiAgICAgICAgICAgIGlmIChyZXBvcHVsYXRlX2Zvcm0gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlX21hcF9pbmRpdmlkdWFsX3Nlcmllcy5wb3B1bGF0ZUZvcm0oY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zLCBhbGxfbWFwX29wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0sIDEwMDApXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9yZWluaXQgbmF2aWdhdGlvbiBnZXQgY29kZSBidXR0b24gY2xpY2sgc28gdGhhdCBsb2FkIGNoYXJ0IGNvZGUgYnV0dG9uIHdpbGwgd29ya1xuICAgICAgICAgICAgbmF2aWdhdGlvbl9zZXR1cC5nZXRDb2RlQnV0dG9uQ2xpY2soYWxsX2NoYXJ0X29wdGlvbnMsIGFsbF9tYXBfb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIC8vZ2VuZXJhdGUgYXJlYXMgY29sb3JlZCByZXBvcnRcbiAgICAgICAgICAgIGFyZWFzX2NvbG9yZWRfcmVwb3J0LmdlbmVyYXRlUmVwb3J0KGFsbF9tYXBfb3B0aW9ucyk7XG5cbiAgICAgICAgfSk7XG5cbiAgICB9LFxuXG5cblxuXG4gICAgLyoqIHJlc2l6ZXMgY2hhcnRfZGlzcGxheV9hcmVhIGJ5IGNoYW5naW5nIGlucHV0IHZhbHVlcyBhbmQgdHJpZ2dlcmluZyBrZXl1cCAqKi9cbiAgICByZXNpemVNYXA6IGZ1bmN0aW9uIChhbGxfbWFwX29wdGlvbnMpIHtcbiAgICAgICAgdmFyIG5ld193aWR0aCA9IGFsbF9tYXBfb3B0aW9ucy5zaXplZF9mb3Jfc3BvdGxpZ2h0ID8gNjE1IDogNzEwO1xuICAgICAgICB2YXIgbmV3X2hlaWdodCA9IGFsbF9tYXBfb3B0aW9ucy5zaXplZF9mb3Jfc3BvdGxpZ2h0ID8gNTkwIDogNjUwO1xuICAgICAgICAkKFwiI2NoYXJ0X3dpZHRoX3RleHRpbnB1dFwiKS52YWwobmV3X3dpZHRoKS5rZXl1cCgpO1xuICAgICAgICAkKFwiI2NoYXJ0X2hlaWdodF90ZXh0aW5wdXRcIikudmFsKG5ld19oZWlnaHQpLmtleXVwKCk7XG4gICAgfSxcblxuXG5cblxuICAgIC8qKiBwb3B1bGF0ZXMgbWFwIHN2ZyAoY3JlYXRlcyBwYXRocyBhbmQgY2lyY2xlcykgd2l0aCBvcHRpb25zIGZyb20gYWxsX21hcF9vcHRpb25zLmFyZWFzLiBDYWxsZWQgZnJvbSBjb252ZXJ0TWFwT3B0aW9uc1RvU1ZHKCkgKiovXG5cbiAgICBwb3B1bGF0ZVNWR0FyZWFzOiBmdW5jdGlvbiAoYWxsX21hcF9vcHRpb25zLCBtYXBfb3V0ZXJfc3ZnKSB7XG5cbiAgICAgICAgJC5lYWNoKGFsbF9tYXBfb3B0aW9ucy5hcmVhcywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiZ1wiKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZCkgeyAvL3BhdGggb3V0bGluZVxuXG4gICAgICAgICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpO1xuICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCB0aGlzLmQpOyAvL3NldHMgcGF0aCBvdXRsaW5lXG4gICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJzdHJva2VcIiwgXCIjNjQ2NDY0XCIpOyAvL3NldCBwYXRoIHN0cm9rZVxuXG5cbiAgICAgICAgICAgICAgICBpZiAoYWxsX21hcF9vcHRpb25zLm1hcF90eXBlID09PSBcIm1ldHJvX2FyZWFcIikge1xuICAgICAgICAgICAgICAgICAgICAvL3RyYW5zZm9ybSBzbWFsbGVyIGZvciBtZXRybyBhcmVhIG1hcHNcbiAgICAgICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ0cmFuc2Zvcm1cIiwgXCJzY2FsZSgwLjgpIHRyYW5zbGF0ZSgwLCA1LjQ3MTM3MTYwOTk5MjY2NilcIik7XG4gICAgICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZmlsbFwiLCB0aGlzLmNvbG9yIHx8IFwiI0UwRTBFMFwiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sb2NfbmFtZSkgeyAvL2lmIGl0J3MgYSBuYW1lZCBhcmVhLCBzZXQgdmFsdWVzIGFuZCBjb2xvclxuICAgICAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImxvY192YWx1ZVwiLCB0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmaWxsXCIsIHRoaXMuY29sb3IgfHwgXCIjRTBFMEUwXCIpO1xuICAgICAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoXCJsb2NfbmFtZVwiLCB0aGlzLmxvY19uYW1lKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsYXNzID09PSBcImJvcmRlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZmlsbFwiLCBcIm5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwic3Ryb2tlXCIsIFwiI0E5QTlBOVwiKTtcbiAgICAgICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJzdHJva2Utd2lkdGhcIiwgMik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2UgeyAvL2NpcmNsZSAoREMgb3IgbWV0cm8gYXJlYSlcblxuICAgICAgICAgICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiY2lyY2xlXCIpO1xuICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiclwiLCB0aGlzLnIpOyAvL3JhZGl1c1xuICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY3hcIiwgdGhpcy5jeCk7IC8veCBwb3NcbiAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImN5XCIsIHRoaXMuY3kpOyAvL3kgcG9zXG4gICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJzdHJva2VcIiwgdGhpcy5jb2xvciA/IFwicmdiYSg2NywgNjcsIDcyLCAuOClcIiA6IFwiIzMzN2FiN1wiKTsgLy9zdHJva2VcblxuICAgICAgICAgICAgICAgIGlmIChhbGxfbWFwX29wdGlvbnMubWFwX3R5cGUgPT09IFwibWV0cm9fYXJlYVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZmlsbFwiLCB0aGlzLmNvbG9yID8gdGhpcy5jb2xvci5yZXBsYWNlKCcpJywgJywgMC43NSknKS5yZXBsYWNlKCdyZ2InLCAncmdiYScpIDogXCIjMzM3YWI3XCIpOyAvL2ZpbGxcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZpbGxcIiwgdGhpcy5jb2xvciA/IHRoaXMuY29sb3IgOiBcIiMzMzdhYjdcIik7IC8vZmlsbFxuXG4gICAgICAgICAgICAgICAgfVxuXG5cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxvY19uYW1lKSB7IC8vaWYgaXQncyBhIG5hbWVkIGFyZWEsIHNldCB2YWx1ZSBhbmQgY29sb3JcbiAgICAgICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJsb2NfdmFsdWVcIiwgdGhpcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShcImxvY19uYW1lXCIsIHRoaXMubG9jX25hbWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGlmICh0aGlzLnN0eWxlKSB7XG4gICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgdGhpcy5zdHlsZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHRoaXMuY2xhc3MpO1xuICAgICAgICAgICAgdGhpcy5leHRyYV92YWxzID8gZWwuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJleHRyYV92YWxzXCIsIHRoaXMuZXh0cmFfdmFscy5qb2luKFwiO1wiKSkgOiBudWxsO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRlZF92YWxzID8gZWwuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJhbmltYXRlZF92YWxzXCIsIHRoaXMuYW5pbWF0ZWRfdmFscy5qb2luKFwiO1wiKSkgOiBudWxsO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShcImlkXCIsIHRoaXMuaWQpO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGcuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICAgICAgbWFwX291dGVyX3N2Zy5hcHBlbmRDaGlsZChnKTtcblxuICAgICAgICB9KTtcblxuICAgIH0sXG5cblxuXG5cblxuICAgIC8qKiBzZXRzIHVwIGhvdmVyIGZ1bmN0aW9uYWxpdHkgZm9yIHRoZSBtYXAgKiovXG4gICAgc2V0VXBNYXBIb3ZlcjogZnVuY3Rpb24gKGFsbF9tYXBfb3B0aW9ucywgbWFwX2Rpc3BsYXlfYXJlYSkge1xuXG4gICAgICAgIC8vb3RoZXIgYXJlYXMgZmFkZSBvdXQgd2hlbiBhbiBhcmVhIGlzIGhvdmVyZWRcbiAgICAgICAgJChcInBhdGhbbG9jX25hbWVdLCBjaXJjbGVbbG9jX25hbWVdXCIsIG1hcF9kaXNwbGF5X2FyZWEpLmhvdmVyKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgLy9ncmF5IG91dCBvdGhlciBzdGF0ZXMsIGhpZ2hsaWdodCB0aGlzIG9uZVxuICAgICAgICAgICAgJChcInBhdGgsIGNpcmNsZVwiLCBtYXBfZGlzcGxheV9hcmVhKS5hdHRyKFwiZmlsbC1vcGFjaXR5XCIsIFwiLjA1XCIpO1xuICAgICAgICAgICAgJHRoaXMuYXR0cihcImZpbGwtb3BhY2l0eVwiLCBcIjFcIik7XG5cbiAgICAgICAgICAgIC8vLy8gcG9wdWxhdGUgdG9vbHRpcFxuICAgICAgICAgICAgdmFyIHRoaXNfdG9vbHRpcCA9ICQoXCIubWFwX3Rvb2x0aXBcIiwgbWFwX2Rpc3BsYXlfYXJlYSk7IC8vZ2V0IGVsZW1lbnRcbiAgICAgICAgICAgIC8vc2V0IHRpdGxlXG4gICAgICAgICAgICAkKFwiLnRvb2x0aXBfdGl0bGVcIiwgdGhpc190b29sdGlwKS50ZXh0KCR0aGlzLmF0dHIoXCJsb2NfbmFtZVwiKSB8fCBcIlwiKTtcblxuXG4gICAgICAgICAgICAvL2FkZCBtYWluIHZhbHVlIHRvIHRvb2x0aXAgaWYgYXBwbGljYWJsZVxuICAgICAgICAgICAgdmFyIHRoaXNfbG9jX3ZhbHVlID0gJHRoaXMuYXR0cihcImxvY192YWx1ZVwiKTsgLy9nZXQgbWFpbiB2YWx1ZVxuICAgICAgICAgICAgaWYgKHRoaXNfbG9jX3ZhbHVlICE9PSBcIm51bGxcIikge1xuICAgICAgICAgICAgICAgIHRoaXNfbG9jX3ZhbHVlID0gTnVtYmVyKHRoaXNfbG9jX3ZhbHVlKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVfaHRtbCA9IFwiPHNwYW4gc3R5bGU9J2ZvbnQtc2l6ZTogODAlJz5cIiArIGFsbF9tYXBfb3B0aW9ucy50b29sdGlwLmRvbGxhcl9zaWduICsgXCI8L3NwYW4+XCIgKyAoJCh0aGlzX2xvY192YWx1ZSkuYWRkQ29tbWFzKGFsbF9tYXBfb3B0aW9ucy50b29sdGlwLmRlY2ltYWxzIHx8IFwiXCIpKSArIFwiPHNwYW4gc3R5bGU9J2ZvbnQtc2l6ZTogODAlJz5cIiArIGFsbF9tYXBfb3B0aW9ucy50b29sdGlwLnBlcmNlbnRfc2lnbiArIFwiPC9zcGFuPlwiO1xuXG4gICAgICAgICAgICAgICAgLy9hZGQgZXh0cmEgdmFsdWVzIHRvIHRvb2x0aXAgaWYgYXBwbGljYWJsZSwgYW5kIG5vdCBhbmltYXRlZFxuXG4gICAgICAgICAgICAgICAgaWYgKCFhbGxfbWFwX29wdGlvbnMuaXNfYW5pbWF0ZWQpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc19leHRyYV92YWxzID0gJHRoaXMuYXR0cihcImV4dHJhX3ZhbHNcIik7IC8vZ2V0IGV4dHJhIHZhbHVlcyAoaWYgYXBwbGljYWJsZSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNfZXh0cmFfdmFscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc19leHRyYV92YWxzID0gdGhpc19leHRyYV92YWxzLnNwbGl0KFwiO1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaCh0aGlzX2V4dHJhX3ZhbHMsIGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVfaHRtbCA9IHZhbHVlX2h0bWwgKyBcIjxwIHN0eWxlPSdmb250LXNpemU6IDQwJTsgbGluZS1oZWlnaHQ6IDEuMTsgbWFyZ2luOiAycHggMHB4IDJweCAwcHg7Jz48c3BhbiBzdHlsZT0nY29sb3I6IGJsYWNrJz5cIiArIGFsbF9tYXBfb3B0aW9ucy5leHRyYV92YWx1ZV90aXRsZXNbaV0gKyBcIjogPC9zcGFuPlwiICsgdGhpc19leHRyYV92YWxzW2ldICsgXCI8L3A+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIH0gZWxzZSB7IC8vaWYgbm8gbG9jX3ZhbHVlXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlX2h0bWwgPSBcIjxzcGFuIHN0eWxlPSdmb250LXNpemU6IDcwJSc+XCIgKyBhbGxfbWFwX29wdGlvbnMudG9vbHRpcC5uYV90ZXh0ICsgXCI8L3NwYW4+XCI7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgLy9zZXQgbWFpbiB2YWx1ZVxuICAgICAgICAgICAgJChcIi50b29sdGlwX21haW5fdmFsdWVcIiwgdGhpc190b29sdGlwKS5odG1sKHZhbHVlX2h0bWwpO1xuXG4gICAgICAgICAgICB0aGlzX3Rvb2x0aXAuc2hvdygpOyAvL3Nob3cganVzdCB0aGlzIG1hcCdzIHRvb2x0aXBcblxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7IC8vbW91c2Ugb3V0XG5cbiAgICAgICAgICAgIC8vcmV0dXJuIHRvIGFsbCBwcmV2aW91cyBmaWxsIG9wYWNpdHlcbiAgICAgICAgICAgICQoXCJwYXRoLCBjaXJjbGVcIiwgbWFwX2Rpc3BsYXlfYXJlYSkuYXR0cihcImZpbGwtb3BhY2l0eVwiLCBcIjFcIik7XG5cbiAgICAgICAgICAgIC8vaGlkZSB0b29sdGlwXG4gICAgICAgICAgICAkKFwiLm1hcF90b29sdGlwXCIpLmhpZGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICB9LFxuXG5cblxuICAgIC8qKiBzZXQgdXAgaG92ZXIgZnVuY3Rpb25hbGl0eSBmb3IgdGhlIG1hcCBsZWdlbmQgKiovXG4gICAgc2V0VXBNYXBMZWdlbmRIb3ZlcjogZnVuY3Rpb24gKG1hcF9kaXNwbGF5X2FyZWEpIHtcbiAgICAgICAgJChcIi5tYXBfbGVnZW5kX2l0ZW1cIiwgbWFwX2Rpc3BsYXlfYXJlYSkuaG92ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciB0aGlzX2NvbG9yID0gJCh0aGlzKS5jaGlsZHJlbihcIi5tYXBfbGVnZW5kX2NvbG9yXCIpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIik7XG4gICAgICAgICAgICAgICAgJChcIi5tYXBfbGVnZW5kX3RleHRcIiwgdGhpcykuY3NzKFwiY29sb3JcIiwgXCIjQjczNDM4XCIpOyAvL21ha2UgdGV4dCByZWRcblxuICAgICAgICAgICAgICAgIC8vbG93ZXIgb3BhY2l0eSBvbiBvdGhlciBhcmVhcyAocGF0aHMpXG4gICAgICAgICAgICAgICAgJChcInBhdGhcIiwgbWFwX2Rpc3BsYXlfYXJlYSkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGlzX2ZpbGwgPSAkKHRoaXMpLmF0dHIoXCJmaWxsXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc19maWxsICE9PSB0aGlzX2NvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoXCJmaWxsLW9wYWNpdHlcIiwgXCIuMVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vbG93ZXIgb3BhY2l0eSBvbiBvdGhlciBhcmVhcyAoY2lyY2xlcylcbiAgICAgICAgICAgICAgICAkKFwiY2lyY2xlXCIsIG1hcF9kaXNwbGF5X2FyZWEpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc19maWxsID0gJCh0aGlzKS5hdHRyKFwiZmlsbFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNfZmlsbC5yZXBsYWNlKCcsIDAuNzUpJywgJyknKS5yZXBsYWNlKCdyZ2JhJywgJ3JnYicpICE9PSB0aGlzX2NvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoXCJmaWxsLW9wYWNpdHlcIiwgXCIuMVwiKS5hdHRyKFwic3Ryb2tlLW9wYWNpdHlcIiwgXCIuMDJcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIC8vYnJpbmcgYmFjayBvcGFjaXR5XG4gICAgICAgICAgICAgICAgJChcInBhdGgsIGNpcmNsZVwiLCBtYXBfZGlzcGxheV9hcmVhKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKFwiZmlsbC1vcGFjaXR5XCIsIFwiMVwiKS5hdHRyKFwic3Ryb2tlLW9wYWNpdHlcIiwgXCIxXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJChcIi5tYXBfbGVnZW5kX3RleHRcIiwgdGhpcykuY3NzKFwiY29sb3JcIiwgXCIjMDAwXCIpOyAvL21ha2UgdGV4dCBibGFja1xuXG4gICAgICAgICAgICB9KTtcbiAgICB9LFxuXG5cblxuXG5cbiAgICAvKiogU2V0IHVwIHN0YXRlIGxpbmtzIHRvIGVhZyBwYWdlIGlmIGFwcGxpY2FibGUgKiovXG5cbiAgICBzZXRVcE1hcFN0YXRlTGlua3M6IGZ1bmN0aW9uIChtYXBfZGlzcGxheV9hcmVhKSB7XG5cbiAgICAgICAgJChcInBhdGhbbG9jX25hbWVdLCBjaXJjbGVbbG9jX25hbWVdXCIsIG1hcF9kaXNwbGF5X2FyZWEpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRoaXNJRCA9ICQodGhpcykuYXR0cihcImlkXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXNJRCkge1xuICAgICAgICAgICAgICAgICQodGhpcykuY3NzKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAgICAgICAgICAgICAuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oXCJodHRwOi8vd3d3LmJscy5nb3YvZWFnL2VhZy5cIiArIHRoaXNJRCArIFwiLmh0bVwiLCAnX2JsYW5rJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG5cblxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcF9pbml0OyIsIiAgICAvKiogXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZXMgYW5kIHJldHVybnMgYSBzdHlsZWQgbWFwIGRpdiBsZWdlbmQgd2l0aCBjb2xvciBib3hlcyBhbmQgdGV4dCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQG5hbWVzcGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqKi9cblxuXG4gICAgdmFyIG1hcF9sZWdlbmRfaW5pdCA9IHtcblxuXG4gICAgICAgIC8qKiBjcmVhdGVzIGFuZCByZXR1cm5zIGEgbWFwIGxlZ2VuZCBkaXYgKiovXG4gICAgICAgIGdldE1hcExlZ2VuZDogZnVuY3Rpb24gKGFsbF9tYXBfb3B0aW9ucykge1xuXG4gICAgICAgICAgICAvL2NyZWF0ZSBvdXRlciBsZWdlbmQgYm94XG4gICAgICAgICAgICB2YXIgbWFwX2xlZ2VuZF9kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgbWFwX2xlZ2VuZF9kaXYuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtYXBfbGVnZW5kX2RpdlwiKTtcbiAgICAgICAgICAgIG1hcF9sZWdlbmRfZGl2LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwicG9zaXRpb246IGFic29sdXRlOyB0b3A6IFwiICsgKGFsbF9tYXBfb3B0aW9ucy5sZWdlbmQueSArIDM5MCkgKyBcInB4OyBsZWZ0OiBcIiArIChhbGxfbWFwX29wdGlvbnMubGVnZW5kLnggKyAyNjEpICsgXCJweDsgbWluLXdpZHRoOiAxMzFweDsgbWluLWhlaWdodDogMTMwcHg7IG1hcmdpbjogYXV0bzsgei1pbmRleDogNTAwXCIpO1xuXG5cbiAgICAgICAgICAgIC8vY3JlYXRlIGxlZ2VuZCBpdGVtIGZvciBlYWNoIGNvbG9yXG4gICAgICAgICAgICB2YXIgZG9sbGFyID0gYWxsX21hcF9vcHRpb25zLnRvb2x0aXAuZG9sbGFyX3NpZ247XG4gICAgICAgICAgICB2YXIgcGVyY2VudCA9IGFsbF9tYXBfb3B0aW9ucy50b29sdGlwLnBlcmNlbnRfc2lnbjtcblxuICAgICAgICAgICAgJC5lYWNoKGFsbF9tYXBfb3B0aW9ucy5jb2xvcnMsIGZ1bmN0aW9uIChpKSB7XG5cblxuICAgICAgICAgICAgICAgIHZhciBtYXBfbGVnZW5kX2l0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpOyAvL291dGVyIGRpdiBmb3IgZWFjaCBsZWdlbmQgaXRlbVxuICAgICAgICAgICAgICAgIG1hcF9sZWdlbmRfaXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1hcF9sZWdlbmRfaXRlbVwiKTtcbiAgICAgICAgICAgICAgICBtYXBfbGVnZW5kX2l0ZW0uc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJtaW4td2lkdGg6IDE3MXB4OyBtaW4taGVpZ2h0OiAxNXB4OyBtYXJnaW4tYm90dG9tOiA3cHg7IGN1cnNvcjogZGVmYXVsdDtcIik7XG5cbiAgICAgICAgICAgICAgICB2YXIgbWFwX2xlZ2VuZF9jb2xvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7IC8vbWFwIGNvbG9yIGJveCBkaXYgZm9yIGVhY2ggbGVnZW5kIGl0ZW1cbiAgICAgICAgICAgICAgICBtYXBfbGVnZW5kX2NvbG9yLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWFwX2xlZ2VuZF9jb2xvclwiKTtcblxuICAgICAgICAgICAgICAgIC8vc2V0IHJvdW5kIGNvbG9yIGJveGVzIGZvciBtZXRybyB0eXBlIG1hcHNcbiAgICAgICAgICAgICAgICB2YXIgYm9yZGVyX3JhZGl1cyA9IGFsbF9tYXBfb3B0aW9ucy5tYXBfdHlwZSA9PT0gXCJtZXRyb19hcmVhXCIgPyBcIjUwcHhcIiA6IFwiMHB4XCI7XG4gICAgICAgICAgICAgICAgbWFwX2xlZ2VuZF9jb2xvci5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcIndpZHRoOiAxNXB4OyBoZWlnaHQ6IDE1cHg7IGJhY2tncm91bmQtY29sb3I6IFwiICsgYWxsX21hcF9vcHRpb25zLmNvbG9yc1tpXSArIFwiOyBmbG9hdDogbGVmdDsgYm9yZGVyOiByZ2IoMTUzLCAxNTMsIDE1Mykgc29saWQgLjVweDsgYm9yZGVyLXJhZGl1czogXCIgKyBib3JkZXJfcmFkaXVzICsgXCJcIik7XG5cbiAgICAgICAgICAgICAgICB2YXIgbWFwX2xlZ2VuZF90ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTsgLy9tYXAgdGV4dCBkaXYgZm9yIGVhY2ggbGVnZW5kIGl0ZW1cbiAgICAgICAgICAgICAgICBtYXBfbGVnZW5kX3RleHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtYXBfbGVnZW5kX3RleHRcIik7XG4gICAgICAgICAgICAgICAgbWFwX2xlZ2VuZF90ZXh0LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwiY29sb3I6IGJsYWNrOyBmbG9hdDogbGVmdDsgbGluZS1oZWlnaHQ6IDFlbTsgbWFyZ2luLWxlZnQ6IDVweDsgZm9udC1zaXplOiAxMnB4O1wiKTtcblxuICAgICAgICAgICAgICAgIHZhciBkZWMgPSBhbGxfbWFwX29wdGlvbnMudG9vbHRpcC5kZWNpbWFscztcblxuICAgICAgICAgICAgICAgIC8vc2V0IG1vZCBzbyB0aGF0IG51bWJlcnMgaW4gbGVnZW5kIGFyZSAxLCAuMSwgLjAxLCBvciAuMDAxIG9mZiAgICBcblxuXG5cbiAgICAgICAgICAgICAgICAvL3NldCBsZWdlbmQgdGV4dCBjb250ZW50XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwX2xlZ2VuZF90ZXh0LnRleHRDb250ZW50ID0gZG9sbGFyICsgJChhbGxfbWFwX29wdGlvbnMudmFsdWVfcmFuZ2VzW2ldKS5hZGRDb21tYXMoZGVjKSArIHBlcmNlbnQgKyBcIiBhbmQgbG93ZXJcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT09IGFsbF9tYXBfb3B0aW9ucy5jb2xvcnMubGVuZ3RoIC0gMSkge1xuXG4gICAgICAgICAgICAgICAgICAgIG1hcF9sZWdlbmRfdGV4dC50ZXh0Q29udGVudCA9IGRvbGxhciArICQobWFwX2xlZ2VuZF9pbml0LnZhbHVlTW9kKGFsbF9tYXBfb3B0aW9ucy52YWx1ZV9yYW5nZXNbaSAtIDFdLCBhbGxfbWFwX29wdGlvbnMsIGRlYykpLmFkZENvbW1hcyhkZWMpICsgcGVyY2VudCArIFwiIGFuZCBoaWdoZXJcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtYXBfbGVnZW5kX3RleHQudGV4dENvbnRlbnQgPSBkb2xsYXIgKyAkKG1hcF9sZWdlbmRfaW5pdC52YWx1ZU1vZChhbGxfbWFwX29wdGlvbnMudmFsdWVfcmFuZ2VzW2kgLSAxXSwgYWxsX21hcF9vcHRpb25zLCBkZWMpKS5hZGRDb21tYXMoZGVjKSArIHBlcmNlbnQgKyBcIiB0byBcIiArIGRvbGxhciArICQoYWxsX21hcF9vcHRpb25zLnZhbHVlX3Jhbmdlc1tpXSkuYWRkQ29tbWFzKGRlYykgKyBhbGxfbWFwX29wdGlvbnMudG9vbHRpcC5wZXJjZW50X3NpZ247XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICBtYXBfbGVnZW5kX2l0ZW0uYXBwZW5kQ2hpbGQobWFwX2xlZ2VuZF9jb2xvcik7XG4gICAgICAgICAgICAgICAgbWFwX2xlZ2VuZF9pdGVtLmFwcGVuZENoaWxkKG1hcF9sZWdlbmRfdGV4dCk7XG4gICAgICAgICAgICAgICAgbWFwX2xlZ2VuZF9kaXYuYXBwZW5kQ2hpbGQobWFwX2xlZ2VuZF9pdGVtKTtcblxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIG1hcF9sZWdlbmRfZGl2O1xuICAgICAgICAgICAgXG4gICAgICAgIH0sXG5cblxuXG4gICAgICAgIC8qKiByZXR1cm5zIGEgbW9kIHNvIHRoYXQgbnVtYmVycyBpbiBsZWdlbmQgYXJlIDEsIC4xLCAuMDEsIG9yIC4wMDEgb2ZmIHNvIHRoZXkgZG9uJ3Qgb3ZlcmxhcCAqKi9cbiAgICAgICAgdmFsdWVNb2Q6IGZ1bmN0aW9uICh2YWwsIGFsbF9tYXBfb3B0aW9ucywgZGVjKSB7IFxuICAgICAgICAgICAgdmFyIG1vZCA9IC4wMTtcblxuICAgICAgICAgICAgc3dpdGNoIChkZWMpIHtcblxuICAgICAgICAgICAgY2FzZSBcIjBcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGxfbWFwX29wdGlvbnMudmFsdWVfcmFuZ2VzW2FsbF9tYXBfb3B0aW9ucy52YWx1ZV9yYW5nZXMubGVuZ3RoIC0gMV0gPiAxMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWxsX21hcF9vcHRpb25zLnZhbHVlX3Jhbmdlc1thbGxfbWFwX29wdGlvbnMudmFsdWVfcmFuZ2VzLmxlbmd0aCAtIDFdID4gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZCA9IC4xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCIxXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBtb2QgPSAuMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIjJcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG1vZCA9IC4wMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIjNcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG1vZCA9IC4wMDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG5cbiAgICAgICAgICAgIGlmIChkZWMgPiAwIHx8IG1vZCA+IC4wMSkgeyAvL2lmIGRlY2ltYWxzIGFyZSBub3Qgc2V0XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbCArIG1vZDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kID09PSAuMDEpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyKCh2YWwgKyBtb2QpLnRvRml4ZWQoMikpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtb2QgPT09IC4wMDEpe1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIoKHZhbCArIG1vZCkudG9GaXhlZCgzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG5cbiAgICB9O1xuXG5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IG1hcF9sZWdlbmRfaW5pdDsiLCIvKiogXG5mdW5jdGlvbnMgZm9yIG1hcCBzdWJ0aXRsZVxuQG5hbWVzcGFjZVxuKi9cblxudmFyIG1hcF9zdWJ0aXRsZV9pbml0ID0ge1xuICAgIFxuICAgIC8qKkdldHMgdGl0bGUgZnJvbSBhIHRleHQgaW5wdXQgZWxlbWVudCBhbmQgcmV0dXJucyBpdCAqKi9cbiAgICBtYXBTdWJ0aXRsZUluaXQ6IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICB2YXIgbWFwX3N1YnRpdGxlID0ge1xuICAgICAgICAgICAgdGV4dDogJC50cmltKGlucHV0LnZhbCgpKSxcbiAgICAgICAgICAgIHN0eWxlOiBcImNvbG9yOiAjMDAwOyBmb250LWZhbWlseTogc2Fucy1zZXJpZjsgZm9udC13ZWlnaHQ6IG5vcm1hbDsgZm9udC1zaXplOiAxMnB4OyBwYWRkaW5nOiAxMHB4OyBtYXJnaW46IDBweDsgXCJcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwX3N1YnRpdGxlO1xuICAgIH0sXG5cbiAgICAvKiogY3JlYXRlcyBhbmQgcmV0dXJucyBhIHN0eWxlZCBtYXAgaDMgc3VidGl0bGUgd2l0aCB0ZXh0ICoqL1xuICAgIGdldE1hcFN1YnRpdGxlOiBmdW5jdGlvbiAoc3VidGl0bGUpIHtcbiAgICAgICAgdmFyIG1hcF9zdWJ0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgICAgICAgbWFwX3N1YnRpdGxlLnRleHRDb250ZW50ID0gc3VidGl0bGUudGV4dDtcbiAgICAgICAgbWFwX3N1YnRpdGxlLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIHN1YnRpdGxlLnN0eWxlKTtcblxuICAgICAgICByZXR1cm4gbWFwX3N1YnRpdGxlO1xuICAgIH0sXG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSBtYXBfc3VidGl0bGVfaW5pdDsiLCIvKiogR2V0cyB0aXRsZSBmcm9tIGEgdGFibGUgYW5kIHJldHVybnMgaXRcbkBtb2R1bGVcbiovXG5cbnZhciBtYXBfdGl0bGVfaW5pdCA9IHtcblxuXG4gICAgLyoqIGNyZWF0ZXMgYW5kIHJldHVybnMgYSBzdHlsZWQgbWFwIGgyIHRpdGxlIHdpdGggdGV4dCAqKi9cbiAgICBnZXRNYXBUaXRsZTogZnVuY3Rpb24gKHRpdGxlKSB7XG4gICAgICAgIHZhciBtYXBfdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gICAgICAgIG1hcF90aXRsZS50ZXh0Q29udGVudCA9IHRpdGxlLnRleHQ7XG4gICAgICAgIG1hcF90aXRsZS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCB0aXRsZS5zdHlsZSk7XG5cbiAgICAgICAgcmV0dXJuIG1hcF90aXRsZTtcbiAgICB9LFxuXG4gICAgbWFwVGl0bGVJbml0OiBmdW5jdGlvbiB0aXRsZUluaXQodGFibGVfaW5wdXQpIHtcbiAgICAgICAgdmFyIG1hcF90aXRsZSA9IHtcbiAgICAgICAgICAgIHRleHQ6ICQudHJpbSgkKFwiY2FwdGlvblwiLCAkKHRhYmxlX2lucHV0KSkudGV4dCgpKSxcbiAgICAgICAgICAgIHN0eWxlOiBcImNvbG9yOiAjMDAwOyBmb250LWZhbWlseTogc2Fucy1zZXJpZjsgZm9udC13ZWlnaHQ6IGJvbGQ7IGZvbnQtc2l6ZToxNHB4OyBwYWRkaW5nOiAxMHB4OyBtYXJnaW4tYm90dG9tOiAwcHg7IHRleHQtYWxpZ246IGxlZnQ7IGJvcmRlci1ib3R0b206IG5vbmVcIlxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXBfdGl0bGU7XG4gICAgfVxufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gbWFwX3RpdGxlX2luaXQ7IiwiLyoqIE1hcCB0b29sdGlwIG9iamVjdCBcbkBuYW1lc3BhY2VcbioqL1xuXG52YXIgbWFwX3Rvb2x0aXBfaW5pdCA9IHtcbiAgICBcbiAgICAgICAgLyoqIGNyZWF0ZXMgYW5kIHJldHVybnMgYW4gZW1wdHkgdG9vbHRpcCBkaXYgdGVtcGxhdGUgKiovXG4gICAgZ2V0TWFwVG9vbHRpcDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciB0b29sdGlwX2RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRvb2x0aXBfZGl2LmNsYXNzTmFtZSA9IFwibWFwX3Rvb2x0aXBcIjtcbiAgICAgICAgdG9vbHRpcF9kaXYuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJtaW4td2lkdGg6IDIwMHB4OyBtaW4taGVpZ2h0OiA2MHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjRkNGOEUzOyBib3JkZXI6IHNvbGlkIDFweCAjMzk1NDYzOyBwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IDM1M3B4OyB0b3A6IDVweDsgei1pbmRleDogNTAxOyBkaXNwbGF5OiBub25lOyBwYWRkaW5nLXJpZ2h0OiA1cHg7XCIpO1xuXG4gICAgICAgIHZhciB0b29sdGlwX3RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgICAgICB0b29sdGlwX3RpdGxlLmNsYXNzTmFtZSA9IFwidG9vbHRpcF90aXRsZVwiO1xuICAgICAgICB0b29sdGlwX3RpdGxlLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwiY29sb3I6ICMwMDA7IGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmOyBmb250LXdlaWdodDogYm9sZDsgZm9udC1zaXplOjE2cHg7IG1hcmdpbjogNXB4IDBweCAwcHggNXB4OyBcIik7XG5cbiAgICAgICAgdmFyIHRvb2x0aXBfbWFpbl92YWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoNFwiKTtcbiAgICAgICAgdG9vbHRpcF9tYWluX3ZhbHVlLmNsYXNzTmFtZSA9IFwidG9vbHRpcF9tYWluX3ZhbHVlXCI7XG4gICAgICAgIHRvb2x0aXBfbWFpbl92YWx1ZS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcImNvbG9yOiAjMzk1NDYzOyBmb250LWZhbWlseTogc2Fucy1zZXJpZjsgZm9udC13ZWlnaHQ6IGJvbGQ7IGZvbnQtc2l6ZTozOHB4OyBtYXJnaW46IDBweCAwcHggMHB4IDVweDtcIik7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgdG9vbHRpcF9kaXYuYXBwZW5kQ2hpbGQodG9vbHRpcF90aXRsZSk7XG4gICAgICAgIHRvb2x0aXBfZGl2LmFwcGVuZENoaWxkKHRvb2x0aXBfbWFpbl92YWx1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHRvb2x0aXBfZGl2O1xuICAgIH0sXG4gICAgXG4gICAgLyoqIG1vZHMgYWxsX21hcF9vcHRpb25zLnRvb2x0aXAgdG8gaGF2ZSBhIGRvbGxhciBzaWduIG9yIHBlcmNlbnQgc2lnbiBpZiB0aGF0IG9wdGlvbiBpcyBzZWxlY3RlZCAqKi9cbiAgICBmb3JtYXRNYXBUb29sVGlwOiBmdW5jdGlvbihhbGxfbWFwX29wdGlvbnMpe1xuICAgICAgICBhbGxfbWFwX29wdGlvbnMudG9vbHRpcC5kb2xsYXJfc2lnbiA9ICQoXCIjY2hhcnRfdG9vbHRpcF9zaWduc19zZWxlY3RcIikudmFsKCkgPT09IFwiJFwiID8gXCIkXCIgOiBcIlwiO1xuICAgICAgICBhbGxfbWFwX29wdGlvbnMudG9vbHRpcC5wZXJjZW50X3NpZ24gPSAkKFwiI2NoYXJ0X3Rvb2x0aXBfc2lnbnNfc2VsZWN0XCIpLnZhbCgpID09PSBcIiVcIiA/IFwiJVwiIDogXCJcIjtcbiAgICAgICAgYWxsX21hcF9vcHRpb25zLnRvb2x0aXAuZGVjaW1hbHMgPSAkKFwiI2NoYXJ0X3Rvb2x0aXBfZm9yY2VfZGVjaW1hbHNfc2VsZWN0XCIpLnZhbCgpO1xuICAgICAgICBhbGxfbWFwX29wdGlvbnMudG9vbHRpcC5uYV90ZXh0ID0gJChcIiNtYXBfdG9vbHRpcF9uYV90ZXh0X2lucHV0XCIpLnZhbCgpO1xuICAgIH1cbiAgICBcbiAgICBcbiAgICBcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBtYXBfdG9vbHRpcF9pbml0O1xuXG5cblxuIiwidmFyIHVwZGF0ZV9pbmRpdmlkdWFsX3NlcmllcyA9IHJlcXVpcmUoXCIuL2Zvcm1fdXBkYXRlcy91cGRhdGVfaW5kaXZpZHVhbF9zZXJpZXMuanNcIik7XG5cbi8qKlxuICogQ29udGFpbnMgZnVuY3Rpb25zIHRoYXQgZGVhbCB3aXRoIGtleWJvYXJkIGlucHV0c1xuICogQG5hbWVzcGFjZVxuICovXG52YXIga2V5Ym9hcmRfaW5wdXRzID0ge1xuXG4gICAgYWRqVmFsdWU6IGZ1bmN0aW9uICh2YWwsIGRpcmVjdGlvbikge1xuICAgICAgICB2YXIgdmFsID0gTnVtYmVyKHZhbCk7XG4gICAgICAgIGlmICghaXNOYU4odmFsKSkge1xuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGlvbiA9PT0gXCIrXCIgPyB2YWwgKyAxMCA6IHZhbCAtIDEwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKiogY2xpY2tzIHRoZSBuZXh0IGVsZW1lbnQgb2YgYSBnaXZlbiBjbGFzc25hbWUgdGhhbiB0aGUgb25lIHNlbGVjdGVkXG4gICAgQHBhcmFtIGNsYXNzbmFtZSB7c3RyaW5nfSB0aGUgY2xhc3MgbmFtZSBvZiBlYWNoIG9mIHRoZSBlbGVtZW50c1xuICAgIEBwYXJhbSBzZWxlY3RlZF9jbGFzc25hbWUge3N0cmluZ30gdGhlIG5hbWUgb2YgdGhlIHNlbGVjdGVkIGVsZW1lbnRcbiAgICAqKi9cbiAgICBjbGlja05leHQ6IGZ1bmN0aW9uIChjbGFzc25hbWUsIHNlbGVjdGVkX2NsYXNzbmFtZSwgcHJldikge1xuICAgICAgICB2YXIgb25seV92aXNpYmxlID0gY2xhc3NuYW1lID09PSBcInRhYlwiID8gXCI6dmlzaWJsZVwiIDogXCJcIjtcbiAgICAgICAgXG4gICAgICAgIHZhciBuZXh0ID0gMDtcbiAgICAgICAgdmFyIGxlbiA9ICQoXCIuXCIgKyBjbGFzc25hbWUgKyBvbmx5X3Zpc2libGUpLmxlbmd0aDtcbiAgICAgICAgXG4gICAgICAgICQoXCIuXCIgKyBjbGFzc25hbWUgKyBvbmx5X3Zpc2libGUpLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKHNlbGVjdGVkX2NsYXNzbmFtZSkpIHtcbiBcbiAgICAgICAgICAgICAgIG5leHQgPSBwcmV2ID8gaSArIHByZXYgOiBpKyAxOyAvL2lmIGEgcHJldiBleGlzdHMsIGdvIGJhY2t3YXJkc1xuICAgICAgICAgICAgICAgIGlmIChuZXh0ID09PSBsZW4pIHsgLy9pZiBlbmQgaXMgcmVhY2hlZCwgZ28gdG8gZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgbmV4dCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgJChcIi5cIiArIGNsYXNzbmFtZSArIG9ubHlfdmlzaWJsZStcIjplcShcIiArIG5leHQgKyBcIilcIikuY2xpY2soKTtcbiAgICB9LFxuXG5cbiAgICAvKiogd2hlbiBub3RoaW5nIGlzIHNlbGVjdGVkLCBwcmVzc2luZyB1cCBvciBkb3duIGNoYW5nZXMgd2hpY2ggc2lkZSBuYXYgdGFiIGlzIHNlbGVjdGVkICovXG4gICAgc2lkZU5hdlRhYlNob3J0Y3V0czogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIga2V5cyA9IGtleWJvYXJkX2lucHV0cyxcbiAgICAgICAgICAgICRoID0gJChcIiNjaGFydF9oZWlnaHRfdGV4dGlucHV0XCIpLFxuICAgICAgICAgICAgJHcgPSAkKFwiI2NoYXJ0X3dpZHRoX3RleHRpbnB1dFwiKSxcbiAgICAgICAgICAgICRybSA9ICQoXCIjcmlnaHRfbWFyZ2luX3RleHRpbnB1dFwiKSxcbiAgICAgICAgICAgICRsbSA9ICQoXCIjbGVmdF9tYXJnaW5fdGV4dGlucHV0XCIpLFxuICAgICAgICAgICAgJHRtID0gJChcIiN0b3BfbWFyZ2luX3RleHRpbnB1dFwiKSxcbiAgICAgICAgICAgICRibSA9ICQoXCIjYm90dG9tX21hcmdpbl90ZXh0aW5wdXRcIik7XG5cblxuICAgICAgICAkKGRvY3VtZW50KS51bmJpbmQoKS5rZXlkb3duKGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgIC8vY2hhcnQgcmVzaXppbmcga2V5c1xuICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkgJiYgZS5rZXlDb2RlID09PSA0MCkgeyAvL3NoaWZ0ICsgZG93blxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAkaC52YWwoa2V5cy5hZGpWYWx1ZSgkaC52YWwoKSwgXCIrXCIpKS5rZXl1cCgpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGUuc2hpZnRLZXkgJiYgZS5rZXlDb2RlID09PSAzOCkgeyAvL3NoaWZ0ICsgdXBcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgJGgudmFsKGtleXMuYWRqVmFsdWUoJGgudmFsKCksIFwiLVwiKSkua2V5dXAoKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmIChlLnNoaWZ0S2V5ICYmIGUua2V5Q29kZSA9PT0gMzcpIHsgLy9zaGlmdCArIGxlZnRcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgJHcudmFsKGtleXMuYWRqVmFsdWUoJHcudmFsKCksIFwiLVwiKSkua2V5dXAoKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmIChlLnNoaWZ0S2V5ICYmIGUua2V5Q29kZSA9PT0gMzkpIHsgLy9zaGlmdCArIHJpZ2h0XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICR3LnZhbChrZXlzLmFkalZhbHVlKCR3LnZhbCgpLCBcIitcIikpLmtleXVwKCk7XG4gICAgICAgICAgICB9XG5cblxuXG4gICAgICAgICAgICAvL21hcmdpbiByZXNpemluZyBrZXlzICh1cCBhbmQgcmlnaHQgbWFyZ2lucylcbiAgICAgICAgICAgIGVsc2UgaWYgKChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpICYmIGUua2V5Q29kZSA9PT0gMzkpIHsgLy9jdHJsL2NtZCArIHJpZ2h0XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICRybS52YWwoa2V5cy5hZGpWYWx1ZSgkcm0udmFsKCksIFwiLVwiKSkua2V5dXAoKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICgoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KSAmJiBlLmtleUNvZGUgPT09IDM3KSB7IC8vY3RybC9jbWQgKyBsZWZ0XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICRybS52YWwoa2V5cy5hZGpWYWx1ZSgkcm0udmFsKCksIFwiK1wiKSkua2V5dXAoKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICgoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KSAmJiBlLmtleUNvZGUgPT09IDM4KSB7IC8vY3RybC9jbWQgKyB1cFxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAkdG0udmFsKGtleXMuYWRqVmFsdWUoJHRtLnZhbCgpLCBcIi1cIikpLmtleXVwKCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkgJiYgZS5rZXlDb2RlID09PSA0MCkgeyAvL2N0cmwvY21kICsgZG93blxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAkdG0udmFsKGtleXMuYWRqVmFsdWUoJHRtLnZhbCgpLCBcIitcIikpLmtleXVwKCk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgLy9tYXJnaW4gcmVzaXppbmcga2V5cyAoYm90dG9tIGFuZCBsZWZ0IG1hcmdpbnNcbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmFsdEtleSAmJiBlLmtleUNvZGUgPT09IDM5KSB7IC8vYWx0ICsgcmlnaHRcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgJGxtLnZhbChrZXlzLmFkalZhbHVlKCRsbS52YWwoKSwgXCIrXCIpKS5rZXl1cCgpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmFsdEtleSAmJiBlLmtleUNvZGUgPT09IDM3KSB7IC8vYWx0ICsgbGVmdFxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAkbG0udmFsKGtleXMuYWRqVmFsdWUoJGxtLnZhbCgpLCBcIi1cIikpLmtleXVwKCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuYWx0S2V5ICYmIGUua2V5Q29kZSA9PT0gMzgpIHsgLy9hbHQgKyB1cFxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAkYm0udmFsKGtleXMuYWRqVmFsdWUoJGJtLnZhbCgpLCBcIitcIikpLmtleXVwKCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuYWx0S2V5ICYmIGUua2V5Q29kZSA9PT0gNDApIHsgLy9hbHQgKyBkb3duXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICRibS52YWwoa2V5cy5hZGpWYWx1ZSgkYm0udmFsKCksIFwiLVwiKSkua2V5dXAoKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAvL3NpZGUgbmF2IHVwIGFuZCBkb3duIGtleXNcbiAgICAgICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gMzgpIHsgLy91cFxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBrZXlzLmNsaWNrTmV4dChcInRhYlwiLCBcInNlbGVjdGVkX3RhYlwiLCAtMSk7IC8vLTEgZm9yIHByZXZcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09PSA0MCkgeyAvL2Rvd25cbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAga2V5cy5jbGlja05leHQoXCJ0YWJcIiwgXCJzZWxlY3RlZF90YWJcIik7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgLy9jaGFydCB0eXBlIChjeWNsZSB0aHJvdWdoKSAgICBcbiAgICAgICAgICAgIGVsc2UgaWYgKGUuc2hpZnRLZXkgJiYgZS5rZXlDb2RlID09PSA2NykgeyAvL3NoaWZ0ICsgYyBcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAga2V5cy5jbGlja05leHQoXCJjaGFydF90eXBlX2ljb25cIiwgXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAvL2RhdGEgbG9hZCAtIHNlcmllcyBuYW1lcyBmcm9tIGNvbHVtbnMgLyByb3dzXG4gICAgICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDkpIHsgLy90YWJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAga2V5cy5jbGlja05leHQoXCJsb2FkX3Nlcmllc19mcm9tX2ljb25cIiwgXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAvL2NvbG9yIHRlbXBsYXRlIChjeWNsZSB0aHJvdWdoKSAgICBcbiAgICAgICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gNjcpIHsgLy9jXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCQoXCIubWFwX2Rpc3BsYXlfYXJlYVwiKS5pcyhcIjp2aXNpYmxlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXMuY2xpY2tOZXh0KFwibWFwX2NvbG9yX3BhbGV0dGVfcm93XCIsIFwic2VsZWN0ZWRcIik7IC8vbWFwIGNvbG9yc1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXMuY2xpY2tOZXh0KFwiY29sb3JfcGFsZXR0ZV9yb3dcIiwgXCJzZWxlY3RlZFwiKTsgLy9jaGFydCBjb2xvcnNcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9zaWRlIG5hdiBzaG9ydGN1dCBrZXlzXG4gICAgICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDgzKSB7IC8vc1xuICAgICAgICAgICAgICAgICQoXCIjdGFiX2NoYXJ0X3RlbXBsYXRlXCIpLmNsaWNrKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gNjgpIHsgLy9kXG4gICAgICAgICAgICAgICAgJChcIiN0YWJfZGF0YVwiKS5jbGljaygpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT09IDczKSB7IC8vaVxuICAgICAgICAgICAgICAgICQoXCIjdGFiX3Nlcmllc19vcHRpb25zXCIpLmNsaWNrKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gNzYpIHsgLy9sXG4gICAgICAgICAgICAgICAgJChcIiN0YWJfY2hhcnRfbGVnZW5kXCIpLmNsaWNrKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gODgpIHsgLy94XG4gICAgICAgICAgICAgICAgJChcIiN0YWJfY2hhcnRfeF9heGlzXCIpLmNsaWNrKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gODkpIHsgLy95XG4gICAgICAgICAgICAgICAgJChcIiN0YWJfY2hhcnRfeV9heGlzXCIpLmNsaWNrKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gODQpIHsgLy90XG4gICAgICAgICAgICAgICAgJChcIiN0YWJfY2hhcnRfdG9vbHRpcFwiKS5jbGljaygpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT09IDc4KSB7IC8vblxuICAgICAgICAgICAgICAgICQoXCIjdGFiX2NoYXJ0X2NyZWRpdHNcIikuY2xpY2soKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09PSA2OSkgeyAvLzY5XG4gICAgICAgICAgICAgICAgJChcIiN0YWJfY2hhcnRfZXh0cmFfb3B0aW9uc1wiKS5jbGljaygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKiogaW4gbnVtYmVyIGVudHJ5IGlucHV0cywgcHJlc3NpbmcgdXAgb3IgZG93biB3aWxsIGFkanVzdCB2YWx1ZSAqL1xuICAgIG51bWJlckNoYW5nZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzgpIHsgLy91cCBcbiAgICAgICAgICAgICQodGhpcykudmFsKGtleWJvYXJkX2lucHV0cy5hZGpWYWx1ZSgkKHRoaXMpLnZhbCgpLCBcIitcIikpO1xuICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gNDApIHsgLy9kb3duXG4gICAgICAgICAgICAkKHRoaXMpLnZhbChrZXlib2FyZF9pbnB1dHMuYWRqVmFsdWUoJCh0aGlzKS52YWwoKSwgXCItXCIpKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKiogaW5pdGlhbGl6ZSBsaXN0ZW50ZXJzIFxuICAgIHdoZW4gYSBudW1iZXIgZW50cnkgaW5wdXQgaXMgZm9jdXNlZCBvbiwgYXR0YWNoIHRob3NlIGV2ZW50IGxpc3RlbmVyc1xuICAgIHdoZW4gaXQgbGVhdmVzIHRvIG1haW4gZG9jdW1lbnQsIGF0dGFjaCB0aG9zZS4gY2FsbGVkIGZyb20gbmF2aWdhdGlvbl9zZXR1cC5Jbml0TmF2V2l0aENoYXJ0KClcbiAgICAqKi9cbiAgICBpbml0TGlzdGVuZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFxuICAgICAgICAkKFwiaW5wdXQsIHRleHRhcmVhXCIpLmZvY3VzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLnVuYmluZCgpOyAgICAgIFxuXG4gICAgICAgICAgICAkKHRoaXMpLm9mZihcImtleWRvd25cIik7IC8vc28gaXQgZG9lc250IGR1cGxpY2F0ZSB3aGVuIG1vdmluZyBmcm9tIG9uZSBlbnRyeSB0byBhbm90aGVyXG4gICAgICAgICAgICAkKFwiLm51bWJlcl9lbnRyeVwiKS5vbihcImtleWRvd25cIiwga2V5Ym9hcmRfaW5wdXRzLm51bWJlckNoYW5nZSk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKFwiaW5wdXQsIHRleHRhcmVhXCIpLmJsdXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5vZmYoXCJrZXlkb3duXCIpO1xuICAgICAgICAgICAgLy9yZWluaXQgc2lkZSB0YWIgbmF2IHNob3J0Y3V0c1xuICAgICAgICAgICAga2V5Ym9hcmRfaW5wdXRzLnNpZGVOYXZUYWJTaG9ydGN1dHMoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy91bmJpbmQgbmF2IHF1aWNrIGtleXMgd2hlbiBvdmVyIHRoZSBjb2RlIHJlc3VsdCBhcmVhXG4gICAgICAgICQoXCIjbWFpbl9yZXN1bHRfY29kZV9kaXZcIikuaG92ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLnVuYmluZCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBrZXlib2FyZF9pbnB1dHMuc2lkZU5hdlRhYlNob3J0Y3V0cygpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICB9XG5cbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGtleWJvYXJkX2lucHV0czsiLCJ2YXIgdXRpbHNfbWFpbiA9IHJlcXVpcmUoXCIuL3V0aWxzL3V0aWxzX21haW4uanNcIik7XG52YXIgdXBkYXRlX2luZGl2aWR1YWxfc2VyaWVzID0gcmVxdWlyZShcIi4vZm9ybV91cGRhdGVzL3VwZGF0ZV9pbmRpdmlkdWFsX3Nlcmllcy5qc1wiKTtcbnZhciBrZXlib2FyZF9pbnB1dHMgPSByZXF1aXJlKFwiLi9rZXlib2FyZF9pbnB1dHMuanNcIik7XG52YXIgd3JpdGVfY29kZSA9IHJlcXVpcmUoXCIuL3V0aWxzL3dyaXRlX2NvZGUuanNcIik7XG5cblxuLyoqIG9iamVjdCB0aGF0IGNvbnRhaW5zIGZ1bmN0aW9ucyBmb3IgYWxsIHRoZSBuYXZpZ2F0aW9uLCBpZSBjaGFuZ2luZyBiZXR3ZWVuIG9wdGlvbnMgYW5kIGNoYXJ0IHR5cGVzIFxuQG5hbWVzcGFjZVxuKi9cbnZhciBuYXZpZ2F0aW9uX3NldHVwID0ge1xuXG4gICAgLyoqIHdoZW4gdGFicyBvbiBsZWZ0IHNpZGUgbmF2IGJhciBhcmUgY2xpY2tlZCwgb3B0aW9ucyBkaXNwbGF5ZWQgYXJlIGNoYW5nZWQgKiovXG4gICAgc2lkZU5hdlRhYnNDaGFuZ2U6IGZ1bmN0aW9uIChjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpIHtcblxuICAgICAgICAkKFwiI3NpZGVfbmF2X3RhYnMgLnRhYlwiKS51bmJpbmQoKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvL2NoYW5nZSBzZWxlY3RlZCBtZW51IHRhYnNcbiAgICAgICAgICAgICQoXCIjc2lkZV9uYXZfdGFicyAuc2VsZWN0ZWRfdGFiXCIpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRfdGFiXCIpO1xuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcInNlbGVjdGVkX3RhYlwiKTtcblxuICAgICAgICAgICAgLy9jaGFuZ2UgZGlzcGxheSBkaXYgc2hvd2luZ1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkSUQgPSBcIiNcIiArICQodGhpcykuYXR0cihcImlkXCIpLnJlcGxhY2UoXCJ0YWJcIiwgXCJkaXNwbGF5XCIpO1xuICAgICAgICAgICAgJChcIiNzaWRlX2Rpc3BsYXkgLnNlbGVjdGVkX2Rpc3BsYXlcIikucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZF9kaXNwbGF5XCIpO1xuICAgICAgICAgICAgJChzZWxlY3RlZElEKS5hZGRDbGFzcyhcInNlbGVjdGVkX2Rpc3BsYXlcIik7XG5cbiAgICAgICAgICAgIC8vaWYgdGhpcyBpcyBcIkluZGl2aWR1YWwgU2VyaWVzIE9wdGlvbnNcIiwgcnVuIHRoYXQgc2V0dXAgZnVuY3Rpb25cbiAgICAgICAgICAgIGlmIChzZWxlY3RlZElEID09PSBcIiNkaXNwbGF5X3Nlcmllc19vcHRpb25zXCIgJiYgYWxsX2NoYXJ0X29wdGlvbnMuY2hhcnQudHlwZSAhPSBcIm1hcFwiKSB7IC8vZm9yIGNoYXJ0c1xuXG4gICAgICAgICAgICAgICAgdXBkYXRlX2luZGl2aWR1YWxfc2VyaWVzLnBvcHVsYXRlRm9ybShjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG4gICAgfSxcblxuXG4gICAgLyoqIHdoZW4gY2hhcnQgY29kZSBpcyBob3ZlcmVkIG92ZXIsIHVwZGF0ZSBESVNBQkxFRCBGT1IgTk9XICAqKi9cbiAgICAvLyAgICBjaGFydE91dHB1dENvZGVGb2N1czogZnVuY3Rpb24gKGFsbF9jaGFydF9vcHRpb25zLCBhbGxfbWFwX29wdGlvbnMpIHtcbiAgICAvLyAgICAgICAgJChcIiNjaGFydF9vdXRwdXRfY29kZVwiKS51bmJpbmQoKS5tb3VzZWVudGVyKGZ1bmN0aW9uICgpIHtcbiAgICAvLyAgICAgICAgICAgIHdyaXRlX2NvZGUud3JpdGVDb2RlKGFsbF9jaGFydF9vcHRpb25zLCBhbGxfbWFwX29wdGlvbnMpO1xuICAgIC8vICAgICAgICB9KTtcbiAgICAvLyAgICB9LFxuXG5cblxuXG4gICAgLyoqIHdoZW4gY2xlYXIgbmV4dCB0ZXh0IGFyZWEgYnV0dG9uIChYKSBpcyBjbGlja2VkLCBmaW5kIGFuZCBjbGVhciB0aGUgdGV4dCBvZiB0aGUgbmV4dCB0ZXh0YXJlYSAqL1xuICAgIGNsZWFyTmV4dFRleHRhcmVhQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJChcIi5jbGVhcl9uZXh0X3RleHRhcmVhX2J1dHRvblwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKHRoaXMpLm5leHQoXCJ0ZXh0YXJlYVwiKS52YWwoXCJcIik7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cblxuICAgIC8qKldoZW4gYSBjbG9zZSBib3ggWCBpcyBjbGlja2VkLCBjbG9zZXMgdGhlIGNvbnRhaW5pbmcgcG9wdXAgZGl2ICoqL1xuICAgIGNsb3NlQm94SWNvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQoXCIuY2xvc2VfYm94X2ljb25cIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5zbGlkZVVwKDUwKTtcbiAgICAgICAvLyAgICAgJChcIi5jaGFydF9kaXNwbGF5X2FyZWEsIC5tYXBfZGlzcGxheV9hcmVhXCIpLnRvZ2dsZUNsYXNzKFwiZml4ZWRcIik7XG5cbiAgICAgICAgfSk7XG4gICAgfSxcblxuXG5cblxuICAgIC8qKiB3aGVuICNjb2xvcl9wYWxldHRlX3JldmVyc2VfaWNvbiBpcyBjbGlja2VkLCByZXZlcnNlIHRoZSBvcmRlcnMgb2YgZWFjaCBwYWxldHRlICovXG4gICAgY29sb3JQYWxldHRlUmV2ZXJzZUljb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAkKFwiI2NvbG9yX3BhbGV0dGVfcmV2ZXJzZV9pY29uXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCIuY29sb3JfcGFsZXR0ZV9yb3csIC5tYXBfY29sb3JfcGFsZXR0ZV9yb3dcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRoaXNfcm93ID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgY29sb3JfY2VsbHMgPSB0aGlzX3Jvdy5jaGlsZHJlbignLmNvbG9yX3BhbGV0dGVfY2VsbCwgLm1hcF9jb2xvcl9wYWxldHRlX2NlbGwnKTtcbiAgICAgICAgICAgICAgICB0aGlzX3Jvdy5wcmVwZW5kKGNvbG9yX2NlbGxzLmdldCgpLnJldmVyc2UoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQoXCIjY29sb3JfcGFsZXR0ZXMgLnNlbGVjdGVkLCAubWFwX2NvbG9yX3BhbGV0dGVfcm93LnNlbGVjdGVkXCIpLmNsaWNrKCk7IC8vY2xpY2sgdG8gY2hhbmdlIGNvbG9ycyBpbiBjaGFydFxuXG4gICAgICAgIH0pO1xuICAgIH0sXG5cblxuXG5cblxuICAgIC8qKiB3aGVuIGEgZ2V0IGNvZGUgYnV0dG9uIGlzIGNsaWNrZWQsIHVwZGF0ZSBhbmQgc2hvdyB0aGUgY29kZSBhcmVhLiAqL1xuICAgIGdldENvZGVCdXR0b25DbGljazogZnVuY3Rpb24gKGFsbF9jaGFydF9vcHRpb25zLCBhbGxfbWFwX29wdGlvbnMpIHtcblxuICAgICAgICAkKFwiI2dldF9jb2RlX2J1dHRvblwiKS51bmJpbmQoKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgJChcIi5sb2FkX2NoYXJ0X3Nob3dpbmdcIikucmVtb3ZlQ2xhc3MoXCJsb2FkX2NoYXJ0X3Nob3dpbmdcIik7IC8vaGlkZSB0aGUgbG9hZCBzYXZlZCBjaGFydCBhcmVhIGlmIGl0J3Mgc2hvd2luZ1xuICAgICAgICAgICAgJChcIiNsb2FkX2NoYXJ0X2RpdlwiKS5oaWRlKCk7XG5cbiAgICAgICAgICAgIHZhciAkZ2V0X2NvZGVfc3BhbiA9ICQoXCIjZ2V0X2NvZGVfdGV4dFwiKTtcblxuICAgICAgICAgICAgaWYgKCRnZXRfY29kZV9zcGFuLnRleHQoKSA9PT0gXCJHZXQgY29kZVwiKSB7XG4gICAgICAgICAgICAgICAgLy9zaG93IGxvYWRpbmdcbiAgICAgICAgICAgICAgICAkKFwiLmdseXBoaWNvbi1yZWZyZXNoLWFuaW1hdGVcIikuY3NzKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgICAgICAgICAgJChcIiNtYWluX3Jlc3VsdF9jb2RlX2RpdlwiKS5zbGlkZURvd24oNTAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy93cml0ZSBhbGxfY2hhcnRfb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAkZ2V0X2NvZGVfc3Bhbi50ZXh0KFwiSGlkZSBjb2RlXCIpO1xuICAgICAgICAgICAgICAgICAgICB3cml0ZV9jb2RlLndyaXRlQ29kZShhbGxfY2hhcnRfb3B0aW9ucywgYWxsX21hcF9vcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgLy9oaWRlIGxvYWRpbmdcbiAgICAgICAgICAgICAgICAgICAgJChcIi5nbHlwaGljb24tcmVmcmVzaC1hbmltYXRlXCIpLmNzcyhcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKFwiI21haW5fcmVzdWx0X2NvZGVfZGl2XCIpLnNsaWRlVXAoNTApO1xuICAgICAgICAgICAgICAgICRnZXRfY29kZV9zcGFuLnRleHQoXCJHZXQgY29kZVwiKTtcbiAgICAgICAgICAgICAgICAkKFwiI2NoYXJ0X291dHB1dF9jb2RlLCAjY2hhcnRfaHRtbF9jb2RlXCIpLnZhbChcIlwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcyhcImNvZGVfb25cIik7XG5cbiAgICAgICAgLy8gICAgJChcIi5jaGFydF9kaXNwbGF5X2FyZWEsIC5tYXBfZGlzcGxheV9hcmVhXCIpLnRvZ2dsZUNsYXNzKFwiZml4ZWRcIik7IC8vc28gY2hhcnQgd2lsbCBnbyBkb3duIHRvIHN0aWxsIGJlIHZpc2libGVcblxuICAgICAgICAgICAgLy9zY3JvbGwgdG8gdG9wIG9mIHBhZ2VcbiAgICAgICAgICAgICQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogMFxuICAgICAgICAgICAgfSwgXCJzbG93XCIpO1xuXG5cbiAgICAgICAgfSk7XG5cbiAgICB9LFxuXG5cblxuXG5cbiAgICAvKiogd2hlbiBhIGhlbHAgaWNvbiBpcyBjbGlja2VkICovXG4gICAgaGVscEljb25DbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoXCIuaGVscF9pY29uXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoXCJoZWxwX29uXCIpO1xuXG4gICAgICAgICAgICAkKFwiLm5vdGVzXCIsICQodGhpcykucGFyZW50cyhcIi5kaXNwbGF5LCAjbWFpbl9yZXN1bHRfY29kZV9kaXYsICNsb2FkX2NoYXJ0X2RpdiwgI3NpZGVfbmF2X3RvcCwgI2FyZWFzX2NvbG9yZWRfcmVwb3J0X2RpdlwiKSkudG9nZ2xlKCk7XG5cbiAgICAgICAgfSk7XG5cbiAgICB9LFxuXG5cblxuXG5cbiAgICAvKiogd2hlbiBzaG93X2xvYWRfY2hhcnRfYXJlYV9idXR0b24gaXMgY2xpY2tlZCwgc2hvdyB0aGF0IGVudHJ5IGFyZWEgKiovXG5cbiAgICBsb2FkQ2hhcnRCdXR0b25DbGljazogZnVuY3Rpb24gKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucykge1xuICAgICAgICAkKFwiI3Nob3dfbG9hZF9jaGFydF9hcmVhX2J1dHRvblwiKS51bmJpbmQoKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKFwiI21haW5fcmVzdWx0X2NvZGVfZGl2XCIpLnNsaWRlVXAoNTAsIGZ1bmN0aW9uICgpIHsgLy9oaWRlIHRoZSBnZXQgY29kZSBhcmVhIGlmIGl0J3Mgc2hvd2luZ1xuICAgICAgICAgICAgICAgICQoXCIjbG9hZF9jaGFydF9kaXZcIikuc2xpZGVUb2dnbGUoNTApO1xuICAgICAgICAgICAgICAgICQoXCIuY29kZV9vblwiKS5yZW1vdmVDbGFzcyhcImNvZGVfb25cIik7XG4gICAgICAgICAgICAgICAgJChcIiNnZXRfY29kZV90ZXh0XCIpLnRleHQoXCJHZXQgY29kZVwiKTtcbiAgICAgICAgICAgICAgIC8vICQoXCIuY2hhcnRfZGlzcGxheV9hcmVhXCIpLnRvZ2dsZUNsYXNzKFwiZml4ZWRcIik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcyhcImxvYWRfY2hhcnRfc2hvd2luZ1wiKTtcbiAgICAgICAgfSk7XG5cbiAgICB9LFxuXG5cblxuXG5cbiAgICAvKiogd2hlbiBhcmVhcyBvZiB0aGUgY2hhcnQgYXJlIGNsaWNrZWQsIG9wZW4gdGhhdCBzZWN0aW9uICoqL1xuICAgIGNoYXJ0Q2xpY2tzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgLy9naXZlIGFwcGxpY2FibGUgY2hhcnQgYXJlYXMgcG9pbnRlciBtb3VzZVxuICAgICAgICAkKFwiLmhpZ2hjaGFydHMteWF4aXMtbGFiZWxzIHRleHQsIC5oaWdoY2hhcnRzLXhheGlzLWxhYmVscyB0ZXh0LCAuaGlnaGNoYXJ0cy10b29sdGlwLCAuaGlnaGNoYXJ0cy1zZXJpZXMtZ3JvdXAsIHN2Zz50ZXh0Omxhc3QtY2hpbGRcIikudW5iaW5kKCkuY3NzKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKTtcblxuICAgICAgICAvL3N1YnRpdGxlXHRcbiAgICAgICAgLy8gICAgICAgICQoXCIuaGlnaGNoYXJ0cy1zdWJ0aXRsZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdWJcIik7XG4gICAgICAgIC8vICAgICAgICB9KTtcblxuICAgICAgICAvL3kgYXhpcyBsYWJlbFxuICAgICAgICAvLyAgICAgICAgJChcIi5oaWdoY2hhcnRzLXlheGlzLXRpdGxlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwieSB0aXRsZVwiKTtcbiAgICAgICAgLy8gICAgICAgIH0pO1xuXG4gICAgICAgICQoXCIuaGlnaGNoYXJ0cy15YXhpcy1sYWJlbHNcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChcIiN0YWJfY2hhcnRfeV9heGlzXCIpLmNsaWNrKCk7XG4gICAgICAgICAgICAkKFwiI2NoYXJ0X3lfYXhpc190aXRsZV90ZXh0YXJlYVwiKS5zZWxlY3QoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy94IGF4aXMgXG4gICAgICAgIC8vICAgICAgICAkKFwiLmhpZ2hjaGFydHMteGF4aXMtdGl0bGVcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyAgY29uc29sZS5sb2coXCJ4IHRpdFwiKTtcbiAgICAgICAgLy8gICAgICAgIH0pO1xuXG4gICAgICAgICQoXCIuaGlnaGNoYXJ0cy14YXhpcy1sYWJlbHNcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChcIiN0YWJfY2hhcnRfeF9heGlzXCIpLmNsaWNrKCk7XG4gICAgICAgICAgICAkKFwiI2NoYXJ0X3hfYXhpc190aXRsZV90ZXh0YXJlYVwiKS5zZWxlY3QoKTtcblxuICAgICAgICB9KTtcblxuICAgICAgICAvL2NyZWRpdHNcbiAgICAgICAgJChcInN2Zz50ZXh0Omxhc3QtY2hpbGRcIikuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICQoXCIjdGFiX2NoYXJ0X2NyZWRpdHNcIikuY2xpY2soKTtcbiAgICAgICAgICAgICQoXCIjY2hhcnRfY3JlZGl0c190ZXh0X3RleHRhcmVhXCIpLnNlbGVjdCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL3Rvb2x0aXBcbiAgICAgICAgJChcIi5oaWdoY2hhcnRzLXNlcmllcy1ncm91cCwgLmhpZ2hjaGFydHMtdG9vbHRpcFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoJChcIiNjaGFydF90eXBlX2ljb25zIC5zZWxlY3RlZFwiKS5kaXZWYWwoKSAhPT0gXCJkcmlsbGRvd25cIikge1xuICAgICAgICAgICAgICAgICQoXCIjdGFiX2NoYXJ0X3Rvb2x0aXBcIikuY2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9LFxuXG5cbiAgICAvKiogQmluZCBvcGVuIGNvZGUgZWRpdG9yIGJ1dHRvbiAqKi9cblxuICAgIG9wZW5Db2RlRWRpdG9yQ2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKFwiI29wZW5fY29kZV9lZGl0b3JfYnV0dG9uXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJleHBvcnRfY29kZV9odG1sXCIsICQoXCIjY2hhcnRfaHRtbF9jb2RlXCIpLnZhbCgpKTtcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJleHBvcnRfY29kZV9qc1wiLCAkKFwiI2NoYXJ0X291dHB1dF9jb2RlXCIpLnZhbCgpKTtcblxuICAgICAgICAgICAgdmFyIG5ld0NoYXJ0V2luZG93ID0gd2luZG93Lm9wZW4oXCJjb2RlX2VkaXRvci9jb2RlLWVkaXRvci5odG1cIiwgXCJfYmxhbmtcIik7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cblxuXG5cblxuICAgIC8qKiBJTklUIEFMTCBOQVZJR0FUSU9OIHRoYXQgbmVlZHMgcGFyYW1ldGVycywgY2FsbGVkIGZyb20gYWxsX2Zvcm1fdXBkYXRlcyB3aGVuIHBhZ2UgaXMgbG9hZGVkLCBhbmQgd2hlbmV2ZXIgYSBzYXZlZCBjaGFydCBpcyBsb2FkZWQgKiovXG4gICAgaW5pdE5hdldpdGhDaGFydDogZnVuY3Rpb24gKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucywgYWxsX21hcF9vcHRpb25zKSB7XG5cbiAgICAgICAgLy8gIG5hdmlnYXRpb25fc2V0dXAuY2hhcnRPdXRwdXRDb2RlRm9jdXMoYWxsX2NoYXJ0X29wdGlvbnMsIGFsbF9tYXBfb3B0aW9ucyk7XG4gICAgICAgIG5hdmlnYXRpb25fc2V0dXAuZ2V0Q29kZUJ1dHRvbkNsaWNrKGFsbF9jaGFydF9vcHRpb25zLCBhbGxfbWFwX29wdGlvbnMpO1xuICAgICAgICBuYXZpZ2F0aW9uX3NldHVwLmxvYWRDaGFydEJ1dHRvbkNsaWNrKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG4gICAgICAgIG5hdmlnYXRpb25fc2V0dXAuc2lkZU5hdlRhYnNDaGFuZ2UoY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICAgICAgbmF2aWdhdGlvbl9zZXR1cC5jaGFydENsaWNrcygpO1xuXG4gICAgICAgIGtleWJvYXJkX2lucHV0cy5pbml0TGlzdGVuZXJzKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG4gICAgICAgIGtleWJvYXJkX2lucHV0cy5zaWRlTmF2VGFiU2hvcnRjdXRzKGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucyk7XG5cbiAgICB9LFxuXG5cbiAgICAvKiogRklSU1QgTkFWSUdBVElPTiBJTklULCBjYWxsZWQgZnJvbSBhcHAuanMgd2hlbiBwYWdlIGlzIGxvYWRlZC4gVGhlc2UgbmV2ZXIgbmVlZCB0byBiZSByZS1pbml0aWFsaXplZCAqKi9cbiAgICBmaXJzdE5hdkluaXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBuYXZpZ2F0aW9uX3NldHVwLmNsb3NlQm94SWNvbkNsaWNrKCk7XG4gICAgICAgIG5hdmlnYXRpb25fc2V0dXAuY2xlYXJOZXh0VGV4dGFyZWFDbGljaygpO1xuICAgICAgICBuYXZpZ2F0aW9uX3NldHVwLmNvbG9yUGFsZXR0ZVJldmVyc2VJY29uQ2xpY2soKTtcbiAgICAgICAgbmF2aWdhdGlvbl9zZXR1cC5oZWxwSWNvbkNsaWNrKCk7XG4gICAgICAgIG5hdmlnYXRpb25fc2V0dXAub3BlbkNvZGVFZGl0b3JDbGljaygpO1xuXG4gICAgfVxuXG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSBuYXZpZ2F0aW9uX3NldHVwOyIsIiAgICB2YXIgY2hhcnRfYW5pbWF0aW9uX2luaXQgPSByZXF1aXJlKFwiLi4vaW5pdGlhbGl6ZXJzL2NoYXJ0cy9jaGFydF9hbmltYXRpb25faW5pdC5qc1wiKTtcbiAgICB2YXIgdXRpbHNfbWFpbiA9IHJlcXVpcmUoXCIuLi91dGlscy91dGlsc19tYWluLmpzXCIpO1xuXG4gICAgLyoqIFxuICAgICAqIFBhcnNpbmcgZnVuY3Rpb24gZm9yIGFuaW1hdGVkIGJ1YmJsZSBjaGFydHNcbiAgICAgKiBAbW9kdWxlXG4gICAgICogQHBhcmFtIGlucHV0IHtlbGVtZW50fSBpbnB1dCBqcXVlcnkgdGFibGUgZWxlbWVudCByZXRyaWV2ZWQgZnJvbSB0ZXh0YXJlYVxuICAgICAqIEBwYXJhbSBjaGFydF90eXBlIHtzdHJpbmd9IHR5cGUgb2YgY2hhcnQgKGxpbmUsIGJhciBldGMuKVxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IE9iamVjdCB3aXRoIGNoYXJ0IHRpdGxlLCBYLWF4aXMgY2F0ZWdvcmllcyBhbmQgc2VyaWVzIGFycmF5IG9mIG9iamVjdHNcbiAgICAgKi9cbiAgICB2YXIgcGFyc2VGb3JBbmltYXRlZEJ1YmJsZSA9IGZ1bmN0aW9uIChpbnB1dCwgY2hhcnRfdHlwZSwgY29sb3JzLCBjaGFydCwgYWxsX2NoYXJ0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IHt9OyAvL29iaiB0aGF0IGdldHMgcmV0dXJuZWRcbiAgICAgICAgb3V0cHV0LnhfYXhpc19jYXRlZ29yaWVzID0gdW5kZWZpbmVkOyAvL3Jlc2V0cyB0aGlzIGluIGNhc2UgdGhlcmUgd2VyZSBwcmV2aW91cyBjYXRlZ29yaWVzXG5cbiAgICAgICAgLy9zZXQgdXAgYXJyYXkgb2YgZGF0YSBhcnJheXMgdG8gYmUgdXNlZCBpbiB0aGUgdGltZWxpbmUuIHRoaXMgZGF0YVt0aW1lXSB3aWxsIHJlcGxhY2UgZGF0YSBpbiB0aGUgaW5pdGlhbCBzZXJpZXMgYXJyYXkgd2hlbiBpdCdzIGFuaW1hdGVkXG4gICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnRpbWVsaW5lID0ge307XG4gICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnRpbWVsaW5lLmRhdGEgPSBbXTtcbiAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMudGltZWxpbmUuZGF0ZXMgPSBbXTsgLy9lLmcuIHllYXJzIC0gdG8gYmUgcG9wdWxhdGVkIGJ5IGVhY2ggcm93IGhlYWRlci5cbiAgICAgICAgb3V0cHV0LnNlcmllcyA9IFtdOyAvL2luaXRpYWwgc2VyaWVzIGFycmF5IC0gZ2V0cyBhIHNlcmllc09iaiBmb3IgZWFjaCBzZXJpZXNcblxuICAgICAgICAvL3Jlc2V0IG1pbnMgYW5kIG1heGVzICh1c2VkIGZvciBwbGFjaW5nIGludmlzaWJsZSBtaW4gYW5kIG1heCBzaXplZCBidWJibGVzIHNvIG90aGVyIGJ1YmJsZXMgYXJlbid0IHJlc2l6ZWQgd2hlbiBhbmltYXRlZClcbiAgICAgICAgdXRpbHNfbWFpbi5saW1pdHMucmVzZXRNYXgoKTtcblxuXG4gICAgICAgIC8vZ2V0IGRhdGEgZm9yIGVhY2ggYnViYmxlIGFuZCBwdXNoIHRvIGFuZCB0aW1lbGluZS5kYXRlc1xuXG4gICAgICAgICQoXCJ0Ym9keSB0clwiLCBpbnB1dCkuZWFjaChmdW5jdGlvbiAoaSwgcm93KSB7XG4gICAgICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy50aW1lbGluZS5kYXRlcy5wdXNoKCQudHJpbSgkKFwidGg6ZXEoMClcIiwgcm93KS50ZXh0KCkpKTtcblxuXG4gICAgICAgICAgICAvLyAgICBnZXQgZGF0YSB2YWx1ZXMgZnJvbSBlYWNoIHJvdydzIHRkIGNlbGxzIChldmVyeSB0aGlyZCBjZWxsIGZvciB4eXogZ3JvdXBzKVxuICAgICAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMudGltZWxpbmUuZGF0YS5wdXNoKFtdKTtcbiAgICAgICAgICAgICQoXCJ0ZDpudGgtY2hpbGQoM24gLSAxKVwiLCByb3cpLmVhY2goZnVuY3Rpb24gKGopIHtcbiAgICAgICAgICAgICAgICB2YXIgeCA9ICQodGhpcykuZ2V0TnVtYmVyKCk7XG4gICAgICAgICAgICAgICAgdmFyIHkgPSAkKHRoaXMpLm5leHQoKS5nZXROdW1iZXIoKTtcbiAgICAgICAgICAgICAgICB2YXIgeiA9ICQodGhpcykubmV4dCgpLm5leHQoKS5nZXROdW1iZXIoKTtcblxuICAgICAgICAgICAgICAgIC8vZ2V0IG1pbiBhbmQgbWF4IGJ1YmJsZSBzaXplcyB0byB1c2UgbGF0ZXIgZm9yIGludmlzaWJsZSBidWJibGVzLlxuICAgICAgICAgICAgICAgIHV0aWxzX21haW4ubGltaXRzLnNldE1heCh6KTtcbiAgICAgICAgICAgICAgICB1dGlsc19tYWluLmxpbWl0cy5zZXRNaW4oeik7XG5cbiAgICAgICAgICAgICAgICB2YXIgeHl6X2FyciA9IFt4LCB5LCB6XTtcblxuICAgICAgICAgICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnRpbWVsaW5lLmRhdGFbaV0ucHVzaCh4eXpfYXJyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuXG5cblxuXG4gICAgICAgIC8vZm9yIGVhY2ggc2VyaWVzIG5hbWUgaW4gdGhlIHRvcCByb3cgb2YgdGhlIHRhYmxlIGhlYWRlciBtYWtlIGEgc2VyaWVzIHdpdGggYSBidWJibGUgZm9yIHRoZSBmaXJzdCByb3cgaW4gdGhlIHRib2R5XG4gICAgICAgICQoXCJ0aGVhZCB0cjplcSgwKSB0aDpndCgwKVwiLCBpbnB1dCkuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgdmFyIHNlcmllc19vYmogPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogJC50cmltKCQodGhpcykudGV4dCgpKSxcbiAgICAgICAgICAgICAgICBkYXRhOiBbYWxsX2NoYXJ0X29wdGlvbnMudGltZWxpbmUuZGF0YVswXVtpXV0sXG4gICAgICAgICAgICAgICAgZGF0ZTogYWxsX2NoYXJ0X29wdGlvbnMudGltZWxpbmUuZGF0ZXNbMF0sXG4gICAgICAgICAgICAgICAgdHlwZTogY2hhcnRfdHlwZSxcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGg6IDAsXG4gICAgICAgICAgICAgICAgbWFya2VyOiB7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvcnNbaV0sXG4gICAgICAgICAgICAgICAgX3N5bWJvbEluZGV4OiBpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgb3V0cHV0LnNlcmllcy5wdXNoKHNlcmllc19vYmopO1xuICAgICAgICB9KTtcblxuXG5cbiAgICAgICAgLy9wdXQgaW4gdGhlIGludmlzaWJsZSBwbGFjZWhvbGRlciBzZXJpZXMgdGhhdCBhcmUgYmFzZWQgb24gdGhlIG1pbi9tYXggdmFsdWVzIC0gdGhpcyB3YXkgYnViYmxlcyByZXNpemUgYWdhaW5zdCBhIGNvbnN0YW50XG5cbiAgICAgICAgLy9wdXQgbWluIGFuZCBtYXggYXJyYXlzIGluXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhbGxfY2hhcnRfb3B0aW9ucy50aW1lbGluZS5kYXRhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy50aW1lbGluZS5kYXRhW2ldLnVuc2hpZnQoWzAsIDAsIHV0aWxzX21haW4ubGltaXRzLmdldE1pbigpXSwgWzAsIDAsIHV0aWxzX21haW4ubGltaXRzLmdldE1heCgpXSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHZhciBtaW5fc2l6ZV9wbGFjZWhvbGRlciA9IHtcbiAgICAgICAgICAgIG5hbWU6IFwiaW52aXNpYmxlIG1pbiBzaXplIHBsYWNlaG9sZGVyIHNlcmllc1wiLFxuICAgICAgICAgICAgZGF0YTogW2FsbF9jaGFydF9vcHRpb25zLnRpbWVsaW5lLmRhdGFbMF1bMF1dLFxuICAgICAgICAgICAgZGF0ZTogYWxsX2NoYXJ0X29wdGlvbnMudGltZWxpbmUuZGF0ZXNbMF0sXG4gICAgICAgICAgICB0eXBlOiBjaGFydF90eXBlLFxuICAgICAgICAgICAgbGluZVdpZHRoOiAwLFxuICAgICAgICAgICAgbWFya2VyOiB7XG4gICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb2xvcjogXCJub25lXCIsXG4gICAgICAgICAgICBzaG93SW5MZWdlbmQ6IGZhbHNlLFxuICAgICAgICAgICAgekluZGV4OiAtMVxuICAgICAgICB9O1xuXG5cblxuICAgICAgICB2YXIgbWF4X3NpemVfcGxhY2Vob2xkZXIgPSAkLmV4dGVuZCh7fSwgbWluX3NpemVfcGxhY2Vob2xkZXIsIHtcbiAgICAgICAgICAgIG5hbWU6IFwiaW52aXNpYmxlIG1heCBzaXplIHBsYWNlaG9sZGVyIHNlcmllc1wiLFxuICAgICAgICAgICAgZGF0YTogW2FsbF9jaGFydF9vcHRpb25zLnRpbWVsaW5lLmRhdGFbMF1bMV1dXG4gICAgICAgIH0pO1xuXG4gICAgICAgIG91dHB1dC5zZXJpZXMudW5zaGlmdChtaW5fc2l6ZV9wbGFjZWhvbGRlciwgbWF4X3NpemVfcGxhY2Vob2xkZXIpO1xuXG5cblxuXG4gICAgICAgIC8qKiBDcmVhdGVzIGFuZCBwbGFjZXMgYSBkaXYgY29udGFpbmluZyBhIHNsaWRlciBhbmQgcGxheSBhbmQgcGF1c2UgYnV0dG9ucyB0byBhbmltYXRlZCB0aGUgY2hhcnQuIEFsc28gc2V0IHRoZWlyIGZ1bmN0aW9ucyAgKiovXG4gICAgICAgIGFsbF9jaGFydF9vcHRpb25zLnRpbWVsaW5lLmFuaW1hdGlvbiA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgLy9vdXRlciBkaXYvL1xuICAgICAgICAgICAgdmFyIGNoYXJ0X2FuaW1hdGlvbl9kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgJChjaGFydF9hbmltYXRpb25fZGl2KS5jc3Moe1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgdG9wOiBcIjMzcHhcIixcbiAgICAgICAgICAgICAgICBcIm1hcmdpbi1sZWZ0XCI6IFwiMjBweFwiLFxuICAgICAgICAgICAgICAgIFwiei1pbmRleFwiOiBcIjUwMFwiLFxuICAgICAgICAgICAgICAgIFwibWFyZ2luLWJvdHRvbVwiOiBcIi02cHhcIixcbiAgICAgICAgICAgICAgICBcIi13ZWJraXQtdXNlci1zZWxlY3RcIjogXCJub25lXCIgIFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5hZGRDbGFzcyhcImNoYXJ0X2FuaW1hdGlvbl9kaXZcIik7XG4gICAgICAgICAgICBcblxuICAgICAgICAgICAgLy9hbmltYXRpb24gdGl0bGUgKGkuZS4gZGF0ZSBzaG93bikvL1xuICAgICAgICAgICAgdmFyIGFuaW1hdGlvbl90aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgICAgICAgICAgXG4gICAgICAgICAgICAkKGFuaW1hdGlvbl90aXRsZSkudGV4dChhbGxfY2hhcnRfb3B0aW9ucy50aW1lbGluZS5kYXRlc1swXSlcbiAgICAgICAgICAgIC5jc3Moe1xuICAgICAgICAgICAgICAgIG1hcmdpbjogXCIwcHhcIixcbiAgICAgICAgICAgICAgICBcImZvbnQtZmFtaWx5XCI6IFwic2Fucy1zZXJpZlwiLFxuICAgICAgICAgICAgICAgIFwiZm9udC13ZWlnaHRcIjogXCIyMDBcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjMzM3YWI3XCIsXG4gICAgICAgICAgICAgICAgXCJmb250LXNpemVcIjogXCIyMHB4XCIsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICB0b3A6IFwiMTBweFwiLFxuICAgICAgICAgICAgICAgIGZsb2F0OiBcImxlZnRcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5hZGRDbGFzcyhcImFuaW1hdGlvbl90aXRsZVwiKTtcbiAgICAgICAgICAgIFxuXG5cbiAgICAgICAgICAgIC8vc2xpZGVyLy9cbiAgICAgICAgICAgIHZhciBjaGFydF9zbGlkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG5cbiAgICAgICAgICAgICQoY2hhcnRfc2xpZGVyKS5hdHRyKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJyYW5nZVwiLFxuICAgICAgICAgICAgICAgICAgICBtaW46IFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICBtYXg6IGFsbF9jaGFydF9vcHRpb25zLnRpbWVsaW5lLmRhdGVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M6IFwiY2hhcnRfc2xpZGVyXCJcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBmbG9hdDogXCJsZWZ0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwibWFyZ2luLXJpZ2h0XCI6IFwiMTBweFwiLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjMzM3YWI3XCIsXG4gICAgICAgICAgICAgICAgICAgIFwiZm9udC1zaXplXCI6IFwiMThweFwiLFxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIzNTBweFwiLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IFwiMTVweFwiXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJpbnB1dCBjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3X3RpbWVfaW5kZXggPSB0aGlzLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChjaGFydC5zZXJpZXMsIGZ1bmN0aW9uIChpLCBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogW2FsbF9jaGFydF9vcHRpb25zLnRpbWVsaW5lLmRhdGFbbmV3X3RpbWVfaW5kZXhdW2ldXVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbl90aXRsZS50ZXh0Q29udGVudCA9IGFsbF9jaGFydF9vcHRpb25zLnRpbWVsaW5lLmRhdGVzW25ld190aW1lX2luZGV4XTtcbiAgICAgICAgICAgICAgICB9KTtcblxuXG5cblxuXG5cbiAgICAgICAgICAgIHZhciBwbGF5aW5nOyAvL2JlY29tZXMgc2V0VGltZW91dCBmdW5jdGlvbiBwbGF5aW5nIHN0ZXBGb3J3YXJkLy9cblxuICAgICAgICAgICAgLy9zZXQgc3RlcCBmb3J3YXJkIGZ1bmN0aW9uLy9cbiAgICAgICAgICAgIHZhciBzdGVwRm9yd2FyZCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHZhciAkY2hhcnRfc2xpZGVyID0gJChjaGFydF9zbGlkZXIpO1xuICAgICAgICAgICAgICAgICRjaGFydF9zbGlkZXIudmFsKCkgPT09ICRjaGFydF9zbGlkZXIuYXR0cihcIm1heFwiKSA/ICRjaGFydF9zbGlkZXIudmFsKDApLnRyaWdnZXIoXCJpbnB1dFwiKSA6ICRjaGFydF9zbGlkZXIudmFsKE51bWJlcigkY2hhcnRfc2xpZGVyLnZhbCgpKSArIDEpLnRyaWdnZXIoXCJpbnB1dFwiKTtcbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgLy9wbGF5IGJ1dHRvbi8vXG4gICAgICAgICAgICB2YXIgcGxheV9idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgICAgICAgICAkKHBsYXlfYnV0dG9uKS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBmbG9hdDogXCJsZWZ0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwibWFyZ2luLXJpZ2h0XCI6IFwiMTBweFwiLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjMzM3YWI3XCIsXG4gICAgICAgICAgICAgICAgICAgIFwiZm9udC1zaXplXCI6IFwiMjRweFwiLFxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IFwiNHB4XCJcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5odG1sKFwiXFx1MjVCNlwiKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhcImNoYXJ0X3BsYXlfYnV0dG9uXCIpXG4gICAgICAgICAgICAgICAgLmNsaWNrKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcyhcInBsYXlpbmdcIikpIHsgLy9pZiBwbGF5aW5nLCBzdG9wLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJwbGF5aW5nXCIpLmh0bWwoXCJcXHUyNUI2XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChwbGF5aW5nKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgLy9pZiBzdG9wcGVkLCBzdGFydCBwbGF5aW5nLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlpbmcgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcEZvcndhcmQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJwbGF5aW5nXCIpLmh0bWwoXCImbmJzcDsgfHxcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuXG5cblxuICAgICAgICAgICAgLy9wdXQgaXQgYWxsIHRvZ2V0aGVyIGluIHRoZSBkaXYvL1xuICAgICAgICAgICAgY2hhcnRfYW5pbWF0aW9uX2Rpdi5hcHBlbmRDaGlsZChwbGF5X2J1dHRvbik7XG4gICAgICAgICAgICBjaGFydF9hbmltYXRpb25fZGl2LmFwcGVuZENoaWxkKGNoYXJ0X3NsaWRlcik7XG4gICAgICAgICAgICBjaGFydF9hbmltYXRpb25fZGl2LmFwcGVuZENoaWxkKGFuaW1hdGlvbl90aXRsZSk7XG5cbiAgICAgICAgICAgIHZhciBjaGFydF9pZCA9IFwiI1wiICsgYWxsX2NoYXJ0X29wdGlvbnMuY2hhcnQucmVuZGVyVG87XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKGNoYXJ0X2lkKS5wcmVwZW5kKGNoYXJ0X2FuaW1hdGlvbl9kaXYpO1xuICAgICAgICAgICAgfSwgMTAwKTtcblxuICAgICAgICB9O1xuICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy50aW1lbGluZS5hbmltYXRpb24oKTtcblxuXG5cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBwYXJzZUZvckFuaW1hdGVkQnViYmxlOyIsIi8qKiBcbiAqIFBhcnNpbmcgZnVuY3Rpb24gZm9yIGJ1YmJsZSBjaGFydHNcbiAqIEBtb2R1bGVcbiAqIEBwYXJhbSBpbnB1dCB7ZWxlbWVudH0gaW5wdXQganF1ZXJ5IHRhYmxlIGVsZW1lbnQgcmV0cmlldmVkIGZyb20gdGV4dGFyZWFcbiAqIEBwYXJhbSBjaGFydF90eXBlIHtzdHJpbmd9IHR5cGUgb2YgY2hhcnQgKGxpbmUsIGJhciBldGMuKVxuICogQHJldHVybnMge29iamVjdH0gT2JqZWN0IHdpdGggY2hhcnQgdGl0bGUsIFgtYXhpcyBjYXRlZ29yaWVzIGFuZCBzZXJpZXMgYXJyYXkgb2Ygb2JqZWN0c1xuICovXG52YXIgcGFyc2VGb3JCdWJibGUgPSBmdW5jdGlvbiAoaW5wdXQsIGNoYXJ0X3R5cGUsIGNvbG9ycykge1xuICAgIHZhciBvdXRwdXQgPSB7fTtcbiAgICBvdXRwdXQueF9heGlzX2NhdGVnb3JpZXMgPSB1bmRlZmluZWQ7IC8vcmVzZXRzIHRoaXMgaW4gY2FzZSB0aGVyZSB3ZXJlIHByZXZpb3VzIGNhdGVnb3JpZXNcblxuICAgIC8vbG9hZCBzZXJpZXMgbmFtZXMgZnJvbSByb3cgaGVhZHMsIGFuZCBkYXRhIGZyb20gcm93IHRkc1xuICAgIG91dHB1dC5zZXJpZXMgPSBbXTtcbiAgICAkKFwidGJvZHkgdHJcIiwgaW5wdXQpLmVhY2goZnVuY3Rpb24gKGkpIHtcblxuICAgICAgICB2YXIgdGhpc19yb3cgPSAkKHRoaXMpO1xuXG4gICAgICAgIHZhciBzZXJpZXNPYmogPSB7XG4gICAgICAgICAgICBuYW1lOiAkLnRyaW0oJChcInRoOmVxKDApXCIsIHRoaXNfcm93KS50ZXh0KCkpLFxuICAgICAgICAgICAgZGF0YTogW10sXG4gICAgICAgICAgICB0eXBlOiBjaGFydF90eXBlLFxuICAgICAgICAgICAgbGluZVdpZHRoOiAwLFxuICAgICAgICAgICAgbWFya2VyOiB7XG4gICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbG9yOiBjb2xvcnNbaV0sXG4gICAgICAgICAgICBfc3ltYm9sSW5kZXg6IGlcbiAgICAgICAgfTtcblxuICAgICAgICAvL2dldCBkYXRhIHZhbHVlcyBmcm9tIGVhY2ggcm93J3MgdGQgY2VsbHMgKGV2ZXJ5IHRoaXJkIGNlbGwgZm9yIHh5eiBncm91cHMpXG4gICAgICAgICQoXCJ0ZDpudGgtY2hpbGQoM24gLSAxKVwiLCB0aGlzX3JvdykuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgdmFyIHggPSAkKHRoaXMpLmdldE51bWJlcigpO1xuICAgICAgICAgICAgdmFyIHkgPSAkKHRoaXMpLm5leHQoKS5nZXROdW1iZXIoKTtcbiAgICAgICAgICAgIHZhciB6ID0gJCh0aGlzKS5uZXh0KCkubmV4dCgpLmdldE51bWJlcigpO1xuICAgICAgICAgICAgdmFyIHh5el9hcnIgPSBbeCwgeSwgel07XG4gICAgICAgICAgICBzZXJpZXNPYmouZGF0YS5wdXNoKHh5el9hcnIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBvdXRwdXQuc2VyaWVzLnB1c2goc2VyaWVzT2JqKTtcblxuICAgIH0pO1xuXG4gICAgXG4gICAgcmV0dXJuIG91dHB1dDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyc2VGb3JCdWJibGU7IiwiICAgIC8vZ2V0IHggb3IgeiB2YWwgZm9yIGJ1YmJsZXNcbiAgICB2YXIgZ2V0QnViYmxlVmFsID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICBpZiAoc3RyID09PSBcInhcIikge1xuICAgICAgICAgICAgcmV0dXJuICQodGhpcykucGFyZW50KCkubmV4dCgpLm5leHQoKS5nZXROdW1iZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyID09PSBcInpcIikge1xuICAgICAgICAgICAgcmV0dXJuICQodGhpcykucGFyZW50KCkubmV4dCgpLm5leHQoKS5uZXh0KCkuZ2V0TnVtYmVyKCk7XG4gICAgICAgIH1cblxuICAgIH07XG5cblxuICAgIC8vY3JlYXRlcyBhbmQgcHVzaGVzIGEgbmV3IHNlcmllcyBvYmplY3QgaW50byB0aGUgZHJpbGxkb3duLnNlcmllcyBhcnJheVxuICAgIHZhciBwdXNoRHJpbGxTZXJpZXMgPSBmdW5jdGlvbiAob3V0cHV0LCBkcmlsbF90eXBlLCB0aGlzX25hbWUsIG5leHRfc3ViKSB7XG5cbiAgICAgICAgb3V0cHV0LmRyaWxsZG93bi5zZXJpZXMucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiB0aGlzX25hbWUsXG4gICAgICAgICAgICBpZDogdGhpc19uYW1lLFxuICAgICAgICAgICAgZGF0YTogW10sXG4gICAgICAgICAgICB0eXBlOiBkcmlsbF90eXBlLFxuICAgICAgICAgICAgbGluZVdpZHRoOiAwLFxuICAgICAgICAgICAgc3ViOiBuZXh0X3N1YlxuICAgICAgICB9KTtcbiAgICB9O1xuXG5cblxuICAgIC8qKiBQYXJzaW5nIGZ1bmN0aW9uIGZvciBkcmlsbGRvd24gY2hhcnRzLiBTZWUgaHR0cDovL2FwaS5oaWdoY2hhcnRzLmNvbS9oaWdoY2hhcnRzI2RyaWxsZG93biBmb3IgbW9yZS5cbiAgICAgKiBAbW9kdWxlXG4gICAgICogQHBhcmFtIGlucHV0IHtlbGVtZW50fSBpbnB1dCBqcXVlcnkgdGFibGUgZWxlbWVudCByZXRyaWV2ZWQgZnJvbSB0ZXh0YXJlYVxuICAgICAqIEBwYXJhbSBkcmlsbF90eXBlIHtzdHJpbmd9IHR5cGUgb2YgZHJpbGxkb3duIChjb2x1bW4gb3IgYmFyKVxuICAgICAqIEBwYXJhbSBjb2xvcnMge2FycmF5fVxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IE9iamVjdCB3aXRoIHNlcmllcyBhcnJheSBhbmQgZHJpbGxkb3duIHNlcmllcyBhcnJheSBvZiBvYmplY3RzKi9cbiAgICB2YXIgcGFyc2VGb3JEcmlsbGRvd24gPSBmdW5jdGlvbiAoaW5wdXQsIGRyaWxsX3R5cGUsIGNvbG9ycykge1xuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIC8vbWFpbiBvYmogdGhhdCBnZXRzIGEgc2VyaWVzIGFuZCBkcmlsbGRvd24uc2VyaWVzIGFycmF5cyBhbmQgaXMgcmV0dXJuZWRcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSB7fTtcblxuXG4gICAgICAgICAgICBvdXRwdXQueF9heGlzX2NhdGVnb3JpZXMgPSBkcmlsbF90eXBlID09PSBcImJ1YmJsZVwiID8gbnVsbCA6IFtdO1xuXG4gICAgICAgICAgICAvL3RvcCBzZXJpZXMgYXJyYXlcbiAgICAgICAgICAgIG91dHB1dC5zZXJpZXMgPSBbe1xuICAgICAgICAgICAgICAgIG5hbWU6ICQudHJpbSgkKFwidGhlYWQgdHI6Zmlyc3QgdGg6Zmlyc3RcIiwgaW5wdXQpLnRleHQoKSksXG4gICAgICAgICAgICAgICAgY29sb3JCeVBvaW50OiB0cnVlLFxuICAgICAgICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICAgICAgICAgIHR5cGU6IGRyaWxsX3R5cGVcbiAgICAgICAgICAgIH1dO1xuXG4gICAgICAgICAgICAvL2RyaWxsZG93biBvYmplY3Qgd2l0aCBhIHNlcmllcyBhcnJheSBvZiBvYmplY3RzIC0gdGhhdCB3aWxsIGhhdmUgYSBuYW1lLCBpZCwgYW5kIGRhdGEgYXJyYXlcbiAgICAgICAgICAgIG91dHB1dC5kcmlsbGRvd24gPSB7XG4gICAgICAgICAgICAgICAgZHJpbGxVcEJ1dHRvbjoge1xuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVRvOiAnc3BhY2luZ0JveCcsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgeDogMFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXJpZXM6IFtdXG4gICAgICAgICAgICB9O1xuXG5cblxuICAgICAgICAgICAgLyoqIHBhcnNpbmcgZnVuY3Rpb24gZm9yIHRvcCBsZXZlbCBzZXJpZXMgKiovXG4gICAgICAgICAgICB2YXIgcGFyc2VUb3BMZXZlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvcF9pbmRleGVzID0gW107XG4gICAgICAgICAgICAgICAgICAgICQoXCJ0Ym9keSB0aCBwXCIsIGlucHV0KS5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISQodGhpcykuaXMoJ1tjbGFzcyo9XCJzdWJcIl0nKSB8fCAkKHRoaXMpLmlzKCdbY2xhc3MqPVwic3ViMFwiXScpKSB7IC8vaWYgY2xhc3MgaXMgc3ViMCBvciBub3RoaW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc19uYW1lID0gJC50cmltKCQodGhpcykudGV4dCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc192YWwgPSAkKHRoaXMpLnBhcmVudCgpLm5leHQoKS5nZXROdW1iZXIoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgaWYgdGhlcmUncyBsZXZlbHMgYmVuZWF0aCB0aGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNfZHJpbGxkb3duID0gJChcInRib2R5IHRoOmVxKFwiICsgKGkgKyAxKSArIFwiKSBwXCIsIGlucHV0KS5pcygnW2NsYXNzPVwic3ViMVwiXScpID8gdGhpc19uYW1lIDogbnVsbDtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBzbywgc2V0IHVwIGEgZHJpbGxkb3duIHNlcmllcyBvYmpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc19kcmlsbGRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wX2luZGV4ZXMucHVzaChpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaERyaWxsU2VyaWVzKG91dHB1dCwgZHJpbGxfdHlwZSwgdGhpc19uYW1lLCBcInN1YjFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQuc2VyaWVzWzBdLmRhdGEucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXNfbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogZHJpbGxfdHlwZSA9PT0gXCJidWJibGVcIiA/IGdldEJ1YmJsZVZhbChcInhcIikgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHRoaXNfdmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6OiBkcmlsbF90eXBlID09PSBcImJ1YmJsZVwiID8gZ2V0QnViYmxlVmFsKFwielwiKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yc1tvdXRwdXQuc2VyaWVzWzBdLmRhdGEubGVuZ3RoXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZHJpbGxfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJpbGxkb3duOiB0aGlzX2RyaWxsZG93bixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWI6IFwic3ViMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9wX2luZGV4ZXM7XG5cbiAgICAgICAgICAgICAgICB9IC8vZW5kIHBhcnNlVG9wTGV2ZWxcblxuXG5cblxuICAgICAgICAgICAgLyoqcGFyc2luZyBmdW5jdGlvbiBmb3Igc3ViIGxldmVscyAqKi9cbiAgICAgICAgICAgIHZhciBkcmlsbF9zZXJpZXNfaW5kZXggPSAwOyAvLyBvdXRwdXQuZHJpbGxkb3duLnNlcmllcyBpbmRleCAoaW5jcmVtZW50cyBhZnRlciB0aGlzX3N1YiA9PT0gY3VycmVudF9zdWIgc3RhdGVtZW50KVxuXG4gICAgICAgICAgICB2YXIgcGFyc2VTdWJMZXZlbCA9IGZ1bmN0aW9uIChjdXJyZW50X3N1YiwgaW5kZXhlcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHJpbGxfZm91bmQgPSBmYWxzZTsgLy9pZiByZXR1cm5lZCBmYWxzZSwgbG9vcCB3aWxsIHN0b3AgY2FsbGluZyB0aGlzIGZ1bmNcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ZXNfY291bnQgPSAwOyAvLyBnZXRzIGluY3JlbWVudGVkIHRvIG1vdmUgdGhyb3VnaCBpbmRleGVzIGFycmF5XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdfaW5kZXhlcyA9IFtdOyAvL2tlZXBzIHRyYWNrIG9mIHJvdyBpbmRleGVzIGZvciBzdGFydCBvZiBlYWNoIHN1YlxuXG4gICAgICAgICAgICAgICAgICAgIC8vL2dvIHRocm91Z2ggZHJpbGxkb3duIHNlcmllcyBhcnJheSBhbmQgcG9wdWxhdGUgd2l0aCBkYXRhXG5cbiAgICAgICAgICAgICAgICAgICAgJChvdXRwdXQuZHJpbGxkb3duLnNlcmllcykuZWFjaChmdW5jdGlvbiAoaSwgZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc19zdWIgPSB0aGlzLnN1YjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNfc3ViID09PSBjdXJyZW50X3N1Yikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoaWdoX2kgPSBpbmRleGVzW2luZGV4ZXNfY291bnQgKyAxXSA/IGluZGV4ZXNbaW5kZXhlc19jb3VudCArIDFdIDogMTAwMDAwMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvd19pID0gaW5kZXhlc1tpbmRleGVzX2NvdW50XTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZ28gdGhyb3VnaCBlYWNoIHJvdyB3aXRoIHRoaXMgc3ViIGFuZCBhZGQgdGhlbSBhcyBhbiBvYmogdG8gdGhhdCBkcmlsbGRvd24gc2VyaWVzIGRhdGEgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwidGJvZHkgdGg6bHQoXCIgKyBoaWdoX2kgKyBcIik6Z3QoXCIgKyBsb3dfaSArIFwiKSBwLlwiICsgdGhpc19zdWIsIGlucHV0KS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNfbmFtZSA9ICQodGhpcykudGV4dCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzX3JvdyA9ICQodGhpcykucGFyZW50KCkucGFyZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzX3Jvd19pbmRleCA9IHRoaXNfcm93LmluZGV4KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzX3kgPSAkKFwidGQ6ZXEoMClcIiwgdGhpc19yb3cpLmdldE51bWJlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgaWYgdGhlcmUncyBhIGxldmVsIGJlbmVhdGggdGhpc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dF9zdWIgPSBcInN1YlwiICsgTnVtYmVyKE51bWJlcih0aGlzX3N1Yi5yZXBsYWNlKFwic3ViXCIsIFwiXCIpKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc19kcmlsbGRvd24gPSAkKFwicFwiLCB0aGlzX3Jvdy5uZXh0KCkpLmlzKCdbY2xhc3M9XCInICsgbmV4dF9zdWIgKyAnXCJdJykgPyB0aGlzX25hbWUgOiBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5kcmlsbGRvd24uc2VyaWVzW2RyaWxsX3Nlcmllc19pbmRleF0uZGF0YS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXNfbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IGRyaWxsX3R5cGUgPT09IFwiYnViYmxlXCIgPyBnZXRCdWJibGVWYWwoXCJ4XCIpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogdGhpc195LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgejogZHJpbGxfdHlwZSA9PT0gXCJidWJibGVcIiA/IGdldEJ1YmJsZVZhbChcInpcIikgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWI6IG5leHRfc3ViLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZHJpbGxfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyaWxsZG93bjogdGhpc19kcmlsbGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiB0aGVyZSB3YXMgYSBuZXh0IHN1YiBsZXZlbCBmb3VuZCwgY3JlYXRlIHRoYXQgZHJpbGxkb3duIHNlcmllcyB3aXRoIGFuIGlkLCBuYW1lLCBhbmQgZW1wdHkgZGF0YSBhcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc19kcmlsbGRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyaWxsX2ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld19pbmRleGVzLnB1c2godGhpc19yb3dfaW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXNoRHJpbGxTZXJpZXMob3V0cHV0LCBkcmlsbF90eXBlLCB0aGlzX25hbWUsIG5leHRfc3ViKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgLy9lbmQgbG9vcCB0aHJvdWdoIHAuW3N1Yl1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyaWxsX3Nlcmllc19pbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ZXNfY291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gLy8gZW5kIGlmIHNwZWNmaWZpYyBzdWJcbiAgICAgICAgICAgICAgICAgICAgfSk7IC8vZW5kIGxvb3AgdGhyb3VnaCBvdXRwdXQuZHJpbGxkb3duLnNlcmllc1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG91dHB1dC5kcmlsbGRvd24uc2VyaWVzKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJpbGxfZm91bmQ6IGRyaWxsX2ZvdW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhlczogbmV3X2luZGV4ZXNcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSAvL2VuZCBwYXJzZVN1YkxldmVsXG5cblxuXG4gICAgICAgICAgICAvL21ha2UgdGhlIHRvcCBsZXZlbCBzZXJpZXMgXG4gICAgICAgICAgICB2YXIgdG9wX2luZGV4ZXMgPSBwYXJzZVRvcExldmVsKCk7XG5cbiAgICAgICAgICAgIC8vICBsb29wIHRocm91Z2ggc3ViIGxldmVscyB1bnRpbCBubyBtb3JlIGRyaWxsZG93bnMgZm91bmRcbiAgICAgICAgICAgIHZhciBjdXJyZW50X3N1YiA9IDE7XG4gICAgICAgICAgICB2YXIgZHJpbGxfc3RhdCA9IHBhcnNlU3ViTGV2ZWwoXCJzdWJcIiArIGN1cnJlbnRfc3ViLCB0b3BfaW5kZXhlcyk7XG5cbiAgICAgICAgICAgIHdoaWxlIChkcmlsbF9zdGF0LmRyaWxsX2ZvdW5kKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudF9zdWIrKztcbiAgICAgICAgICAgICAgICBkcmlsbF9zdGF0ID0gcGFyc2VTdWJMZXZlbChcInN1YlwiICsgY3VycmVudF9zdWIsIGRyaWxsX3N0YXQuaW5kZXhlcyk7XG4gICAgICAgICAgICB9XG5cblxuXG5cbiAgICAgICAgICAgIC8vICAgICAgICBjb25zb2xlLmxvZyhcInRvcF9pbmRleGVzXCIsIHRvcF9pbmRleGVzKTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICAgICAgLy8vLy8vL21ha2UgZmlyc3Qgc3ViIGluZGV4ZXMgLy8vLy9cbiAgICAgICAgICAgIC8vICAgICAgICB2YXIgcGFyc2VTdWJzID0gZnVuY3Rpb24gKGluZGV4ZXMsIHN1Yl9sZXZlbCwgc2tpcF9udW0pIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICAgICAgICAgIHZhciBzdWJfaW5kZXhlcyA9IFtdO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICB2YXIgbmV4dF9zdWJfbGV2ZWwgPSBcInN1YlwiICsgTnVtYmVyKE51bWJlcihzdWJfbGV2ZWwucmVwbGFjZShcInN1YlwiLCBcIlwiKSkgKyAxKTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgY29uc29sZS5sb2cobmV4dF9zdWJfbGV2ZWwpO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgICAgICAgICAgJChpbmRleGVzKS5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAvL2dldCBoaWdoIGFuZCBsb3cgcm93IGluZGV4ZXMgZnJvbSBhcnJheSAtIHRoaXMgaXMgdGhlIHN1YnNldFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgdmFyIGhpZ2hfaSA9IGluZGV4ZXNbaSArIDFdID8gaW5kZXhlc1tpICsgMV0uaW5kZXggOiAxMDAwMDAwMDtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHZhciBsb3dfaSA9IGluZGV4ZXNbaV0uaW5kZXg7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgJChcInRib2R5IHRoOmx0KFwiICsgaGlnaF9pICsgXCIpOmd0KFwiICsgbG93X2kgKyBcIikgcFwiLCBpbnB1dCkuZWFjaChmdW5jdGlvbiAoaiwgZSkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgLy9sb29rIG9ubHkgYXQgdGhlIC5zdWIxIHRoIHAnc1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmlzKCdbY2xhc3MqPVwiJyArIHN1Yl9sZXZlbCArICdcIl0nKSkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvd19pbmRleCA9ICQodGhpcykucGFyZW50KCkucGFyZW50KCkuaW5kZXgoKTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRfaW5kZXggPSByb3dfaW5kZXggKyAxO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dF9yb3dfcF9jbGFzcyA9ICQoXCJ0Ym9keSB0cjplcShcIiArIG5leHRfaW5kZXggKyBcIikgdGggcFwiLCBpbnB1dCkuYXR0cihcImNsYXNzXCIpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dF9yb3dfdGl0bGUgPSAkKFwidGJvZHkgdHI6ZXEoXCIgKyBuZXh0X2luZGV4ICsgXCIpIHRoIHBcIiwgaW5wdXQpLnRleHQoKTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzX25hbWUgPSAkLnRyaW0oJCh0aGlzKS50ZXh0KCkpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc192YWwgPSAkKHRoaXMpLnBhcmVudCgpLm5leHQoKS5nZXROdW1iZXIoKTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAvL2xvb2sgaWYgdGhpcyBoYXMgYSBzdWIgdW5kZXIgaXQsIGlmIHNvLCBhZGQgZHJpbGxkb3duXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0X3Jvd19wX2NsYXNzID09PSBuZXh0X3N1Yl9sZXZlbCkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yl9pbmRleGVzLnB1c2goe1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXNfbmFtZSxcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogcm93X2luZGV4XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNfZHJpbGxkb3duID0gdGhpc19uYW1lO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCBhIGRyaWxsZG93biBzZXJpZXMgb2JqZWN0IHRvIHRoZSBlbmRcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5kcmlsbGRvd24uc2VyaWVzLnB1c2goe1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXNfbmFtZSxcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdGhpc19uYW1lLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGRyaWxsX3R5cGUsXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoOiAwXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpICsgc2tpcF9udW0pO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhvdXRwdXQuZHJpbGxkb3duLnNlcmllcyk7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXNfbmFtZSk7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRkIHRoZSBkYXRhIHRvIHRoZSByZWNlbnRseSBzZXQgdXAgZHJpbGxkb3duIHNlcmllcyBvYmogKGkgaXMgYW4gaW5kZXggb2YgdGhlIGxvb3AgdGhyb3VnaCBpbmRleGVzKVxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQuZHJpbGxkb3duLnNlcmllc1tpICsgc2tpcF9udW1dLmRhdGEucHVzaCh7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzX25hbWUsXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBkcmlsbF90eXBlID09PSBcImJ1YmJsZVwiID8gZ2V0QnViYmxlVmFsKFwieFwiKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHRoaXNfdmFsLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgejogZHJpbGxfdHlwZSA9PT0gXCJidWJibGVcIiA/IGdldEJ1YmJsZVZhbChcInpcIikgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBkcmlsbF90eXBlLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJpbGxkb3duOiB0aGlzX2RyaWxsZG93biB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGg6IDBcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICAgICAgICAgIHJldHVybiBzdWJfaW5kZXhlcztcbiAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgICAgIC8vL0RPIHRoZSBzdWIgbGV2ZWwgcGFyc2luZyBpZiBhcHBsaWNhYmxlIC8vLy9cbiAgICAgICAgICAgIC8vICAgICAgICBpZiAodG9wX2luZGV4ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAvL2ZpcnN0IHJvdW5kIG9mIHN1YnNcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgdmFyIHN1Yl9pbmRleGVzID0gcGFyc2VTdWJzKHRvcF9pbmRleGVzLCBcInN1YjFcIiwgMCk7IC8vKGluZGV4IG9iaiwgY3VycmVudCBzdWIgbGV2ZWwsIG51bWJlciB0byBza2lwIHdoZW4gcHVzaGluZyB0byBkcmlsbGRvd24uc2VyaWVzW2krc2tpcF9udW1dLmRhdGEpXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAvL25leHQgcm91bmRzIG9mIHN1YnNcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgdmFyIHN1Yl9udW0gPSAxO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICB3aGlsZSAoc3ViX2luZGV4ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHZhciBza2lwX251bSA9IHN1Yl9pbmRleGVzLmxlbmd0aCArIDE7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNraXBcIiwgc2tpcF9udW0pO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgc3ViX251bSsrO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdWJcIiwgc3ViX251bSk7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgc3ViX2luZGV4ZXMgPSBwYXJzZVN1YnMoc3ViX2luZGV4ZXMsIFwic3ViXCIgKyBzdWJfbnVtLCBza2lwX251bSk7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICAgICB9XG5cblxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcblxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgICQoXCIuYWxlcnQtZGFuZ2VyXCIpLnRleHQoXCJTb3JyeSwgdGhlIHRhYmxlIHdhc24ndCBmb3JtYXR0ZWQgY29ycmVjdGx5IGZvciBhIGRyaWxsZG93biBjaGFydC4gUGxlYXNlIHNlZSB0aGUgZXhhbXBsZSBvbiB0aGUgZGF0YSB0YWIuXCIpO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKFwiLmFsZXJ0LWRhbmdlclwiKS50ZXh0KFwiXCIpO1xuICAgICAgICAgICAgfSwgMTAwMDApO1xuICAgICAgICB9XG4gICAgfTtcblxuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBwYXJzZUZvckRyaWxsZG93bjsiLCIvKiogXG4gKiBQYXJzaW5nIGZ1bmN0aW9uIGZvciBtYXBzICAtIGFkZHMgdmFsdWVzIHRvIGFsbF9tYXBfb3B0aW9ucy5hcmVhcyBiYXNlZCBvbiB0YWJsZSBpbnB1dFxuICogQG1vZHVsZVxuICogQHBhcmFtIGFsbF9tYXBfb3B0aW9ucyB7b2JqZWN0fSBtYWluIG1hcCBvYmplY3Qgd2l0aCBwYXRoIGFuZCBzdmcgb3B0aW9uc1xuICogQHBhcmFtIGlucHV0IHtlbGVtZW50fSBpbnB1dCBqcXVlcnkgdGFibGUgZWxlbWVudCByZXRyaWV2ZWQgZnJvbSB0ZXh0YXJlYVxuICogQHJldHVybnMge29iamVjdH0gbW9kZGVkIG1hcCBvYmplY3Qgd2l0aCBwYXRoIGQncyBhbmQgZmlsbCBjb2xvcnNcbiAqL1xuXG52YXIgcGFyc2VGb3JNYXAgPSBmdW5jdGlvbiAoYWxsX21hcF9vcHRpb25zLCB0YWJsZV9pbnB1dCkge1xuXG4gICAgYWxsX21hcF9vcHRpb25zLmFyZWFzX25vdF9mb3VuZF9mcm9tX3RhYmxlID0gW107XG5cbiAgICAkKFwidGJvZHkgdHJcIiwgJCh0YWJsZV9pbnB1dCkpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAvL2dldCBsb2NhdGlvbiBuYW1lLCB2YWx1ZSwgYW5kIGV4dHJhIHZhbHVlcyBmcm9tIHRhYmxlIGlucHV0XG5cbiAgICAgICAgdmFyIHRoaXNSb3cgPSB0aGlzO1xuICAgICAgICB2YXIgcm93X2xvY19uYW1lID0gJC50cmltKCQoXCJ0aFwiLCB0aGlzUm93KS50ZXh0KCkpOyAvL2xvY2F0aW9uIG5hbWVcbiAgICAgICAgdmFyIHJvd192YWwgPSAkKFwidGQ6ZXEoMClcIiwgdGhpc1JvdykuZ2V0TnVtYmVyKCk7IC8vbWFpbiB2YWx1ZVxuXG5cbiAgICAgICAgdmFyIGV4dHJhX3ZhbHMgPSBbXTsgLy9leHRyYSB2YWx1ZXNcbiAgICAgICAgdmFyIGFuaW1hdGVkX3ZhbHMgPSBbXTsgLy9hbmltYXRlZCB2YWx1ZXMgZm9yIGFuaW1hdGVkIG1hcHNcblxuXG4gICAgICAgIC8vaWYgYW5pbWF0ZWQsIGFkZCBhbmltYXRlZCB0aXRsZXMgYW5kIHZhbHVlc1xuICAgICAgICBpZiAoYWxsX21hcF9vcHRpb25zLmlzX2FuaW1hdGVkKSB7XG5cbiAgICAgICAgICAgICQoXCJ0ZFwiLCB0aGlzUm93KS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRlZF92YWxzLnB1c2goJCh0aGlzKS5nZXROdW1iZXIoKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy9lbHNlIGFkZCBleHRyYSB2YWx1ZSB0aXRsZXMgYW5kIHZhbHVlc1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAkKFwidGQ6Z3QoMClcIiwgdGhpc1JvdykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZXh0cmFfdmFscy5wdXNoKCQudHJpbSgkKHRoaXMpLnRleHQoKSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuICAgICAgICAvL2Fzc2lnbiB2YWx1ZXMgb24gb2JqcyBpbiBhbGxfbWFwX29wdGlvbnMuYXJlYXMgYXJyYXlcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFsbF9tYXBfb3B0aW9ucy5hcmVhcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXG5cblxuICAgICAgICAgICAgaWYgKGFsbF9tYXBfb3B0aW9ucy5hcmVhc1tpXS5sb2NfbmFtZSA9PT0gcm93X2xvY19uYW1lKSB7XG4gICAgICAgICAgICAgICAgYWxsX21hcF9vcHRpb25zLmFyZWFzW2ldLnZhbHVlID0gcm93X3ZhbDtcbiAgICAgICAgICAgICAgICBhbGxfbWFwX29wdGlvbnMuYXJlYXNbaV0uZXh0cmFfdmFscyA9IGV4dHJhX3ZhbHM7XG4gICAgICAgICAgICAgICAgYWxsX21hcF9vcHRpb25zLmFyZWFzW2ldLmFuaW1hdGVkX3ZhbHMgPSBhbmltYXRlZF92YWxzO1xuXG4gICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vaWYgYW4gYXJlYSBmcm9tIHRoZSB0YWJsZSBpcyBub3QgZm91bmQgaW4gdGhlIG1hcCwgcHVzaCBpdCB0byB0aGUgYXJyYXkgdG8gc2hvdyBpbiB0aGUgcmVwb3J0XG4gICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgIGFsbF9tYXBfb3B0aW9ucy5hcmVhc19ub3RfZm91bmRfZnJvbV90YWJsZS5wdXNoKHJvd19sb2NfbmFtZSk7XG4gICAgICAgIH1cblxuICAgIH0pOyAvL2VuZCB0Ym9keSB0ciBsb29wXG4gICAgXG5cbiAgICAvL2FkZHMgdGl0bGVzIHRvIGFuIGFycmF5IGZyb20gVEhzXG4gICAgdmFyIGFkZFRpdGxlcyA9IGZ1bmN0aW9uIChpLCBhcnIpIHtcbiAgICAgICAgJChcInRoZWFkIHRoOmd0KFwiICsgaSArIFwiKVwiLCAkKHRhYmxlX2lucHV0KSkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhbGxfbWFwX29wdGlvbnNbYXJyXS5wdXNoKCQudHJpbSgkKHRoaXMpLnRleHQoKSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG5cbiAgICAvL2lmIGFuaW1hdGVkLCBhZGQgYW5pbWF0ZWQgdGl0bGVzIGFuZCB2YWx1ZXNcbiAgICBpZiAoYWxsX21hcF9vcHRpb25zLmlzX2FuaW1hdGVkKSB7XG4gICAgICAgIGFkZFRpdGxlcygwLCBcImFuaW1hdGVkX3ZhbHVlX3RpdGxlc1wiKTtcblxuICAgICAgICAvL2Vsc2UgYWRkIGV4dHJhIHZhbHVlIHRpdGxlcyBhbmQgdmFsdWVzXG4gICAgfSBlbHNlIHtcbiAgICAgICAgYWRkVGl0bGVzKDEsIFwiZXh0cmFfdmFsdWVfdGl0bGVzXCIpO1xuXG4gICAgfVxuXG5cblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlRm9yTWFwOyIsIi8qKiBcbiAqIFBhcnNpbmcgZnVuY3Rpb24gZm9yIHJhbmdlIGNoYXJ0IHR5cGVzLiBWYWx1ZXMgaW4gdGhlIGZpcnN0IGNvbHVtbiB3aWxsIGxvYWQgYXMgYSBsaW5lIG9yIGp1c3QgbWFya2VycyBkZXBlbmRpbmcgb24gdHlwZSBvZiByYW5nZS4gVGhlbiwgdmFsdWVzIGZyb20gdGhlIHNlY29uZCBjb2x1bW4gd2lsbCBsb2FkIGFzIHRoZSB0b3AgcmFuZ2UsIGFuZCB2YWx1ZXMgZnJvbSB0aGUgdGhpcmQgY29sdW1uIHdpbGwgbG9hZCBhcyB0aGUgYm90dG9tIHJhbmdlLiBUbyBsb2FkIG1vcmUgbGluZXMgd2l0aCByYW5nZXMsIGFkZCBtb3JlIGNvbHVtbnMuXG4gKiBAbW9kdWxlXG4gKiBAcGFyYW0gaW5wdXQge2VsZW1lbnR9IGlucHV0IGpxdWVyeSB0YWJsZSBlbGVtZW50IHJldHJpZXZlZCBmcm9tIHRleHRhcmVhXG4gKiBAcGFyYW0gbG9hZF9zZXJpZXNfZnJvbSB7c3RyaW5nfSBjb2x1bW5faGVhZHMgb3IgY29sdW1uX3Jvd3NcbiAqIEBwYXJhbSBjaGFydF90eXBlIHtzdHJpbmd9IHR5cGUgb2YgY2hhcnQgKGxpbmUsIGJhciBldGMuKVxuICogQHJldHVybnMge29iamVjdH0gT2JqZWN0IHdpdGggY2hhcnQgdGl0bGUsIFgtYXhpcyBjYXRlZ29yaWVzIGFuZCBzZXJpZXMgYXJyYXkgb2Ygb2JqZWN0c1xuICovXG5cblxudmFyIHBhcnNlRm9yUmFuZ2UgPSBmdW5jdGlvbiAoaW5wdXQsIGNoYXJ0X3R5cGUsIGNvbG9ycykge1xuXG4gICAgdmFyIHR5cGUgPSBjaGFydF90eXBlLnJlcGxhY2UoXCJzdGFja2VkX1wiLCBcIlwiKTtcblxuICAgIHZhciBvdXRwdXQgPSB7fTtcbiAgICBvdXRwdXQuc2VyaWVzID0gW107XG5cbiAgICAvL2xvYWQgeC1heGlzIGNhdGVnb3JpZXMgZnJvbSByb3cgaGVhZHNcbiAgICBvdXRwdXQueF9heGlzX2NhdGVnb3JpZXMgPSBbXTtcbiAgICAkKFwidGJvZHkgdGhcIiwgaW5wdXQpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBvdXRwdXQueF9heGlzX2NhdGVnb3JpZXMucHVzaCgkLnRyaW0oJCh0aGlzKS50ZXh0KCkpKTtcbiAgICB9KTtcblxuICAgIC8vbG9hZCBzZXJpZXMgb2JqZWN0IG5hbWVzIGZyb20gY29sdW1uIGhlYWRzLCBhbmQgZGF0YSBmcm9tIGVhY2ggY29sdW1uIHRkc1xuXG5cblxuICAgICQoXCJ0aGVhZCB0cjpsYXN0IHRoOm50aC1jaGlsZCgzbiAtIDEpXCIsIGlucHV0KS5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHZhciBzZXJpZXNPYmogPSB7XG4gICAgICAgICAgICBuYW1lOiAkLnRyaW0oJCh0aGlzKS50ZXh0KCkpLFxuICAgICAgICAgICAgZGF0YTogW10sXG4gICAgICAgICAgICB0eXBlOiBcImxpbmVcIixcbiAgICAgICAgICAgIGxpbmVXaWR0aDogY2hhcnRfdHlwZSA9PT0gXCJjb2x1bW5yYW5nZVwiID8gMCA6IDEsXG4gICAgICAgICAgICBtYXJrZXI6IHtcbiAgICAgICAgICAgICAgICBlbmFibGVkOiBjaGFydF90eXBlID09PSBcImNvbHVtbnJhbmdlXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb2xvcjogY29sb3JzW2ldLFxuICAgICAgICAgICAgX3N5bWJvbEluZGV4OiBpLFxuICAgICAgICAgICAgc3RhY2tpbmc6IG51bGwsXG4gICAgICAgICAgICB6SW5kZXg6IDEsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy9kYXRhIGZyb20gZWFjaCBjb2x1bW4ncyB0ZHNcbiAgICAgICAgJChcInRib2R5IHRyXCIsIGlucHV0KS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGlzX3JvdyA9ICQodGhpcyk7XG4gICAgICAgICAgICAkKFwidGQ6ZXEoXCIgKyBpICsgXCIpXCIsIHRoaXNfcm93KS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZXJpZXNPYmouZGF0YS5wdXNoKCQodGhpcykuZ2V0TnVtYmVyKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgLy9nZXQgcmFuZ2Ugc2VyaWVzXG4gICAgICAgIHZhciByYW5nZU9iaiA9IHtcbiAgICAgICAgICAgIG5hbWU6ICQudHJpbSgkKHRoaXMpLnRleHQoKSkgKyAnIHJhbmdlJyxcbiAgICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICAgICAgdHlwZTogY2hhcnRfdHlwZSxcbiAgICAgICAgICAgIGxpbmVXaWR0aDogMCxcbiAgICAgICAgICAgIGxpbmtlZFRvOiAnOnByZXZpb3VzJyxcbiAgICAgICAgICAgIGNvbG9yOiBjaGFydF90eXBlID09PSBcImNvbHVtbnJhbmdlXCIgPyBjb2xvcnNbaSsxXSA6IGNvbG9yc1tpXSxcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjMsXG4gICAgICAgICAgICB6SW5kZXg6IDAsXG4gICAgICAgICAgICBzdGFja2luZzogbnVsbFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vZGF0YSBmcm9tIG5leHQgMiBjb2x1bW5zXG4gICAgICAgICQoXCJ0Ym9keSB0clwiLCBpbnB1dCkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGhpc19yb3cgPSAkKHRoaXMpO1xuICAgICAgICAgICAgJChcInRkOmVxKFwiICsgKGkgKyAxKSArIFwiKVwiLCB0aGlzX3JvdykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhpZ2ggPSAkKHRoaXMpLmdldE51bWJlcigpO1xuICAgICAgICAgICAgICAgIHZhciBsb3cgPSAkKHRoaXMpLm5leHQoKS5nZXROdW1iZXIoKTtcbiAgICAgICAgICAgICAgICByYW5nZU9iai5kYXRhLnB1c2goW2xvdywgaGlnaF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG91dHB1dC5zZXJpZXMucHVzaChzZXJpZXNPYmopO1xuICAgICAgICAgICAgICAgIG91dHB1dC5zZXJpZXMucHVzaChyYW5nZU9iaik7XG5cblxuICAgIH0pO1xuXG5cblxuICAgIHJldHVybiBvdXRwdXQ7XG5cbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZUZvclJhbmdlOyIsIi8qKiBcbiAqIFBhcnNpbmcgZnVuY3Rpb24gZm9yIHNjYXR0ZXIgY2hhcnRzXG4gKiBAbW9kdWxlXG4gKiBAcGFyYW0gaW5wdXQge2VsZW1lbnR9IGlucHV0IGpxdWVyeSB0YWJsZSBlbGVtZW50IHJldHJpZXZlZCBmcm9tIHRleHRhcmVhXG4gKiBAcGFyYW0gY2hhcnRfdHlwZSB7c3RyaW5nfSB0eXBlIG9mIGNoYXJ0IChsaW5lLCBiYXIgZXRjLilcbiAqIEByZXR1cm5zIHtvYmplY3R9IE9iamVjdCB3aXRoIGNoYXJ0IHRpdGxlLCBYLWF4aXMgY2F0ZWdvcmllcyBhbmQgc2VyaWVzIGFycmF5IG9mIG9iamVjdHNcbiAqL1xudmFyIHBhcnNlRm9yU2NhdHRlciA9IGZ1bmN0aW9uIChpbnB1dCwgY2hhcnRfdHlwZSwgY29sb3JzKSB7XG4gICBcbiAgICAgICAgdmFyIG91dHB1dCA9IHt9O1xuICAgICAgICBvdXRwdXQueF9heGlzX2NhdGVnb3JpZXMgPSB1bmRlZmluZWQ7IC8vcmVzZXRzIHRoaXMgaW4gY2FzZSB0aGVyZSB3ZXJlIHByZXZpb3VzIGNhdGVnb3JpZXNcblxuICAgICAgICAvL2xvYWQgc2VyaWVzIG5hbWVzIGZyb20gcm93IGhlYWRzLCBhbmQgZGF0YSBmcm9tIHJvdyB0ZHNcbiAgICAgICAgb3V0cHV0LnNlcmllcyA9IFtdO1xuICAgICAgICAkKFwidGJvZHkgdHJcIiwgaW5wdXQpLmVhY2goZnVuY3Rpb24gKGkpIHtcblxuICAgICAgICAgICAgdmFyIHRoaXNfcm93ID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgdmFyIHNlcmllc09iaiA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAkLnRyaW0oJChcInRoOmVxKDApXCIsIHRoaXNfcm93KS50ZXh0KCkpLFxuICAgICAgICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICAgICAgICAgIHR5cGU6IGNoYXJ0X3R5cGUsXG4gICAgICAgICAgICAgICAgbGluZVdpZHRoOiAwLFxuICAgICAgICAgICAgICAgIG1hcmtlcjoge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzeW1ib2w6IFwiY2lyY2xlXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvcnNbaV0sXG4gICAgICAgICAgICAgICAgX3N5bWJvbEluZGV4OiBpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvL2dldCBkYXRhIHZhbHVlcyBmcm9tIGVhY2ggcm93J3MgdGQgY2VsbHNcbiAgICAgICAgICAgICQoXCJ0ZDpldmVuXCIsIHRoaXNfcm93KS5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHggPSAkKHRoaXMpLmdldE51bWJlcigpO1xuICAgICAgICAgICAgICAgIHZhciB5ID0gJCh0aGlzKS5uZXh0KCkuZ2V0TnVtYmVyKCk7XG4gICAgICAgICAgICAgICAgaWYoeSA9PT0gbnVsbCB8fCB5ID09PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgICAgICAgICAkKFwiLmFsZXJ0LWRhbmdlclwiKS50ZXh0KFwiU29ycnksIHRoZSB0YWJsZSB3YXNuJ3QgZm9ybWF0dGVkIGNvcnJlY3RseSBmb3IgYSBzY2F0dGVyIGNoYXJ0LiBQbGVhc2Ugc2VlIHRoZSBleGFtcGxlIG9uIHRoZSBkYXRhIHRhYi5cIik7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmFsZXJ0LWRhbmdlclwiKS50ZXh0KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICB9LCAxMDAwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhciB4eV9hcnIgPSBbeCwgeV07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgc2VyaWVzT2JqLmRhdGEucHVzaCh4eV9hcnIpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG91dHB1dC5zZXJpZXMucHVzaChzZXJpZXNPYmopO1xuXG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcblxuICAgIFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZUZvclNjYXR0ZXI7IiwiLyoqIFxuICogUGFyc2luZyBmdW5jdGlvbiBmb3IgdHlwaWNhbCBjaGFydCB0eXBlcyAobGluZSwgYmFyLCBjb2x1bW4pIFxuICogQG1vZHVsZVxuICogQHBhcmFtIGlucHV0IHtlbGVtZW50fSBpbnB1dCBqcXVlcnkgdGFibGUgZWxlbWVudCByZXRyaWV2ZWQgZnJvbSB0ZXh0YXJlYVxuICogQHBhcmFtIGxvYWRfc2VyaWVzX2Zyb20ge3N0cmluZ30gY29sdW1uX2hlYWRzIG9yIGNvbHVtbl9yb3dzXG4gKiBAcGFyYW0gY2hhcnRfdHlwZSB7c3RyaW5nfSB0eXBlIG9mIGNoYXJ0IChsaW5lLCBiYXIgZXRjLilcbiAqIEByZXR1cm5zIHtvYmplY3R9IE9iamVjdCB3aXRoIGNoYXJ0IHRpdGxlLCBYLWF4aXMgY2F0ZWdvcmllcyBhbmQgc2VyaWVzIGFycmF5IG9mIG9iamVjdHNcbiAqL1xuXG5cbnZhciBwYXJzZUZvclR5cGljYWxDaGFydCA9IGZ1bmN0aW9uIChpbnB1dCwgbG9hZF9zZXJpZXNfZnJvbSwgY2hhcnRfdHlwZSwgbGVnZW5kX3RvZ2dsZV9lbmFibGVkLCBjb2xvcnMpIHtcblxuICAgIHZhciB0eXBlID0gY2hhcnRfdHlwZS5yZXBsYWNlKFwic3RhY2tlZF9cIiwgXCJcIik7XG5cbiAgICB2YXIgb3V0cHV0ID0ge307XG4gICAgb3V0cHV0LnNlcmllcyA9IFtdO1xuXG4gICAgLyoqIElmIGxvYWRpbmcgc2VyaWVzIG5hbWVzIGZyb20gY29sdW1uIGhlYWRzIGlzIHNlbGVjdGVkKi9cbiAgICBpZiAobG9hZF9zZXJpZXNfZnJvbSA9PT0gXCJjb2x1bW5faGVhZHNcIikge1xuICAgICAgICAvL2xvYWQgeC1heGlzIGNhdGVnb3JpZXMgZnJvbSByb3cgaGVhZHNcbiAgICAgICAgb3V0cHV0LnhfYXhpc19jYXRlZ29yaWVzID0gW107XG4gICAgICAgICQoXCJ0Ym9keSB0aFwiLCBpbnB1dCkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvdXRwdXQueF9heGlzX2NhdGVnb3JpZXMucHVzaCgkLnRyaW0oJCh0aGlzKS50ZXh0KCkpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9sb2FkIHNlcmllcyBvYmplY3QgbmFtZXMgZnJvbSBjb2x1bW4gaGVhZHMsIGFuZCBkYXRhIGZyb20gZWFjaCBjb2x1bW4gdGRzXG5cbiAgICAgICAgJChcInRoZWFkIHRyOmxhc3QgdGg6Z3QoMClcIiwgaW5wdXQpLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHZhciBzZXJpZXNPYmogPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogJC50cmltKCQodGhpcykudGV4dCgpKSxcbiAgICAgICAgICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvcnNbaV0sXG4gICAgICAgICAgICAgICAgX3N5bWJvbEluZGV4OiBpLFxuICAgICAgICAgICAgICAgIHN0YWNraW5nOiBbXCJhcmVhXCIsIFwic3RhY2tlZF9iYXJcIiwgXCJzdGFja2VkX2NvbHVtblwiXS5pbmRleE9mKGNoYXJ0X3R5cGUpID4gLTEgPyBcInN0YWNrZWRcIiA6IG51bGwsXG4gICAgICAgICAgICAgICAgdmlzaWJsZTogaSA+IDAgJiYgbGVnZW5kX3RvZ2dsZV9lbmFibGVkID09PSB0cnVlID8gZmFsc2UgOiB0cnVlXG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vZGF0YSBmcm9tIGVhY2ggY29sdW1uJ3MgdGRzXG4gICAgICAgICAgICAkKFwidGJvZHkgdHJcIiwgaW5wdXQpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciB0aGlzX3JvdyA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgJChcInRkOmVxKFwiICsgaSArIFwiKVwiLCB0aGlzX3JvdykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlcmllc09iai5kYXRhLnB1c2goJCh0aGlzKS5nZXROdW1iZXIoKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgb3V0cHV0LnNlcmllcy5wdXNoKHNlcmllc09iaik7XG5cbiAgICAgICAgfSk7XG5cblxuXG4gICAgICAgIC8qKiBFbHNlIGlmIGxvYWRpbmcgc2VyaWVzIG5hbWVzIGZyb20gcm93IGhlYWRzIGlzIHNlbGVjdGVkKi9cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vbG9hZCB4LWF4aXMgY2F0ZWdvcmllcyBmcm9tIGNvbHVtbiBoZWFkc1xuICAgICAgICBvdXRwdXQueF9heGlzX2NhdGVnb3JpZXMgPSBbXTtcbiAgICAgICAgJChcInRoZWFkIHRoOmd0KDApXCIsIGlucHV0KS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG91dHB1dC54X2F4aXNfY2F0ZWdvcmllcy5wdXNoKCQudHJpbSgkKHRoaXMpLnRleHQoKSkpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL2xvYWQgc2VyaWVzIG9iamVjdCBuYW1lcyBmcm9tIHJvdyBoZWFkcywgYW5kIGRhdGEgZnJvbSByb3cgdGRzXG4gICAgICAgICQoXCJ0Ym9keSB0clwiLCBpbnB1dCkuZWFjaChmdW5jdGlvbiAoaSkge1xuXG4gICAgICAgICAgICB2YXIgdGhpc19yb3cgPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICB2YXIgc2VyaWVzT2JqID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6ICQudHJpbSgkKFwidGg6ZXEoMClcIiwgdGhpc19yb3cpLnRleHQoKSksXG4gICAgICAgICAgICAgICAgZGF0YTogW10sXG4vLyAgICAgICAgICAgICAgICBkYXRhTGFiZWxzOiB7XG4vLyAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogYWxsX2NoYXJ0X29wdGlvbnMgPyBhbGxfY2hhcnRfb3B0aW9ucy5wbG90T3B0aW9ucy5zZXJpZXMuZGF0YUxhYmVscy5lbmFibGVkIDogZmFsc2Vcbi8vICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICBjb2xvcjogY29sb3JzW2ldLFxuICAgICAgICAgICAgICAgIF9zeW1ib2xJbmRleDogaSxcbiAgICAgICAgICAgICAgICBzdGFja2luZzogW1wiYXJlYVwiLCBcInN0YWNrZWRfYmFyXCIsIFwic3RhY2tlZF9jb2x1bW5cIl0uaW5kZXhPZihjaGFydF90eXBlKSA+IC0xID8gXCJzdGFja2VkXCIgOiBudWxsLFxuICAgICAgICAgICAgICAgIHZpc2libGU6IGkgPiAwICYmIGxlZ2VuZF90b2dnbGVfZW5hYmxlZCA9PT0gdHJ1ZSA/IGZhbHNlIDogdHJ1ZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy9nZXQgZGF0YSB2YWx1ZXMgZnJvbSBlYWNoIHJvdydzIHRkIGNlbGxzXG4gICAgICAgICAgICAkKFwidGRcIiwgdGhpc19yb3cpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlcmllc09iai5kYXRhLnB1c2goJCh0aGlzKS5nZXROdW1iZXIoKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgb3V0cHV0LnNlcmllcy5wdXNoKHNlcmllc09iaik7XG5cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dDtcblxufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlRm9yVHlwaWNhbENoYXJ0OyIsIi8qIHRha2VzIHRoZSB0YWJsZSBodG1sIGZyb20gYSBnaXZlbiB0ZXh0YXJlYSBhbmQgcGFyc2VzIGl0IGludG8gYW4gb2JqZWN0LCBkZXBlbmRpbmcgb24gdXNlZXItc2VsZWN0ZWQgaW5wdXRzICovXG5cbi8qIHBhcnNpbmcgZnVuY3Rpb24gZm9yIHR5cGljYWwgY2hhcnQgdHlwZXMgKGxpbmUsIGJhciwgY29sdW1uKSAqL1xudmFyIHBhcnNlRm9yVHlwaWNhbENoYXJ0ID0gcmVxdWlyZShcIi4vcGFyc2VfZm9yX3R5cGljYWxfY2hhcnQuanNcIik7XG5cbi8qIHBhcnNpbmcgZnVuY3Rpb24gZm9yIHJhbmdlIGNoYXJ0cyAqL1xudmFyIHBhcnNlRm9yUmFuZ2UgPSByZXF1aXJlKFwiLi9wYXJzZV9mb3JfcmFuZ2UuanNcIik7XG5cbi8qIHBhcnNpbmcgZnVuY3Rpb24gZm9yIHNjYXR0ZXIgY2hhcnRzICovXG52YXIgcGFyc2VGb3JTY2F0dGVyID0gcmVxdWlyZShcIi4vcGFyc2VfZm9yX3NjYXR0ZXIuanNcIik7XG5cbi8qIHBhcnNpbmcgZnVuY3Rpb24gZm9yIGJ1YmJsZSBjaGFydHMgKi9cbnZhciBwYXJzZUZvckJ1YmJsZSA9IHJlcXVpcmUoXCIuL3BhcnNlX2Zvcl9idWJibGUuanNcIik7XG5cbi8qIHBhcnNpbmcgZnVuY3Rpb24gZm9yIGFuaW1hdGVkIGJ1YmJsZSBjaGFydHMgKi9cbnZhciBwYXJzZUZvckFuaW1hdGVkQnViYmxlID0gcmVxdWlyZShcIi4vcGFyc2VfZm9yX2FuaW1hdGVkX2J1YmJsZS5qc1wiKTtcblxuXG4vKiBwYXJzaW5nIGZ1bmN0aW9uIGZvciBkcmlsbGRvd24gY2hhcnRzICovXG52YXIgcGFyc2VGb3JEcmlsbGRvd24gPSByZXF1aXJlKFwiLi9wYXJzZV9mb3JfZHJpbGxkb3duLmpzXCIpO1xuXG5cblxuLyoqIFxuICogRnVuY3Rpb24gdGhhdCBkZWNpZGVzIHdoaWNoIHBhcnNlIGZ1bmN0aW9uIHRvIHJ1biwgZGVwZW5kaW5nIG9uIGNoYXJ0IHR5cGVcbiAqIEBtb2R1bGVcbiAqIEBwYXJhbSBpbnB1dCB7ZWxlbWVudH0gaW5wdXQganF1ZXJ5IHRhYmxlIGVsZW1lbnQgcmV0cmlldmVkIGZyb20gdGV4dGFyZWFcbiAqIEBwYXJhbSBsb2FkX3Nlcmllc19mcm9tIHtzdHJpbmd9IGNvbHVtbl9oZWFkcyBvciBjb2x1bW5fcm93c1xuICogQHBhcmFtIGNoYXJ0X3R5cGUge3N0cmluZ30gdHlwZSBvZiBjaGFydCAobGluZSwgYmFyIGV0Yy4pXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBPYmplY3Qgd2l0aCBjaGFydCB0aXRsZSwgWC1heGlzIGNhdGVnb3JpZXMgYW5kIHNlcmllcyBhcnJheSBvZiBvYmplY3RzXG4gKi9cblxudmFyIHBhcnNlVGFibGVJbnB1dCA9IGZ1bmN0aW9uIChpbnB1dCwgbG9hZF9zZXJpZXNfZnJvbSwgY2hhcnRfdHlwZSwgbGVnZW5kX3RvZ2dsZV9lbmFibGVkLCBjb2xvcnMsIGNoYXJ0LCBhbGxfY2hhcnRfb3B0aW9ucykge1xuXG4gICAgLy9pZiBhbmltYXRlZCBtYXAgaXMgcGxheWluZywgc3RvcCBpdCBhbmQgcmVtb3ZlIC0gYWxzbyBwcmV2ZW50cyBlcnJvcnNcbiAgICAkKFwiLm1hcF9wbGF5X2J1dHRvbi5wbGF5aW5nXCIpLmNsaWNrKCk7XG4gICAgJChcIi5jaGFydF9hbmltYXRpb25fZGl2XCIpLnJlbW92ZSgpO1xuXG4gICAgdmFyIG91dHB1dCA9IHt9O1xuIFxuXG4gICAgLyoqIERlcGVuZGluZyBvbiB0aGUgY2hhcnQgdHlwZSwgc3RhcnQgdGhhdCBwYXJzaW5nICovXG4gICAgaWYgKFtcImFyZWFcIiwgXCJsaW5lXCIsIFwiYmFyXCIsIFwic3RhY2tlZF9iYXJcIiwgXCJjb2x1bW5cIiwgXCJzdGFja2VkX2NvbHVtblwiXS5pbmRleE9mKGNoYXJ0X3R5cGUpID4gLTEpIHtcbiAgICAgICAgb3V0cHV0ID0gcGFyc2VGb3JUeXBpY2FsQ2hhcnQoaW5wdXQsIGxvYWRfc2VyaWVzX2Zyb20sIGNoYXJ0X3R5cGUsIGxlZ2VuZF90b2dnbGVfZW5hYmxlZCwgY29sb3JzKTtcblxuICAgIH0gZWxzZSBpZiAoY2hhcnRfdHlwZSA9PSBcImFyZWFyYW5nZVwiIHx8IGNoYXJ0X3R5cGUgPT0gXCJjb2x1bW5yYW5nZVwiKSB7XG4gICAgICAgIG91dHB1dCA9IHBhcnNlRm9yUmFuZ2UoaW5wdXQsIGNoYXJ0X3R5cGUsIGNvbG9ycyk7XG5cbiAgICB9IGVsc2UgaWYgKGNoYXJ0X3R5cGUgPT0gXCJidWJibGVcIikge1xuICAgICAgICBpZiAoJChcIiNidWJibGVfYW5pbWF0ZWRfY2hlY2tib3hcIikuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IHBhcnNlRm9yQW5pbWF0ZWRCdWJibGUoaW5wdXQsIGNoYXJ0X3R5cGUsIGNvbG9ycywgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0cHV0ID0gcGFyc2VGb3JCdWJibGUoaW5wdXQsIGNoYXJ0X3R5cGUsIGNvbG9ycyk7XG4gICAgICAgIH1cblxuXG4gICAgfSBlbHNlIGlmIChjaGFydF90eXBlID09IFwic2NhdHRlclwiKSB7XG4gICAgICAgIG91dHB1dCA9IHBhcnNlRm9yU2NhdHRlcihpbnB1dCwgY2hhcnRfdHlwZSwgY29sb3JzKTtcblxuICAgIH0gZWxzZSBpZiAoY2hhcnRfdHlwZSA9PSBcImRyaWxsZG93blwiKSB7XG4gICAgICAgIHZhciBkcmlsbF90eXBlID0gJChcIiNkcmlsbGRvd25fdHlwZV9zZWxlY3RcIikudmFsKCk7XG4gICAgICAgIG91dHB1dCA9IHBhcnNlRm9yRHJpbGxkb3duKGlucHV0LCBkcmlsbF90eXBlLCBjb2xvcnMpO1xuICAgIH1cblxuICAgICAgIC8vYWRkIGNoYXJ0IHRpdGxlIChzYW1lIGZvciBhbGwgdHlwZXMgb2YgY2hhcnRzKVxuICAgIG91dHB1dC50aXRsZV90ZXh0ID0gJChcImNhcHRpb25cIiwgaW5wdXQpLnRleHQoKTtcblxuXG4gICAgcmV0dXJuIG91dHB1dDtcblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZVRhYmxlSW5wdXQ7IiwiLyoqIFxuQ29udGFpbnMgZnVuY3Rpb25zIHRoYXQgbWFrZSBhIHJlcG9ydCBzaG93aW5nIHdoYXQgYXJlYXMgZnJvbSB0aGUgZ2l2ZW4gbWFwIHdlcmUgY29sb3JlZCBhbmQgd2hhdCB3ZXJlbid0XG5AbW9kdWxlXG4qKi9cbnZhciBhcmVhc19jb2xvcmVkX3JlcG9ydCA9IHtcblxuICAgIC8qKiBnZXJhdGVzIHRoZSByZXBvcnQgKiovXG4gICAgZ2VuZXJhdGVSZXBvcnQ6IGZ1bmN0aW9uIChhbGxfbWFwX29wdGlvbnMpIHtcblxuICAgICAgICB2YXIgYXJlYXNfY29sb3JlZCA9IFtdO1xuICAgICAgICB2YXIgYXJlYXNfbm90X2NvbG9yZWQgPSBbXTtcblxuICAgICAgICAkLmVhY2goYWxsX21hcF9vcHRpb25zLmFyZWFzLCBmdW5jdGlvbiAoaSwgZSkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlLmxvY19uYW1lLCBlLnZhbHVlLCB0eXBlb2YgZS52YWx1ZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChlLmxvY19uYW1lICYmIHR5cGVvZiBlLnZhbHVlID09PSBcIm51bWJlclwiKSB7IC8vaWYgdGhlIGFyZWEgaGFzIGEgdmFsdWVcbiAgICAgICAgICAgICAgICBhcmVhc19jb2xvcmVkLnB1c2goZS5sb2NfbmFtZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGUubG9jX25hbWUgJiYgdHlwZW9mIGUudmFsdWUgPT09IFwib2JqZWN0XCIpIHsgLy9pZiBpdCdzIG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgYXJlYXNfbm90X2NvbG9yZWQucHVzaChlLmxvY19uYW1lKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vYWxwaGFiZXRpemUgbGlzdHNcbiAgICAgICAgYXJlYXNfY29sb3JlZC5zb3J0KCk7XG4gICAgICAgIGFyZWFzX25vdF9jb2xvcmVkLnNvcnQoKTtcbiAgICAgICAgYWxsX21hcF9vcHRpb25zLmFyZWFzX25vdF9mb3VuZF9mcm9tX3RhYmxlLnNvcnQoKTtcblxuXG4gICAgICAgIC8vYmluZCB0byBsaW5rIGFuZCBwb3B1cCBib3hcbiAgICAgICAgJChcIi5hbGVydC1kYW5nZXJcIikudGV4dCgkKGFyZWFzX2NvbG9yZWQubGVuZ3RoKS5hZGRDb21tYXMoKSArIFwiIGFyZWFzIGNvbG9yZWQuIENsaWNrIGZvciBkZXRhaWxzLlwiKS5jc3Moe1xuICAgICAgICAgICAgXCJjdXJzb3JcIjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICBcInRleHQtZGVjb3JhdGlvblwiOiBcInVuZGVybGluZVwiXG4gICAgICAgIH0pLnVuYmluZCgpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGFyZWFzX2NvbG9yZWRfcmVwb3J0LnNob3dSZXBvcnQoYWxsX21hcF9vcHRpb25zLCBhcmVhc19jb2xvcmVkLCBhcmVhc19ub3RfY29sb3JlZCk7XG4gICAgICAgIH0pO1xuXG4gICAgfSxcblxuXG5cblxuICAgIC8qKiBiaW5kIGNsaWNraW5nIHRoZSBhbGVydC1kYW5nZXIgdGV4dCBwb3B1cCB0byBicmluZyB1cCB0aGUgYXJlYXMgY29sb3JlZCByZXBvcnQgKiovXG4gICAgc2hvd1JlcG9ydDogZnVuY3Rpb24gKGFsbF9tYXBfb3B0aW9ucywgYXJlYXNfY29sb3JlZCwgYXJlYXNfbm90X2NvbG9yZWQpIHtcbiAgICAgICAgJChcIiNhcmVhc19jb2xvcmVkX3JlcG9ydF9kaXZcIikuc2xpZGVEb3duKDUwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKFwiI2FyZWFzX2NvbG9yZWRfdGV4dGFyZWFcIikudmFsKGFyZWFzX2NvbG9yZWQuam9pbihcIlxcblwiKSk7XG4gICAgICAgICAgICAkKFwiI2FyZWFzX25vdF9jb2xvcmVkX3RleHRhcmVhXCIpLnZhbChhcmVhc19ub3RfY29sb3JlZC5qb2luKFwiXFxuXCIpKTtcbiAgICAgICAgICAgICQoXCIjYXJlYXNfbm90X2ZvdW5kX2Zyb21fdGFibGVfdGV4dGFyZWFcIikudmFsKGFsbF9tYXBfb3B0aW9ucy5hcmVhc19ub3RfZm91bmRfZnJvbV90YWJsZS5qb2luKFwiXFxuXCIpKTtcblxuICAgICAgICB9KTtcblxuICAgIH1cblxuXG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gYXJlYXNfY29sb3JlZF9yZXBvcnQ7IiwidmFyIHV0aWxzX21haW4gPSByZXF1aXJlKFwiLi4vdXRpbHMvdXRpbHNfbWFpbi5qc1wiKTtcblxuLyoqIGNhbGN1bGF0ZSByZWNlc3Npb24gZGF0ZXMgZnVuY3Rpb24gXG5AbmFtZXNwYWNlXG4qKi9cblxudmFyIGNhbGN1bGF0ZV9yZWNlc3Npb25fZGF0ZXMgPSB7XG5cbiAgICAvKiogY2FsY3VsYXRlIHJlY2Vzc2lvbiBkYXRlcyBmdW5jdGlvbiAgKiovXG4gICAgY3JlYXRlUGxvdEJhbmRzOiBmdW5jdGlvbiAoeF9heGlzX2NhdGVnb3JpZXMsIGRhdGVzX3R5cGUpIHtcblxuICAgICAgICAvL2xvYWQgbmV3IHBsb3RiYW5kc1xuICAgICAgICB2YXIgcGxvdF9iYW5kc19hcnIgPSBbXTtcblxuICAgICAgICBpZiAoZGF0ZXNfdHlwZSA9PT0gXCJub19yZWNlc3Npb25cIikge1xuICAgICAgICAgICAgcmV0dXJuIHBsb3RfYmFuZHNfYXJyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGVzX3R5cGUgPT09IFwicXVhcnRlcmx5X3JlY2Vzc2lvblwiKSB7IC8vL3F1YXJ0ZXJseSBkYXRlc1xuICAgICAgICAgICAgdmFyIHJlY2Vzc2lvbkRhdGVTdGFydHNBcnJheSA9IFtcIlEyIDE5NTNcIiwgXCJRMyAxOTU3XCIsIFwiUTIgMTk2MFwiLCBcIlE0IDE5NjlcIiwgXCJRNCAxOTczXCIsIFwiUTEgMTk4MFwiLCBcIlEzIDE5ODFcIiwgXCJRMyAxOTkwXCIsIFwiUTEgMjAwMVwiLCBcIlE0IDIwMDdcIl07XG4gICAgICAgICAgICB2YXIgcmVjZXNzaW9uRGF0ZUVuZHNBcnJheSA9IFtcIlEyIDE5NTRcIiwgXCJRMiAxOTU4XCIsIFwiUTEgMTk2MVwiLCBcIlE0IDE5NzBcIiwgXCJRMSAxOTc1XCIsIFwiUTMgMTk4MFwiLCBcIlE0IDE5ODJcIiwgXCJRMSAxOTkxXCIsIFwiUTQgMjAwMVwiLCBcIlEyIDIwMDlcIl07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0ZXNfdHlwZSA9PT0gXCJtb250aGx5X3JlY2Vzc2lvblwiKSB7IC8vbW9udGhseSBkYXRlc1xuICAgICAgICAgICAgdmFyIHJlY2Vzc2lvbkRhdGVTdGFydHNBcnJheSA9IFtcIkp1bCAxOTUzXCIsIFwiQXVnIDE5NTdcIiwgXCJBcHIgMTk2MFwiLCBcIkRlYyAxOTY5XCIsIFwiTm92IDE5NzNcIiwgXCJKYW4gMTk4MFwiLCBcIkp1bCAxOTgxXCIsIFwiSnVsIDE5OTBcIiwgXCJNYXIgMjAwMVwiLCBcIkRlYyAyMDA3XCJdO1xuICAgICAgICAgICAgdmFyIHJlY2Vzc2lvbkRhdGVFbmRzQXJyYXkgPSBbXCJNYXkgMTk1NFwiLCBcIkFwciAxOTU4XCIsIFwiRmViIDE5NjFcIiwgXCJOb3YgMTk3MFwiLCBcIk1hciAxOTc1XCIsIFwiSnVsIDE5ODBcIiwgXCJOb3YgMTk4MlwiLCBcIk1hciAxOTkxXCIsIFwiTm92IDIwMDFcIiwgXCJKdW4gMjAwOVwiXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRlc190eXBlID09PSBcImVjaV9yZWNlc3Npb25cIikgeyAvL0VDSSBkYXRlc1xuICAgICAgICAgICAgdmFyIHJlY2Vzc2lvbkRhdGVTdGFydHNBcnJheSA9IFtcIkp1biAxOTUzXCIsIFwiU2VwIDE5NTdcIiwgXCJKdW4gMTk2MFwiLCBcIkRlYyAxOTY5XCIsIFwiRGVjIDE5NzNcIiwgXCJNYXIgMTk4MFwiLCBcIlNlcCAxOTgxXCIsIFwiU2VwIDE5OTBcIiwgXCJNYXIgMjAwMVwiLCBcIkRlYyAyMDA3XCJdO1xuICAgICAgICAgICAgdmFyIHJlY2Vzc2lvbkRhdGVFbmRzQXJyYXkgPSBbXCJKdW4gMTk1NFwiLCBcIkp1biAxOTU4XCIsIFwiTWFyIDE5NjFcIiwgXCJEZWMgMTk3MFwiLCBcIk1hciAxOTc1XCIsIFwiU2VwIDE5ODBcIiwgXCJEZWMgMTk4MlwiLCBcIk1hciAxOTkxXCIsIFwiRGVjIDIwMDFcIiwgXCJKdW4gMjAwOVwiXTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgdmFyIHBsb3RCYW5kU3RhcnQgPSAwO1xuICAgICAgICB2YXIgcGxvdEJhbmRFbmQgPSAwO1xuICAgICAgICB2YXIgcGxvdF9iYW5kX3N0YXJ0c19hcnIgPSBbXTtcbiAgICAgICAgdmFyIHBsb3RfYmFuZF9lbmRzX2FyciA9IFtdO1xuXG4gICAgICAgIC8vL2dldCBzdGFydCBpbmRleGVzXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByZWNlc3Npb25EYXRlU3RhcnRzQXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmb3VuZFN0YXJ0SW5kZXggPSB4X2F4aXNfY2F0ZWdvcmllcy5pbmRleE9mKHJlY2Vzc2lvbkRhdGVTdGFydHNBcnJheVtpXSk7XG4gICAgICAgICAgICBpZiAoZm91bmRTdGFydEluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICBwbG90X2JhbmRfc3RhcnRzX2Fyci5wdXNoKGZvdW5kU3RhcnRJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLy9nZXQgZW5kcyBpbmRleGVzXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByZWNlc3Npb25EYXRlRW5kc0FycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZm91bmRFbmRJbmRleCA9IHhfYXhpc19jYXRlZ29yaWVzLmluZGV4T2YocmVjZXNzaW9uRGF0ZUVuZHNBcnJheVtpXSk7XG4gICAgICAgICAgICBpZiAoZm91bmRFbmRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcGxvdF9iYW5kX2VuZHNfYXJyLnB1c2goZm91bmRFbmRJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vZml4IGlmIGxlbmd0aHMgYXJlbid0IHRoZSBzYW1lXG4gICAgICAgIGlmIChwbG90X2JhbmRfc3RhcnRzX2FyclswXSA+IHBsb3RfYmFuZF9lbmRzX2FyclswXSkge1xuICAgICAgICAgICAgcGxvdF9iYW5kX3N0YXJ0c19hcnIudW5zaGlmdCgwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGxvdF9iYW5kX2VuZHNfYXJyLmxlbmd0aCA8IHBsb3RfYmFuZF9zdGFydHNfYXJyLmxlbmd0aCkge1xuICAgICAgICAgICAgcGxvdF9iYW5kX2VuZHNfYXJyLnB1c2goeF9heGlzX2NhdGVnb3JpZXMubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLy9hbGVydCBpZiBub3QgZm91bmRcbiAgICAgICAgaWYgKHBsb3RfYmFuZF9zdGFydHNfYXJyLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB1dGlsc19tYWluLnNob3dFcnJvcihcIlRoZXJlIGFyZSBubyBtYXRjaGluZyByZWNlc3Npb24gZGF0ZXMsIG9yIHlvdXIgZGF0ZXMgYXJlbid0IGZvcm1hdHRlZCBpbiB0aGUgbmVlZGVkIHN0eWxlLlwiKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBsb3RfYmFuZF9zdGFydHNfYXJyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld1Bsb3RCYW5kID0ge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3JnYigyMjIsIDIyMiwgMjIyKScsXG4gICAgICAgICAgICAgICAgICAgIGZyb206IHBsb3RfYmFuZF9zdGFydHNfYXJyW2ldLFxuICAgICAgICAgICAgICAgICAgICB0bzogcGxvdF9iYW5kX2VuZHNfYXJyW2ldXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBsb3RfYmFuZHNfYXJyLnB1c2gobmV3UGxvdEJhbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwbG90X2JhbmRzX2FycjtcbiAgICB9LFxuXG4gICAgXG4gICAgLyoqIGFkZCB0aGUgcmVjZXNzaW9uIHBsb3QgYmFuZHMgYXJyYXkgdG8gdGhlIGFjdHVhbCBjaGFydCAqKi9cbiAgICBpbnNlcnRQbG90QmFuZHM6IGZ1bmN0aW9uIChwbG90X2JhbmRzX2FyciwgY2hhcnQsIGFsbF9jaGFydF9vcHRpb25zKSB7XG5cbiAgICAgICAgY2hhcnQueEF4aXNbMF0udXBkYXRlKHtcbiAgICAgICAgICAgIHBsb3RCYW5kczogcGxvdF9iYW5kc19hcnJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9hZGQgbm90ZSBhYm91dCByZWNlc3Npb24gc2hhZGluZyBpZiBhcHBsaWNhYmxlXG4gICAgICAgIGlmIChwbG90X2JhbmRzX2Fyci5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB2YXIgY3JlZGl0cyA9IFwiU2hhZGVkIGFyZWFzIHJlcHJlc2VudCByZWNlc3Npb25zIGFzIGRldGVybWluZWQgYnkgdGhlIE5hdGlvbmFsIEJ1cmVhdSBvZiBFY29ub21pYyBSZXNlYXJjaC5cXG5DbGljayBsZWdlbmQgaXRlbXMgdG8gY2hhbmdlIGRhdGEgZGlzcGxheS4gSG92ZXIgb3ZlciBjaGFydCB0byB2aWV3IGRhdGEuXFxuU291cmNlOiBVLlMuIEJ1cmVhdSBvZiBMYWJvciBTdGF0aXN0aWNzLlwiO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgY3JlZGl0cyA9IFwiQ2xpY2sgbGVnZW5kIGl0ZW1zIHRvIGNoYW5nZSBkYXRhIGRpc3BsYXkuIEhvdmVyIG92ZXIgY2hhcnQgdG8gdmlldyBkYXRhLlxcblNvdXJjZTogVS5TLiBCdXJlYXUgb2YgTGFib3IgU3RhdGlzdGljcy5cIjtcbiAgICAgICAgfVxuICAgICAgICAkKFwiI2NoYXJ0X2NyZWRpdHNfdGV4dF90ZXh0YXJlYVwiKS52YWwoY3JlZGl0cyk7XG5cbiAgICAgICAgYWxsX2NoYXJ0X29wdGlvbnMueEF4aXMucGxvdEJhbmRzID0gcGxvdF9iYW5kc19hcnI7XG4gICAgfVxuXG5cbn1cblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY2FsY3VsYXRlX3JlY2Vzc2lvbl9kYXRlczsiLCIvKiogXG4gKiBjdXN0b20galF1ZXJ5IGV4dGVuc2lvbnNcbiAqIEBtb2R1bGVcbiAqL1xudmFyIGpxX2V4dGVuc2lvbnMgPSAoZnVuY3Rpb24gKCkge1xuXG4gICAgalF1ZXJ5LmZuLmV4dGVuZCh7XG5cbiAgICAgICAgLyoqIGV4dGVuZCBzbyB0aGF0IHdlIGNhbiBnZXQgYW5kIHNldCBcInZhbHVlXCIgd2l0aCBkaXZzICovXG4gICAgICAgIGRpdlZhbDogZnVuY3Rpb24gKHN0cmluZykge1xuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJCh0aGlzKS5hdHRyKFwidmFsdWVcIikgfHwgJCh0aGlzKS5hdHRyKFwidHlwZVwiKSB8fCAkKHRoaXMpLmluZGV4KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQodGhpcykuYXR0cihcInZhbHVlXCIsIHN0cmluZyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQodGhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiogcHV0cyBjb21tYXMgaW4gYSBudW1iZXIgKi9cbiAgICAgICAgYWRkQ29tbWFzOiBmdW5jdGlvbiAoZGVjaW1hbHMpIHtcblxuICAgICAgICAgICAgdmFyIHZhbCA9IHRoaXNbMF0gfHwgMDtcblxuICAgICAgICAgICAgaWYgKHZhbCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzTmFOKHZhbCkgfHwgKCgodmFsIDwgOTk5KSAmJiAodmFsID4gLTk5OSkpICYmIGRlY2ltYWxzIDwgMSkpIHsgLy9zbWFsbCBudW1iZXJzIGF1dG8gZGVjaW1hbHNcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgoKHZhbCA8IDk5OSkgJiYgKHZhbCA+IC05OTkpKSAmJiBkZWNpbWFscyA+IDApIHsgLy9zbWFsbCBudW1iZXJzIGZpeGVkIGRlY2ltYWxzXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbC50b0ZpeGVkKGRlY2ltYWxzKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICgoKHZhbCA+IDk5OSkgfHwgKHZhbCA8IC05OTkpKSAmJiBkZWNpbWFscyA+IDApIHsgLy9iaWcgbnVtYmVycyBmaXhlZCBkZWNpbWFsc1xuICAgICAgICAgICAgICAgIHdoaWxlICgvKFxcZCspKFxcZHszfSkvLnRlc3QodmFsLnRvU3RyaW5nKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IHZhbC50b0ZpeGVkKGRlY2ltYWxzKS5yZXBsYWNlKC8oXFxkKykoXFxkezN9KS8sICckMScgKyAnLCcgKyAnJDInKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCh2YWwgPiA5OTkpIHx8ICh2YWwgPCAtOTk5KSkgeyAvL2JpZyBudW1iZXIgYXV0byBkZWNpbWFsc1xuICAgICAgICAgICAgICAgIHdoaWxlICgvKFxcZCspKFxcZHszfSkvLnRlc3QodmFsLnRvU3RyaW5nKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IHZhbC50b1N0cmluZygpLnJlcGxhY2UoLyhcXGQrKShcXGR7M30pLywgJyQxJyArICcsJyArICckMicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9LFxuXG5cblxuICAgICAgICAvKiogdGFrZXMgYW4gZWxlbWVudCdzIHRleHQgc3RyaW5nIGFuZCByZXR1cm5zIGEgbnVtYmVyLCB0cmltbWluZyBzcGFjZXMgYW5kIHJlbW92aW5nIG5vbi1udW1iZXJzIChnb29kIGZvciBudW1iZXJzIHdpdGggY29tbWFzIGV0Yy4pKi9cbiAgICAgICAgZ2V0TnVtYmVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gJC50cmltKCQodGhpcykudGV4dCgpLnJlcGxhY2UoL1xcKC4qXFwpLywgXCJcIikucmVwbGFjZSgvW14wLTlcXC5cXC1dKy9nLCAnJykpO1xuXG4gICAgICAgICAgICByZXR1cm4gdmFsID09PSBcIlwiIHx8IGlzTmFOKE51bWJlcih2YWwpKSA/IG51bGwgOiBOdW1iZXIodmFsKTtcbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgXG4gICAgICAgIC8qKiBnZXRzIGEgLnZhbCgpIGJ1dCByZXR1cm5zIDAgaWYgaXNOYU4gKiovXG4gICAgICAgIGdldFZhbE51bWJlcjogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBpc05hTihOdW1iZXIoJCh0aGlzKS52YWwoKSkpID8gMCA6IE51bWJlcigkKHRoaXMpLnZhbCgpKTtcbiAgICAgICAgXG4gICAgICAgIH1cblxuXG5cbiAgICB9KTtcblxufSkoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBqcV9leHRlbnNpb25zOyIsIi8qKiBjaGVja3MgaWYgdGhlIGFwcCB3YXMgbG9hZGVkIGZyb20gdGhlIEJldHRlciBUYWJsZSBXaXphcmQsIGFuZCBpZiBzbywgbG9hZHMgdGhhdCB0YWJsZSBhbmQgc2VsZWN0cyB0aGF0IGljb24gXG5AbW9kdWxlXG4qKi9cblxudmFyIGxvYWRGcm9tVGFibGVXaXphcmQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGlmICh3aW5kb3cub3BlbmVyKSB7XG5cbiAgICAgICAgaWYgKHdpbmRvdy5vcGVuZXIuaW1wb3J0ZWRUYWJsZSAmJiB3aW5kb3cub3BlbmVyLmltcG9ydGVkVGFibGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAkKFwiLmNoYXJ0X3R5cGVfaWNvblwiKS5yZW1vdmVDbGFzcyhcInNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAkKFwiI1wiK3dpbmRvdy5vcGVuZXIuaW1wb3J0ZWRDaGFydFR5cGUpLmFkZENsYXNzKFwic2VsZWN0ZWRcIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICQoXCIjdGFibGVfaW5wdXRfdGV4dGFyZWFcIikudmFsKHdpbmRvdy5vcGVuZXIuaW1wb3J0ZWRUYWJsZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuZXIuaW1wb3J0ZWRUYWJsZSA9IG51bGw7IC8vY2xlYXIgaXQgc28gd2hlbiBwYWdlIHJlZnJlc2hlcyBpdCdzIG5vdCB0aGUgc2FtZSB0YWJsZSBzdGlsbFxuICAgICAgICB9XG4gICAgfVxuICAgIFxufSkoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBsb2FkRnJvbVRhYmxlV2l6YXJkOyIsIi8qKlxuICogRm9ybXMgdXRpbGl0eSBvYmplY3QsIGNvbnRhaW5zIGZ1bmN0aW9ucyB0aGF0IHdvcmsgd2l0aCBmb3JtIGVsZW1lbnRzXG4gKiBAbmFtZXNwYWNlXG4gKi9cbnZhciB1dGlsc19mb3JtcyA9IHtcblxuXG4gICAgLyoqIHJldHVybnMgdHJ1ZSBpZiBjaGVja2JveCBpcyBjaGVja2VkLCBmYWxzZSBpZiBub3QgXG4gICAgQHBhcmFtIGVsZW0ge2VsZW1lbnR9IGNoZWNrYm94IGVsZW1lbnRcbiAgICBAcmV0dXJucyB7Ym9vbH1cbiAgICAqL1xuICAgIGdldENoZWNrQm94VmFsdWU6IGZ1bmN0aW9uIGdldENoZWNrQm94VmFsdWUoZWxlbSkge1xuICAgICAgICByZXR1cm4gZWxlbS5pcygnOmNoZWNrZWQnKTtcbiAgICB9LFxuXG4gICAgLyoqIGdldHMgYW4gYXJyYXkgb2YgdmFsdWVzIGZyb20gYSBnaXZlbiBjbGFzcyBcbiAgICBAcGFyYW0gY2xhc3NfbmFtZSB7c3RyaW5nfVxuICAgIEByZXR1cm5zIHthcnJheX1cbiAgICAqL1xuICAgIGdldENsYXNzVmFsdWVzQXJyYXk6IGZ1bmN0aW9uIChjbGFzc19uYW1lKSB7XG4gICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgJChcIi5cIiArIGNsYXNzX25hbWUpLmVhY2goXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2goTnVtYmVyKCQodGhpcykudmFsKCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuXG4gICAgLyoqIGdpdmVuIGEgZ3JvdXAgb2YgZWxlbWVudHMsIHRoaXMgZ2l2ZXMgdGhlIGluZGV4IG9mIGFuIGVsZW1lbnQgd2l0aCBhIGNsYXNzIG9mIFwic2VsZWN0ZWRcIiAqKi9cbiAgICBnZXRTZWxlY3RlZEluZGV4OiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICB2YXIgc2VsZWN0ZWRfaW5kZXggPSAwO1xuICAgICAgICBlbGVtLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwic2VsZWN0ZWRcIikpIHtcbiAgICAgICAgICAgICAgc2VsZWN0ZWRfaW5kZXggPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBzZWxlY3RlZF9pbmRleDtcbiAgICB9LFxuXG4gICAgLyoqIFdoZW4gY2xpcGJvYXJkIGljb24gaXMgY2xpY2tlZCwgdGhpcyBjb3BpZXMgdGhlIG5leHQgPHByZT4gdGV4dCB0byBhIGNsaXBib2FyZCB2aWEgYSBoaWRkZW4gdGV4dGFyZWEgKiovXG4gICAgY29weVRvQ2xpcEJvYXJkOiAoZnVuY3Rpb24gKCkge1xuICAgICAgICAkKFwiLmNvcHlfdG9fY2xpcGJvYXJkX2J1dHRvblwiKS5jbGljayhcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHZhciBjb3BpZWRfdGV4dCA9ICQodGhpcykubmV4dEFsbChcInRleHRhcmVhOmVxKDApXCIpLnNlbGVjdCgpO1xuICAgICAgICAgICAgICAgIHZhciBjb3B5X21lc3NhZ2Vfc3BhbiA9ICQodGhpcykubmV4dCgpLmNoaWxkcmVuKFwiLmNvcHlfbWVzc2FnZVwiKTtcbiAgICAgICAgICAgICAvLyAgICQodGhpcykubmV4dEFsbChcInRleHRhcmVhOmVxKDApXCIpLnZhbChjb3BpZWRfdGV4dCkuc2VsZWN0KCk7IC8vbW92ZSB0ZXh0IHRvIGhpZGRlbiB0ZXh0IGFyZWEgc28gaXQgY2FuIGJlIHNlbGVjdGVkIGFuZCBjb3BpZWRcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdWNjZXNzZnVsID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1zZyA9IHN1Y2Nlc3NmdWwgPyAnQ29waWVkIScgOiAnTm90IGNvcGllZCEgVHJ5IGFnYWluIGluIGEgZmV3IHNlY29uZHMuJztcbiAgICAgICAgICAgICAgICAgICAgY29weV9tZXNzYWdlX3NwYW4udGV4dChtc2cpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyAvL2hpZGUgbWVzc2FnZSBhZnRlciBhIGJpdFxuICAgICAgICAgICAgICAgICAgICAgICAgY29weV9tZXNzYWdlX3NwYW4udGV4dChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMjAwMCk7XG5cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJZb3VyIGJyb3dzZXIgd29uJ3QgYWxsb3cgdGhpcyB0byBjb3B5IC0gcGxlYXNlIGRvIGl0IG1hbnVhbGx5XCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG4gICAgfSkoKVxuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gdXRpbHNfZm9ybXM7XG5cblxuXG52YXIgY29weVRvQ2xpcEJvYXJkID0gZnVuY3Rpb24gKGJ1dHRvbikge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBzdWNjZXNzZnVsID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcbiAgICAgICAgdmFyIG1zZyA9IHN1Y2Nlc3NmdWwgPyAnQ29waWVkIScgOiAnTm90IGNvcGllZCEgVHJ5IGFnYWluIGluIGEgZmV3IHNlY29uZHMuJztcblxuICAgICAgICBjb3B5X21lc3NhZ2VcblxuICAgICAgICBidXR0b24udmFsdWUgPSBtc2c7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYnV0dG9uLnZhbHVlID0gXCJDb3B5IEFsbFwiO1xuICAgICAgICB9LCAyMDAwKTtcblxuXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGFsZXJ0KFwiWW91ciBicm93c2VyIHdvbid0IGFsbG93IHRoaXMgdG8gY29weSAtIHBsZWFzZSBkbyBpdCBtYW51YWxseVwiKTtcbiAgICB9XG59IiwiLyoqXG4gKiBNYWluIHV0aWxpdHkgb2JqZWN0LCBjb250YWlucyBmdW5jdGlvbnMgdGhhdCBnZXQgcmV1c2VkIG9mdGVuLCBpbmNsdWRpbmcgdGhlIGNvZGUgd3JpdGluZ1xuICogQG5hbWVzcGFjZVxuICovXG52YXIgdXRpbHNfbWFpbiA9IHtcblxuICAgIC8qKiBjaGVjayB2YWx1ZSAtIGlmIDAgb3Igbm90IGEgbnVtYmVyLCByZXR1cm4gdW5kZWZpbmVkICoqL1xuICAgIGNoZWNrRm9yVW5kZWZpbmVkOiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIGlmICh2YWwgPT09IFwiMFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc05hTih2YWwpIHx8IHZhbCA9PT0gXCJcIikge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBOdW1iZXIodmFsKTtcbiAgICB9LFxuXG5cbiAgICAvKiogXG4gICAgdHVybnMgb2JqZWN0cyBpbnRvIHN0cmluZ3MsIG1ldGhvZHMgYXJlIHN0cmluZ2lmaWVkIGFuZCBwdXQgaW4gYW4gYXJyYXkgdG8gcmVwbGFjZSBwbGFjZWhvbGRlcnMgaW4gdGhlIEpTT04gbGF0ZXJcbiAgICBAcmV0dXJucyB7c3RyaW5nfSBKU09OXG4gICAgKi9cbiAgICBkZWVwU3RyaW5naWZ5OiBmdW5jdGlvbiBkZWVwU3RyaW5naWZ5KG9iaikge1xuICAgICAgICB2YXIgdXBkYXRlX3Rvb2x0aXAgPSByZXF1aXJlKFwiLi4vZm9ybV91cGRhdGVzL3VwZGF0ZV90b29sdGlwLmpzXCIpO1xuICAgICAgICB2YXIgdXBkYXRlX3lfYXhpcyA9IHJlcXVpcmUoXCIuLi9mb3JtX3VwZGF0ZXMvdXBkYXRlX3lfYXhpcy5qc1wiKTtcblxuICAgICAgICB2YXIgZm5fY291bnQgPSAwO1xuXG4gICAgICAgIHZhciBzdHJpbmdpZmllZF9vYmogPSB7XG4gICAgICAgICAgICBzdHJpbmc6IFwiXCIsXG4gICAgICAgICAgICBmdW5jdGlvbnNfYXJyOiBbXVxuICAgICAgICB9O1xuXG4gICAgICAgIHN0cmluZ2lmaWVkX29iai5zdHJpbmcgPSBKU09OLnN0cmluZ2lmeShvYmosIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG5cbiAgICAgICAgICAgIC8vZnVuY3Rpb25zIGFyZSBuYW1lZCBcImZ1bmN0aW9uMSwgZnVuY3Rpb24yXCIgYW5kIGxhdGVyIHJlcGxhY2VkIHdpdGggdGhlIHJlYWwgZnVuY3Rpb24gYWZ0ZXIgdGhlIHJlc3Qgb2YgdGhlIGpzb24gaGFzIGJlZW4gc3RyaW5naWZpZWRcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcblxuXG4gICAgICAgICAgICAgICAgLy9jb21iaW5lIHkgYXhpcyBhbmQgdG9vbHRpcCByZXBsYWNlbWVudCBvYmpzXG4gICAgICAgICAgICAgICAgdmFyIHJlcGxhY2VtZW50c19vYmogPSAkLmV4dGVuZCh7fSwgdXBkYXRlX3Rvb2x0aXAucmVwbGFjZW1lbnRfb2JqLCB1cGRhdGVfeV9heGlzLnJlcGxhY2VtZW50X29iaik7XG5cbiAgICAgICAgICAgICAgICAvL3B1dCB0aGVzZSBzdHJpbmcgZnVuY3Rpb25zIGluIHRoZSBhcnJheSBmb3IgbGF0ZXJcbiAgICAgICAgICAgICAgICBzdHJpbmdpZmllZF9vYmouZnVuY3Rpb25zX2Fyci5wdXNoKHV0aWxzX21haW4uc3RyaW5naWZ5Rm9ybWF0dGVyKHZhbHVlLCByZXBsYWNlbWVudHNfb2JqKSk7XG5cbiAgICAgICAgICAgICAgICAvLyB1c2UgYSBwbGFjZWhvbGRlciB0ZXh0IGluIHRoaXMganNvblxuICAgICAgICAgICAgICAgIHZhciBmbl9wbGFjZWhvbGRlciA9IFwiZnVuY3Rpb25cIiArIGZuX2NvdW50O1xuXG4gICAgICAgICAgICAgICAgZm5fY291bnQrKztcbiAgICAgICAgICAgICAgICByZXR1cm4gZm5fcGxhY2Vob2xkZXI7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5yZXBsYWNlKC9cXFxcbi9nLCBcIlwiKTtcblxuICAgICAgICByZXR1cm4gc3RyaW5naWZpZWRfb2JqO1xuXG4gICAgfSxcblxuXG4gICAgLyoqIGlmIGRyaWxsZWQgaW50byBhIGRyaWxsZG93biwgY2xpY2sgdGhlIHVwIGJ1dHRvbiB0byBnZXQgb3V0IC0gcHJldmVudHMgZXJyb3JzICoqL1xuICAgIGRyaWxsVXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2hpbGUgKCQoXCIuaGlnaGNoYXJ0cy1idXR0b25cIikubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgJChcIi5oaWdoY2hhcnRzLWJ1dHRvblwiKS5jbGljaygpO1xuICAgICAgICB9XG4gICAgfSxcblxuXG4gICAgLyoqIGZ1bmN0aW9ucyB0byBzZXQgb3IgcmV0dXJuIG1pbiBtYXggdmFsdWVzICoqL1xuICAgIGxpbWl0czoge1xuXG4gICAgICAgIG1heDogMCxcbiAgICAgICAgbWluOiB1bmRlZmluZWQsXG5cbiAgICAgICAgc2V0TWF4OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICB1dGlsc19tYWluLmxpbWl0cy5tYXggPSB2YWwgPiB1dGlsc19tYWluLmxpbWl0cy5tYXggPyB2YWwgOiB1dGlsc19tYWluLmxpbWl0cy5tYXg7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0TWluOiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICBpZiAodXRpbHNfbWFpbi5saW1pdHMubWluID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB1dGlsc19tYWluLmxpbWl0cy5taW4gPSB2YWw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWxzX21haW4ubGltaXRzLm1pbiA9IHZhbCA8IHV0aWxzX21haW4ubGltaXRzLm1pbiA/IHZhbCA6IHV0aWxzX21haW4ubGltaXRzLm1pbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICByZXNldE1heDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdXRpbHNfbWFpbi5saW1pdHMubWF4ID0gMDtcbiAgICAgICAgfSxcblxuICAgICAgICByZXNldE1pbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdXRpbHNfbWFpbi5saW1pdHMubWluID0gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldE1heDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHV0aWxzX21haW4ubGltaXRzLm1heDtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRNaW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB1dGlsc19tYWluLmxpbWl0cy5taW47XG4gICAgICAgIH1cbiAgICB9LFxuXG5cblxuICAgIC8qKiBcbiAgICBjcmVhdGVzIGFuZCByZXR1cm5zIGEgY2xlYXJmbG9hdCBjbGFzcyBkaXZcbiAgICBAcmV0dXJucyB7ZWxlbWVudH0gZGl2IHdpdGggXCJjbGVhcmZsb2F0XCIgY2xhc3NcbiAgICAqL1xuICAgIG1ha2VDbGVhckZsb2F0RGl2OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjbGVhcl9kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjbGVhcl9kaXYuY2xhc3NOYW1lID0gXCJjbGVhcmZsb2F0XCI7XG4gICAgICAgIHJldHVybiBjbGVhcl9kaXY7XG4gICAgfSxcblxuXG4gICAgLyoqIGxvb2tzIGF0IGFuIGFycmF5LCB0YWtlcyBzdHJpbmcgXCJmYWxzZVwiIG9yIFwibnVsbFwiIGFuZCByZXR1cm5zIGZhbHNlIG9yIG51bGwgKiovXG4gICAgcGFyc2VCb29sc0Zyb21BcnJheTogZnVuY3Rpb24gKGFycikge1xuICAgICAgICByZXR1cm4gYXJyLm1hcChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGUgPT09IFwiZmFsc2VcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZSA9PT0gXCJudWxsXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG5cblxuXG5cbiAgICAvKiogQ29udmVydHMgYW4gcmdiIHN0cmluZyB0byBhbiBhcnJheSBvZiAzIHZhbHVlcyoqL1xuICAgIHJnYjJhcnI6IGZ1bmN0aW9uIChyZ2IpIHtcbiAgICAgICAgcmV0dXJuIHJnYi5yZXBsYWNlKC9bXjAtOVxcLF0rL2csICcnKS5zcGxpdChcIixcIikubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoaXRlbSwgMTApO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG5cblxuXG4gICAgLyoqIERpc3BsYXlzIGFuIGVycm9yIG1lc3NhZ2UgZm9yIGEgZmV3IHNlY29uZHMqKi9cbiAgICBzaG93RXJyb3I6IGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgICAgICAgJChcIi5hbGVydC1kYW5nZXJcIikudGV4dChzdHJpbmcpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCIuYWxlcnQtZGFuZ2VyXCIpLnRleHQoXCJcIik7XG4gICAgICAgIH0sIDgwMDApO1xuXG4gICAgfSxcblxuXG5cblxuICAgIC8qKiBzdHJpbmdpZnkgdG9vbHRpcCAvIHktYXhpcyBmb3JtYXR0ZXIgZnVuY3Rpb24gKiovXG4gICAgc3RyaW5naWZ5Rm9ybWF0dGVyOiBmdW5jdGlvbiAoZm9ybWF0dGVyLCByZXBsYWNlbWVudF9vYmopIHtcblxuXG5cbiAgICAgICAgdmFyIGZvcm1hdHRlcl9zdHIgPSBmb3JtYXR0ZXIudG9TdHJpbmcoKS5yZXBsYWNlKC9cXC9cXC8uKlxcL1xcLy9nLCBcIlwiKTsgLy9yZXBsYWNlIG5vdGVzIGluIGJldHdlZW4gLy8uLi4vL1xuXG5cbiAgICAgICAgLy94LHkseiBzaWducyBhcnJheSByZXBsYWNlbWVudHNcblxuICAgICAgICBmb3JtYXR0ZXJfc3RyID0gZm9ybWF0dGVyX3N0clxuICAgICAgICAgICAgLnJlcGxhY2UoL3lfc2lnbnNfYXJyXFxbMFxcXS9nLCAnXCInICsgcmVwbGFjZW1lbnRfb2JqLnlfc2lnbnNfYXJyWzBdICsgJ1wiJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC95X3NpZ25zX2FyclxcWzFcXF0vZywgJ1wiJyArIHJlcGxhY2VtZW50X29iai55X3NpZ25zX2FyclsxXSArICdcIicpXG4gICAgICAgICAgICAucmVwbGFjZSgveF9zaWduc19hcnJcXFswXFxdL2csICdcIicgKyByZXBsYWNlbWVudF9vYmoueF9zaWduc19hcnJbMF0gKyAnXCInKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3hfc2lnbnNfYXJyXFxbMVxcXS9nLCAnXCInICsgcmVwbGFjZW1lbnRfb2JqLnhfc2lnbnNfYXJyWzFdICsgJ1wiJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC96X3NpZ25zX2FyclxcWzBcXF0vZywgJ1wiJyArIHJlcGxhY2VtZW50X29iai56X3NpZ25zX2FyclswXSArICdcIicpXG4gICAgICAgICAgICAucmVwbGFjZSgvel9zaWduc19hcnJcXFsxXFxdL2csICdcIicgKyByZXBsYWNlbWVudF9vYmouel9zaWduc19hcnJbMV0gKyAnXCInKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3lfYXhpc19zaWduc19hcnJcXFswXFxdL2csICdcIicgKyByZXBsYWNlbWVudF9vYmoueV9heGlzX3NpZ25zX2FyclswXSArICdcIicpXG4gICAgICAgICAgICAucmVwbGFjZSgveV9heGlzX3NpZ25zX2FyclxcWzFcXF0vZywgJ1wiJyArIHJlcGxhY2VtZW50X29iai55X2F4aXNfc2lnbnNfYXJyWzFdICsgJ1wiJyk7XG5cbiAgICAgICAgZm9yIChuYW1lIGluIHJlcGxhY2VtZW50X29iaikge1xuICAgICAgICAgICAgdmFyIHJlID0gbmV3IFJlZ0V4cChcIlxcXFxiXCIgKyBuYW1lLCBcImdcIik7XG5cbiAgICAgICAgICAgIGlmIChpc05hTihOdW1iZXIocmVwbGFjZW1lbnRfb2JqW25hbWVdKSkpIHsgLy9yZXBsYWNlIHN0cmluZ3Mgd2l0aCBxdW90ZXNcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZXJfc3RyID0gZm9ybWF0dGVyX3N0ci5yZXBsYWNlKHJlLCAnXCInICsgcmVwbGFjZW1lbnRfb2JqW25hbWVdICsgJ1wiJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvcm1hdHRlcl9zdHIgPSBmb3JtYXR0ZXJfc3RyLnJlcGxhY2UocmUsIHJlcGxhY2VtZW50X29ialtuYW1lXSk7IC8vcmVwbGFjZSBudW1iZXJzIHdpdGhvdXQgcXVvdGVzXG4gICAgICAgICAgICB9XG5cblxuXG5cbiAgICAgICAgICAgIGZvcm1hdHRlcl9zdHIgPSBmb3JtYXR0ZXJfc3RyLnJlcGxhY2UoJysgXCJcIicsIFwiXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoJ1wiXCIgKycsIFwiXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL3kgXFwqIDEoPyEwKS9nLCBcInlcIilcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvdmFsdWUgXFwvIDEoPyEwKS9nLCBcInZhbHVlXCIpOyAvL3JlcGxhY2UgZW1wdHkgc3RyaW5ncyBhbmQgcmVtb3ZlIGRpdmlkZSBvciB0aW1lcyBieSAxXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZm9ybWF0dGVyX3N0cjtcblxuICAgIH0sXG5cbiAgICB2YWx1ZVNvcnQoYXJyKSB7XG4gICAgICAgIHZhciB2YWx1ZXNfYXJyID0gW107XG4gICAgICAgICQuZWFjaChhcnIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzX2Fyci5wdXNoKHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFsdWVzX2Fyci5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYSAtIGI7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB2YWx1ZXNfYXJyO1xuICAgIH0sXG5cbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHV0aWxzX21haW47IiwidmFyIGNoYXJ0X3JlY2FsbCA9IHJlcXVpcmUoXCIuLi9jaGFydF9yZWNhbGwuanNcIik7XG52YXIgdXRpbHNfbWFpbiA9IHJlcXVpcmUoXCIuL3V0aWxzX21haW4uanNcIik7XG4vKiogZnVuY3Rpb25zIGZvciBjaGFydCAvIG1hcCBjb2RlIG91dHB1dCBcbkBuYW1lc3BhY2VcbioqL1xuXG52YXIgd3JpdGVfY29kZSA9IHtcblxuICAgIC8qKiBjYWxscyBjb2RlIHdyaXRpbmcgZnVuY3Rpb25zIGFuZCB3cml0ZXMgdG8gY29kZSBhcmVhKi9cbiAgICB3cml0ZUNvZGU6IGZ1bmN0aW9uIHdyaXRlQ29kZShhbGxfY2hhcnRfb3B0aW9ucywgYWxsX21hcF9vcHRpb25zKSB7XG5cblxuICAgICAgICB2YXIgd2lkdGggPSAkKFwiI2NoYXJ0X3dpZHRoX3RleHRpbnB1dFwiKS52YWwoKTtcbiAgICAgICAgdmFyIGhlaWdodCA9ICQoXCIjY2hhcnRfaGVpZ2h0X3RleHRpbnB1dFwiKS52YWwoKTtcbiAgICAgICAgdmFyIGlkID0gYWxsX2NoYXJ0X29wdGlvbnMuY2hhcnQucmVuZGVyVG87XG5cbiAgICAgICAgaWYgKGFsbF9jaGFydF9vcHRpb25zLmNoYXJ0LnR5cGUgIT09IFwibWFwXCIpIHsgLy9ub3QgbWFwXG5cbiAgICAgICAgICAgIHZhciBodG1sX3N0cmluZyA9IHdyaXRlX2NvZGUud3JpdGVDaGFydEhUTUxDb2RlKGFsbF9jaGFydF9vcHRpb25zLCB3aWR0aCwgaGVpZ2h0LCBpZCk7XG4gICAgICAgICAgICB2YXIganNfc3RyaW5nID0gd3JpdGVfY29kZS53cml0ZUNoYXJ0SlNDb2RlKGFsbF9jaGFydF9vcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIHsgLy9tYXBcbiAgICAgICAgICAgIHZhciBodG1sX3N0cmluZyA9IHdyaXRlX2NvZGUud3JpdGVNYXBIVE1MQ29kZShhbGxfbWFwX29wdGlvbnMsIHdpZHRoLCBoZWlnaHQsIGlkKTtcbiAgICAgICAgICAgIHZhciBqc19zdHJpbmcgPSB3cml0ZV9jb2RlLndyaXRlTWFwSlNDb2RlKGFsbF9tYXBfb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICAvL3B1dCBjb2RlIGluIHRoZSA8Y29kZT5cbiAgICAgICAgJChcIiNjaGFydF9odG1sX2NvZGVcIikudmFsKGh0bWxfc3RyaW5nKTtcblxuICAgICAgICAvL3B1dCBqcyBjb2RlIGluIGNvZGUgYXJlYVxuICAgICAgICAkKFwiI2NoYXJ0X291dHB1dF9jb2RlXCIpLnZhbChqc19zdHJpbmcpO1xuXG5cbiAgICB9LFxuXG5cblxuXG5cbiAgICAvKiogY3JlYXRlcyBhbmQgcmV0dXJucyBjaGFydCBIVE1MIGNvZGUgICoqL1xuICAgIHdyaXRlQ2hhcnRIVE1MQ29kZTogZnVuY3Rpb24gKGFsbF9jaGFydF9vcHRpb25zLCB3aWR0aCwgaGVpZ2h0LCBpZCkge1xuXG4gICAgICAgIHZhciBodG1sX3N0cmluZyA9ICc8ZGl2IGlkPVwiJyArIGlkICsgJ1wiIHN0eWxlID0gXCJwb3NpdGlvbjogcmVsYXRpdmU7IHdpZHRoOiAnICsgd2lkdGggKyAncHg7IGhlaWdodDogJyArIGhlaWdodCArICdweDsgbWFyZ2luOiBhdXRvOyBwYWRkaW5nOiAwcHg7XCI+IDwvZGl2Pic7XG5cbiAgICAgICAgcmV0dXJuIGh0bWxfc3RyaW5nO1xuICAgIH0sXG5cblxuICAgIC8qKiBjcmVhdGVzIGFuZCByZXR1cm5zIG1hcCBIVE1MIGNvZGUgICoqL1xuICAgIHdyaXRlTWFwSFRNTENvZGU6IGZ1bmN0aW9uIChhbGxfbWFwX29wdGlvbnMsIHdpZHRoLCBoZWlnaHQsIGlkKSB7XG5cbiAgICAgICAgdmFyIGh0bWxfc3RyaW5nID0gJzxkaXYgY2xhc3M9XCJtYXBfZGlzcGxheV9hcmVhXCIgaWQ9XCInICsgaWQgKyAnXCIgc3R5bGUgPSBcIndpZHRoOiAnICsgd2lkdGggKyAncHg7IGhlaWdodDogJyArIChoZWlnaHQgLSA2MCkgKyAncHg7IG1hcmdpbjogYXV0bzsgcGFkZGluZzogMHB4O1wiPiA8L2Rpdj4nO1xuXG4gICAgICAgIHJldHVybiBodG1sX3N0cmluZztcbiAgICB9LFxuXG5cblxuICAgIC8qKiBwbGFjZSBjb2RlIGluIGNoYXJ0X291dHB1dF9jb2RlIGFuZCByZWluaXQgaGlnaGxpZ2h0ICovXG4gICAgd3JpdGVDaGFydEpTQ29kZTogZnVuY3Rpb24gKGFsbF9jaGFydF9vcHRpb25zKSB7XG4gICAgICAgIFxuICAgICAgICB2YXIgZHJhd19jaGFydCA9IHJlcXVpcmUoXCIuLi9kcmF3X2NoYXJ0LmpzXCIpO1xuXG5cbiAgICAgICAgLy9zYXZlIGNoYXJ0IGlucHV0IHZhbHVlc1xuICAgICAgICBhbGxfY2hhcnRfb3B0aW9ucy5zYXZlZF92YWx1ZXMgPSBjaGFydF9yZWNhbGwuc2F2ZVZhbHVlcygpO1xuXG4gICAgICAgIHZhciBjaGFydF9vcHRpb25zX2pzID0gdXRpbHNfbWFpbi5kZWVwU3RyaW5naWZ5KGFsbF9jaGFydF9vcHRpb25zKTtcblxuICAgICAgICBjaGFydF9vcHRpb25zX2pzLnN0cmluZyA9IGNoYXJ0X29wdGlvbnNfanMuc3RyaW5nXG5cbiAgICAgICAgICAgIC5yZXBsYWNlKC9cImZ1bmN0aW9uKFxcZCspXCIvZywgZnVuY3Rpb24gKG1hdGNoLCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0X29wdGlvbnNfanMuZnVuY3Rpb25zX2FycltpXVxuICAgICAgICAgICAgfSkgLy8gcmVwbGFjZSBmdW5jdGlvbiBwbGFjZSBob2xkZXJzIHdpdGggdGhlaXIgZnVuY3Rpb24gc3RyaW5nIGZyb20gaXRzIGluZGV4IGluIHRoZSBhcnJheVxuICAgICAgICAgICAgLnJlcGxhY2UoL2hlYWRlcnM9XFxcXFwicm93SGVhZFxcZCsgY29sdW1uSGVhZFxcZCtcXFxcXCIvZywgXCJcIikgLy90cmltIGRvd24gdGFibGUgYWx0IG91dHB1dCB0byBtYWtlIGl0IHNtYWxsZXJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9pZD1cXFxcXCIocm93SGVhZHxjb2x1bW5IZWFkKVxcZCtcXFxcXCIvZywgXCJcIilcbiAgICAgICAgICAgIC8vcmVwbGFjZSBhbnNpIHN5bWJvbHMgKG4tZGFzaCBldGMpLCB3aXRoIHByaW50ZWQganMgY29kZVxuICAgICAgICAgICAgLnJlcGxhY2UoL+KAky8sIFwiXFxcXHUyMDEzXCIpIC8vbmRhc2hcbiAgICAgICAgICAgIC5yZXBsYWNlKC/igJQvLCBcIlxcXFx1MjAxNFwiKSAvL21kYXNoXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxzezIsfSAvZywgXCIgXCIpIC8vcmVwbGFjZSBzZXZlcmFsIHNwYWNlcyB3aXRoIG9uZVxuICAgICAgICAgICAgLnJlcGxhY2UoL1wibnVsbFwiL2csIFwibnVsbFwiKSAvL3JlcGxhY2UgXCJudWxsXCIgd2l0aCBudWxsXG4gICAgICAgICAgICArIFwiO1xcblxcblwiO1xuXG5cbiAgICAgICAgLy93cml0ZSBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICBjaGFydF9vcHRpb25zX2pzLnN0cmluZyA9IGNoYXJ0X29wdGlvbnNfanMuc3RyaW5nICsgXCJ2YXIgY2hhcnRDYWxsYmFjayA9IFwiICsgZHJhd19jaGFydC5jaGFydENhbGxiYWNrLnRvU3RyaW5nKCk7ICsgXCJcXG5cIjtcblxuXG4gICAgICAgIC8vYWRkIHN1cnJvdW5kaW5nIEpTIChkb2MgcmVhZHksIHJlbmRlciBjaGFydCwganEgZXh0ZW5zaW9ucy4uLilcbiAgICAgICAgY2hhcnRfb3B0aW9uc19qcy5zdHJpbmcgPSAnJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcXG5cXFxuICAgICAgICAgICAgIHZhciBhbGxfY2hhcnRfb3B0aW9ucyA9ICcgKyBjaGFydF9vcHRpb25zX2pzLnN0cmluZyArICc7XFxuXFxcbkhpZ2hjaGFydHMuc2V0T3B0aW9ucyh7bGFuZzoge3Rob3VzYW5kc1NlcDogXCIsXCJ9fSk7XFxuXFxuXFxcbiAgICB2YXIgY2hhcnQgPSBuZXcgSGlnaGNoYXJ0cy5DaGFydChhbGxfY2hhcnRfb3B0aW9ucywgY2hhcnRDYWxsYmFjayhhbGxfY2hhcnRfb3B0aW9ucykpO1xcblxcXG59KTtcXG5cXFxualF1ZXJ5LmZuLmV4dGVuZCh7YWRkQ29tbWFzOicgKyAkKFwic3RyaW5nXCIpLmFkZENvbW1hcy50b1N0cmluZygpICsgJyB9KTsnO1xuXG4gICAgICAgIHJldHVybiBjaGFydF9vcHRpb25zX2pzLnN0cmluZztcblxuXG4gICAgfSxcblxuXG5cblxuICAgIC8qKiBjcmVhdGVzIGFuZCByZXR1cm5zIG1hcCBKUyBjb2RlICAqKi9cbiAgICB3cml0ZU1hcEpTQ29kZTogZnVuY3Rpb24gKGFsbF9tYXBfb3B0aW9ucykge1xuXG4gICAgICAgIHZhciBtYXBfaW5pdCA9IHJlcXVpcmUoXCIuLi9pbml0aWFsaXplcnMvbWFwcy9tYXBfaW5pdC5qc1wiKTtcbiAgICAgICAgdmFyIG1hcF9zdWJ0aXRsZV9pbml0ID0gcmVxdWlyZShcIi4uL2luaXRpYWxpemVycy9tYXBzL21hcF9zdWJ0aXRsZV9pbml0LmpzXCIpO1xuICAgICAgICB2YXIgbWFwX3RpdGxlX2luaXQgPSByZXF1aXJlKFwiLi4vaW5pdGlhbGl6ZXJzL21hcHMvbWFwX3RpdGxlX2luaXQuanNcIik7XG4gICAgICAgIHZhciBtYXBfY3JlZGl0c19pbml0ID0gcmVxdWlyZShcIi4uL2luaXRpYWxpemVycy9tYXBzL21hcF9jcmVkaXRzX2luaXQuanNcIik7XG4gICAgICAgIHZhciBtYXBfbGVnZW5kX2luaXQgPSByZXF1aXJlKFwiLi4vaW5pdGlhbGl6ZXJzL21hcHMvbWFwX2xlZ2VuZF9pbml0LmpzXCIpO1xuICAgICAgICB2YXIgbWFwX3Rvb2x0aXBfaW5pdCA9IHJlcXVpcmUoXCIuLi9pbml0aWFsaXplcnMvbWFwcy9tYXBfdG9vbHRpcF9pbml0LmpzXCIpO1xuICAgICAgICB2YXIgbWFwX2FuaW1hdGlvbl9pbml0ID0gcmVxdWlyZShcIi4uL2luaXRpYWxpemVycy9tYXBzL21hcF9hbmltYXRpb25faW5pdC5qc1wiKTtcblxuXG4gICAgICAgIHZhciBtYXBfanMgPSB1dGlsc19tYWluLmRlZXBTdHJpbmdpZnkoYWxsX21hcF9vcHRpb25zKTtcblxuICAgICAgICAvL3dyaXRlIG91dCBtYXAgb3B0aW9ucyBvYmplY3RcbiAgICAgICAgbWFwX2pzLnN0cmluZyA9IFwiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcXG5cIiArXG5cbiAgICAgICAgICAgIFwidmFyIGFsbF9tYXBfb3B0aW9ucyA9IFwiICsgbWFwX2pzLnN0cmluZyArIFwiO1xcblxcblwiICtcblxuICAgICAgICAgICAgLy93cml0ZSBvdXQgZnVuY3Rpb25zIG5lZWRlZCB0byBjb252ZXJ0IGFsbF9tYXBfb3B0aW9ucyB0byBzdmcgLy9cblxuICAgICAgICAgICAgLy9tYXBfaW5pdFxuXG4gICAgICAgICAgICBcInZhciBtYXBfaW5pdCA9IHt9OyBcXG5cIiArXG5cbiAgICAgICAgICAgIC8vbWFwX2luaXQuZ2V0TWFwT3V0ZXJEaXZcbiAgICAgICAgICAgIFwibWFwX2luaXQuZ2V0TWFwT3V0ZXJEaXYgPSBcIiArIG1hcF9pbml0LmdldE1hcE91dGVyRGl2LnRvU3RyaW5nKCkgKyBcIjtcXG5cXG5cIiArXG5cbiAgICAgICAgICAgIC8vbWFwX2luaXQuZ2V0TWFwT3V0ZXJTVkdcbiAgICAgICAgICAgIFwibWFwX2luaXQuZ2V0TWFwT3V0ZXJTVkcgPSBcIiArIG1hcF9pbml0LmdldE1hcE91dGVyU1ZHLnRvU3RyaW5nKCkgKyBcIjtcXG5cXG5cIiArXG5cbiAgICAgICAgICAgIC8vbWFwX2luaXQucG9wdWxhdGVTVkdBcmVhc1xuICAgICAgICAgICAgXCJtYXBfaW5pdC5wb3B1bGF0ZVNWR0FyZWFzID0gXCIgKyBtYXBfaW5pdC5wb3B1bGF0ZVNWR0FyZWFzLnRvU3RyaW5nKCkgKyBcIjtcXG5cXG5cIiArXG5cbiAgICAgICAgICAgIC8vbWFwX3RpdGxlX2luaXQuZ2V0TWFwVGl0bGVcbiAgICAgICAgICAgIFwidmFyIG1hcF90aXRsZV9pbml0ID0ge307IFxcbiBtYXBfdGl0bGVfaW5pdC5nZXRNYXBUaXRsZSA9IFwiICsgbWFwX3RpdGxlX2luaXQuZ2V0TWFwVGl0bGUudG9TdHJpbmcoKSArIFwiO1xcblxcblwiICtcblxuICAgICAgICAgICAgLy9tYXBfc3VidGl0bGVfaW5pdC5nZXRNYXBTdWJ0aXRsZVxuICAgICAgICAgICAgXCJ2YXIgbWFwX3N1YnRpdGxlX2luaXQgPSB7fTsgXFxuIG1hcF9zdWJ0aXRsZV9pbml0LmdldE1hcFN1YnRpdGxlID0gXCIgKyBtYXBfc3VidGl0bGVfaW5pdC5nZXRNYXBTdWJ0aXRsZS50b1N0cmluZygpICsgXCI7XFxuXFxuXCIgK1xuXG4gICAgICAgICAgICAvL21hcF9jcmVkaXRzX2luaXQuZ2V0TWFwQ3JlZGl0c1xuICAgICAgICAgICAgXCJ2YXIgbWFwX2NyZWRpdHNfaW5pdCA9IHt9OyBcXG4gbWFwX2NyZWRpdHNfaW5pdC5nZXRNYXBDcmVkaXRzID0gXCIgKyBtYXBfY3JlZGl0c19pbml0LmdldE1hcENyZWRpdHMudG9TdHJpbmcoKSArIFwiO1xcblxcblwiICtcblxuXG4gICAgICAgICAgICAvL21hcF9sZWdlbmRfaW5pdC52YWx1ZU1vZFxuICAgICAgICAgICAgXCJ2YXIgbWFwX2xlZ2VuZF9pbml0ID0ge307IFxcbiBtYXBfbGVnZW5kX2luaXQudmFsdWVNb2QgPSBcIiArIG1hcF9sZWdlbmRfaW5pdC52YWx1ZU1vZC50b1N0cmluZygpICsgXCI7XFxuXFxuXCIgK1xuXG4gICAgICAgICAgICAvL21hcF9sZWdlbmRfaW5pdC5nZXRNYXBMZWdlbmRcbiAgICAgICAgICAgIFwibWFwX2xlZ2VuZF9pbml0LmdldE1hcExlZ2VuZCA9IFwiICsgbWFwX2xlZ2VuZF9pbml0LmdldE1hcExlZ2VuZC50b1N0cmluZygpICsgXCI7XFxuXFxuXCIgK1xuXG4gICAgICAgICAgICAvL21hcF90b29sdGlwX2luaXQuZ2V0TWFwVG9vbHRpcFxuICAgICAgICAgICAgXCJ2YXIgbWFwX3Rvb2x0aXBfaW5pdCA9IHt9OyBcXG4gbWFwX3Rvb2x0aXBfaW5pdC5nZXRNYXBUb29sdGlwID0gXCIgKyBtYXBfdG9vbHRpcF9pbml0LmdldE1hcFRvb2x0aXAudG9TdHJpbmcoKSArIFwiO1xcblxcblwiICtcblxuICAgICAgICAgICAgLy9tYXBfaW5pdC5jb252ZXJ0TWFwT3B0aW9uc1RvU1ZHIFxuICAgICAgICAgICAgXCJtYXBfaW5pdC5jb252ZXJ0TWFwT3B0aW9uc1RvU1ZHID0gXCIgKyBtYXBfaW5pdC5jb252ZXJ0TWFwT3B0aW9uc1RvU1ZHLnRvU3RyaW5nKCkgKyBcIjtcXG5cXG5cIiArXG5cbiAgICAgICAgICAgIC8vbWFwX2luaXQuc2V0VXBNYXBIb3ZlclxuICAgICAgICAgICAgXCJtYXBfaW5pdC5zZXRVcE1hcEhvdmVyID0gXCIgKyBtYXBfaW5pdC5zZXRVcE1hcEhvdmVyLnRvU3RyaW5nKCkgKyBcIjtcXG5cXG5cIiArXG5cbiAgICAgICAgICAgIC8vbWFwX2luaXQuc2V0VXBNYXBMZWdlbmRIb3ZlclxuICAgICAgICAgICAgXCJtYXBfaW5pdC5zZXRVcE1hcExlZ2VuZEhvdmVyID0gXCIgKyBtYXBfaW5pdC5zZXRVcE1hcExlZ2VuZEhvdmVyLnRvU3RyaW5nKCkgKyBcIjtcXG5cXG5cIiArXG5cbiAgICAgICAgICAgIC8vbWFwX2luaXQuc2V0VXBNYXBTdGF0ZUxpbmtzXG4gICAgICAgICAgICBcIm1hcF9pbml0LnNldFVwTWFwU3RhdGVMaW5rcyA9IFwiICsgbWFwX2luaXQuc2V0VXBNYXBTdGF0ZUxpbmtzLnRvU3RyaW5nKCkgKyBcIjtcXG5cXG5cIiArXG5cblxuICAgICAgICAgICAgLy9tYXBfYW5pbWF0aW9uX2luaXQuZ2V0QW5pbWF0aW9uRGl2IChvbmx5IGlmIHVzZWQpXG4gICAgICAgICAgICBcInZhciBtYXBfYW5pbWF0aW9uX2luaXQgPSB7fTsgXFxuIG1hcF9hbmltYXRpb25faW5pdC5nZXRBbmltYXRpb25EaXYgPSBcIiArIChhbGxfbWFwX29wdGlvbnMuaXNfYW5pbWF0ZWQgPyBtYXBfYW5pbWF0aW9uX2luaXQuZ2V0QW5pbWF0aW9uRGl2LnRvU3RyaW5nKCkgOiBudWxsKSArIFwiO1xcblxcblwiICtcblxuXG4gICAgICAgICAgICAvL21hcF9hbmltYXRpb25faW5pdC5zZXRVcE1hcEFuaW1hdGlvbiAob25seSBpZiB1c2VkKVxuICAgICAgICAgICAgXCJtYXBfYW5pbWF0aW9uX2luaXQuc2V0VXBNYXBBbmltYXRpb24gPSBcIiArIChhbGxfbWFwX29wdGlvbnMuaXNfYW5pbWF0ZWQgPyBtYXBfYW5pbWF0aW9uX2luaXQuc2V0VXBNYXBBbmltYXRpb24udG9TdHJpbmcoKSA6IG51bGwpICsgXCI7XFxuXFxuXCIgK1xuXG5cbiAgICAgICAgICAgIC8vY2FsbCBmdW5jdGlvbnNcbiAgICAgICAgICAgIFwidmFyIG1hcF9kaXNwbGF5X2FyZWEgPSBtYXBfaW5pdC5jb252ZXJ0TWFwT3B0aW9uc1RvU1ZHKGFsbF9tYXBfb3B0aW9ucyk7XFxuXFxuXCIgKyAvL2NvbnZlcnRzIGFsbF9tYXBfb3B0aW9ucyB0byBzdmcgYW5kIHB1dHMgaXQgb24gcGFnZVxuXG4gICAgICAgICAgICAvL2luaXQgdG9vbHRpcCBhbmQgaGlnaGxpZ2h0aW5nXG4gICAgICAgICAgICBcIm1hcF9pbml0LnNldFVwTWFwSG92ZXIoYWxsX21hcF9vcHRpb25zLCBtYXBfZGlzcGxheV9hcmVhKTtcXG5cXG5cIiArXG5cbiAgICAgICAgICAgIC8vaW5pdCBsZWdlbmQgaG92ZXJpbmdcbiAgICAgICAgICAgIFwibWFwX2luaXQuc2V0VXBNYXBMZWdlbmRIb3ZlcihtYXBfZGlzcGxheV9hcmVhKTtcXG5cXG5cIiArXG5cbiAgICAgICAgICAgIC8vaW5pdCBzdGF0ZSBsaW5rcyB0byBlYWcgcGFnZXNcbiAgICAgICAgICAgIFwibWFwX2luaXQuc2V0VXBNYXBTdGF0ZUxpbmtzKG1hcF9kaXNwbGF5X2FyZWEpO1xcblxcblwiICtcblxuXG4gICAgICAgICAgICAvL2luaXQgc2V0dXAgb2YgYW5pbWF0aW9uIGZ1bmN0aW9ucyAoaWYgdXNlZClcbiAgICAgICAgICAgIChhbGxfbWFwX29wdGlvbnMuaXNfYW5pbWF0ZWQgPyBcIm1hcF9hbmltYXRpb25faW5pdC5zZXRVcE1hcEFuaW1hdGlvbihhbGxfbWFwX29wdGlvbnMsIG1hcF9kaXNwbGF5X2FyZWEpO1xcblxcblwiIDogXCJcIikgK1xuXG4gICAgICAgICAgICAvLy9lbmQgb2YgZG9jIHJlYWR5XG4gICAgICAgICAgICBcIn0pO1wiICtcblxuICAgICAgICAgICAgLy9hZGQgalF1ZXJ5IGFkZGNvbW1hcyBleHRlbnNpb25cbiAgICAgICAgICAgICdqUXVlcnkuZm4uZXh0ZW5kKHthZGRDb21tYXM6JyArICQoXCJzdHJpbmdcIikuYWRkQ29tbWFzLnRvU3RyaW5nKCkgKyAnIH0pOyc7XG5cbiAgICAgICAgLy9yZXBsYWNlbWVudHNcbiAgICAgICAgbWFwX2pzLnN0cmluZyA9IG1hcF9qcy5zdHJpbmcucmVwbGFjZSgv4pa2L2csIFwiXFxcXHUyNUI2XCIpO1xuXG4gICAgICAgIHJldHVybiBtYXBfanMuc3RyaW5nO1xuICAgIH1cblxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHdyaXRlX2NvZGU7Il19
