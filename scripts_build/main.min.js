(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

$(document).ready(function () {

    //utils
    var utils = require("./utils/utils_main.js");
    var jq_extensions = require("./utils/jq_extensions.js");

    //inits
    var navigation_setup = require("./navigation_setup.js");
    var keyboard_inputs = require("./keyboard_inputs");

    //constructors
    var ChartOptions = require("./constructors/chart_options.js");

    var options = {
        colors: [1, 3]
    };
    var chart_options = new ChartOptions(options);

    var chart_options_js_string = utils.deepStringify(chart_options);

    $("#chart_output_code").text(chart_options_js_string);
});

},{"./constructors/chart_options.js":2,"./keyboard_inputs":3,"./navigation_setup.js":4,"./utils/jq_extensions.js":5,"./utils/utils_main.js":6}],2:[function(require,module,exports){
"use strict";

var ChartOptions = function ChartOptions(o) {
    this.chart = o.chart || {};
    this.colors = o.colors || [];
    this.credits = o.credits || {};
    this.exporting = o.exporting || {};
    this.legend = o.legend || {};
    this.plotOptions = o.plotOptions || {};
    this.series = o.series || [{}];
    this.subtitle = o.subtitle || {};
    this.title = o.title || {};
    this.tooltip = o.tooltip || {};
    this.xAxis = o.xAxis || {};
    this.yAxis = o.yAxis || {};
};

ChartOptions.prototype.setOption = function (option, obj) {
    this[option] = obj;
};

module.exports = ChartOptions;

},{}],3:[function(require,module,exports){
"use strict";

module.exports = function () {

    var keyboard_inputs = {

        bindNumberEntryInputs: function bindNumberEntryInputs() {

            var adjValue = function adjValue(val, direction) {
                var val = Number(val);
                if (!isNaN(val)) {
                    return direction === "+" ? val + 10 : val - 10;
                } else {
                    return val;
                }
            };

            $(".number_entry").keyup(function (e) {
                if (e.keyCode === 38) {
                    //up pushed
                    $(this).val(adjValue($(this).val(), "+"));
                } else if (e.keyCode === 40) {
                    $(this).val(adjValue($(this).val(), "-"));
                }
            });
        }

    };

    keyboard_inputs.bindNumberEntryInputs();
}();

},{}],4:[function(require,module,exports){
"use strict";

/** object that contains functions for all the navigation, ie changing between options and chart types */
module.exports = function () {
    var navigation_setup = {

        /** when tabs on left side nav bar are clicked, options displayed are changed */
        sideNavTabsChange: function sideNavTabsChange() {

            $("#side_nav_tabs .tab").click(function () {
                //change selected menu tab
                $("#side_nav_tabs .selected_tab").removeClass("selected_tab");
                $(this).addClass("selected_tab");

                //change display div showing
                var selectedID = "#" + $(this).attr("id").replace("tab", "display");
                $("#side_display .selected_display").removeClass("selected_display");
                $(selectedID).addClass("selected_display");
            });
        },

        /** when chart type icon is clicked and changed */
        chartTypeIconChange: function chartTypeIconChange() {

            $("#chart_type_icons .chart_type_icon").click(function () {
                //change selected icon
                $("#chart_type_icons .chart_type_icon").removeClass("selected_chart_type");
                $(this).addClass("selected_chart_type");
            });
        },

        /** when a help icon is clicked */

        helpIconClick: function helpIconClick() {

            $(".help_icon").click(function () {
                $(this).toggleClass("help_on");
                $(".notes", $(this).parents(".display")).toggle();
            });
        },

        /** when a get code button is clicked */

        getCodeButtonClick: function getCodeButtonClick() {

            $("#get_code_button").click(function (e) {
                var $get_code_span = $("#get_code_text");
                $(this).toggleClass("code_on");
                $("#main_result_code_div").slideToggle(100);
                if ($get_code_span.text() === "Get code") {
                    $get_code_span.text("Hide code");
                } else {
                    $get_code_span.text("Get code");
                }
            });
        }
    };

    navigation_setup.sideNavTabsChange();
    navigation_setup.chartTypeIconChange();
    navigation_setup.helpIconClick();
    navigation_setup.getCodeButtonClick();
}();

},{}],5:[function(require,module,exports){
"use strict";

var jq_extensions = function () {

    jQuery.fn.extend({
        divVal: function divVal(string) {
            //extend so that we can get and set "value" with divs
            if (arguments.length === 0) {
                return $(this).attr("value");
            } else {

                $(this).attr("value", string);
                return $(this);
            }
        }
    });
}();

module.exports = jq_extensions;

},{}],6:[function(require,module,exports){
"use strict";

/** Main utility object, contains functions that get reused often */
var utils_main = {

    /** shortcut for console.log **/
    log: function log(e) {
        return console.log(e);
    },

    //turns objects into strings, including their methods
    deepStringify: function deepStringify(obj) {
        return JSON.stringify(obj, function (key, value) {
            if (typeof value === 'function') {
                return value.toString();
            } else {
                return value;
            }
        }).replace(/\\n/g, "");
    }

};

module.exports = utils_main;

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzY3JpcHRzX3NyYy9hcHAuanMiLCJzY3JpcHRzX3NyYy9jb25zdHJ1Y3RvcnMvY2hhcnRfb3B0aW9ucy5qcyIsInNjcmlwdHNfc3JjL2tleWJvYXJkX2lucHV0cy5qcyIsInNjcmlwdHNfc3JjL25hdmlnYXRpb25fc2V0dXAuanMiLCJzY3JpcHRzX3NyYy91dGlscy9qcV9leHRlbnNpb25zLmpzIiwic2NyaXB0c19zcmMvdXRpbHMvdXRpbHNfbWFpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsRUFBRSxRQUFGLEVBQVksS0FBWixDQUFrQixZQUFZOzs7QUFHMUIsUUFBSSxRQUFRLFFBQVEsdUJBQVIsQ0FBUixDQUhzQjtBQUkxQixRQUFJLGdCQUFnQixRQUFRLDBCQUFSLENBQWhCOzs7QUFKc0IsUUFPdEIsbUJBQW1CLFFBQVEsdUJBQVIsQ0FBbkIsQ0FQc0I7QUFRMUIsUUFBSSxrQkFBa0IsUUFBUSxtQkFBUixDQUFsQjs7O0FBUnNCLFFBV3RCLGVBQWUsUUFBUSxpQ0FBUixDQUFmLENBWHNCOztBQXFCMUIsUUFBSSxVQUFVO0FBQ1YsZ0JBQVEsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUFSO0tBREEsQ0FyQnNCO0FBd0IxQixRQUFJLGdCQUFnQixJQUFJLFlBQUosQ0FBaUIsT0FBakIsQ0FBaEIsQ0F4QnNCOztBQTZCMUIsUUFBSSwwQkFBMEIsTUFBTSxhQUFOLENBQW9CLGFBQXBCLENBQTFCLENBN0JzQjs7QUErQjFCLE1BQUUsb0JBQUYsRUFBd0IsSUFBeEIsQ0FBNkIsdUJBQTdCLEVBL0IwQjtDQUFaLENBQWxCOzs7OztBQ0FJLElBQUksZUFBZSxTQUFmLFlBQWUsQ0FBVSxDQUFWLEVBQWE7QUFDNUIsU0FBSyxLQUFMLEdBQWEsRUFBRSxLQUFGLElBQVcsRUFBWCxDQURlO0FBRTVCLFNBQUssTUFBTCxHQUFjLEVBQUUsTUFBRixJQUFZLEVBQVosQ0FGYztBQUc1QixTQUFLLE9BQUwsR0FBZSxFQUFFLE9BQUYsSUFBYSxFQUFiLENBSGE7QUFJNUIsU0FBSyxTQUFMLEdBQWlCLEVBQUUsU0FBRixJQUFlLEVBQWYsQ0FKVztBQUs1QixTQUFLLE1BQUwsR0FBYyxFQUFFLE1BQUYsSUFBWSxFQUFaLENBTGM7QUFNNUIsU0FBSyxXQUFMLEdBQW1CLEVBQUUsV0FBRixJQUFpQixFQUFqQixDQU5TO0FBTzVCLFNBQUssTUFBTCxHQUFjLEVBQUUsTUFBRixJQUFZLENBQUMsRUFBRCxDQUFaLENBUGM7QUFRNUIsU0FBSyxRQUFMLEdBQWdCLEVBQUUsUUFBRixJQUFjLEVBQWQsQ0FSWTtBQVM1QixTQUFLLEtBQUwsR0FBYSxFQUFFLEtBQUYsSUFBVyxFQUFYLENBVGU7QUFVNUIsU0FBSyxPQUFMLEdBQWUsRUFBRSxPQUFGLElBQWEsRUFBYixDQVZhO0FBVzVCLFNBQUssS0FBTCxHQUFhLEVBQUUsS0FBRixJQUFXLEVBQVgsQ0FYZTtBQVk1QixTQUFLLEtBQUwsR0FBYSxFQUFFLEtBQUYsSUFBVyxFQUFYLENBWmU7Q0FBYjs7QUFnQm5CLGFBQWEsU0FBYixDQUF1QixTQUF2QixHQUFtQyxVQUFVLE1BQVYsRUFBa0IsR0FBbEIsRUFBdUI7QUFDdEQsU0FBSyxNQUFMLElBQWUsR0FBZixDQURzRDtDQUF2Qjs7QUFLbkMsT0FBTyxPQUFQLEdBQWlCLFlBQWpCOzs7OztBQ3JCSixPQUFPLE9BQVAsR0FBaUIsWUFBYTs7QUFFMUIsUUFBSSxrQkFBa0I7O0FBR2xCLCtCQUF1QixTQUFTLHFCQUFULEdBQWlDOztBQUVwRCxnQkFBSSxXQUFXLFNBQVMsUUFBVCxDQUFrQixHQUFsQixFQUF1QixTQUF2QixFQUFrQztBQUM3QyxvQkFBSSxNQUFNLE9BQU8sR0FBUCxDQUFOLENBRHlDO0FBRTdDLG9CQUFJLENBQUMsTUFBTSxHQUFOLENBQUQsRUFBYTtBQUNiLDJCQUFPLGNBQWMsR0FBZCxHQUFvQixNQUFNLEVBQU4sR0FBVyxNQUFNLEVBQU4sQ0FEekI7aUJBQWpCLE1BRU87QUFDSCwyQkFBTyxHQUFQLENBREc7aUJBRlA7YUFGVyxDQUZxQzs7QUFXcEQsY0FBRSxlQUFGLEVBQW1CLEtBQW5CLENBQXlCLFVBQVUsQ0FBVixFQUFhO0FBQ2xDLG9CQUFJLEVBQUUsT0FBRixLQUFjLEVBQWQsRUFBa0I7O0FBQ2xCLHNCQUFFLElBQUYsRUFBUSxHQUFSLENBQVksU0FBUyxFQUFFLElBQUYsRUFBUSxHQUFSLEVBQVQsRUFBd0IsR0FBeEIsQ0FBWixFQURrQjtpQkFBdEIsTUFFTyxJQUFJLEVBQUUsT0FBRixLQUFjLEVBQWQsRUFBa0I7QUFDekIsc0JBQUUsSUFBRixFQUFRLEdBQVIsQ0FBWSxTQUFTLEVBQUUsSUFBRixFQUFRLEdBQVIsRUFBVCxFQUF3QixHQUF4QixDQUFaLEVBRHlCO2lCQUF0QjthQUhjLENBQXpCLENBWG9EO1NBQWpDOztLQUh2QixDQUZzQjs7QUE0QjFCLG9CQUFnQixxQkFBaEIsR0E1QjBCO0NBQVosRUFBbEI7Ozs7OztBQ0NBLE9BQU8sT0FBUCxHQUFpQixZQUFhO0FBQzFCLFFBQUksbUJBQW1COzs7QUFHbkIsMkJBQW1CLFNBQVMsaUJBQVQsR0FBNkI7O0FBRTVDLGNBQUUscUJBQUYsRUFBeUIsS0FBekIsQ0FBK0IsWUFBWTs7QUFFdkMsa0JBQUUsOEJBQUYsRUFBa0MsV0FBbEMsQ0FBOEMsY0FBOUMsRUFGdUM7QUFHdkMsa0JBQUUsSUFBRixFQUFRLFFBQVIsQ0FBaUIsY0FBakI7OztBQUh1QyxvQkFNbkMsYUFBYSxNQUFNLEVBQUUsSUFBRixFQUFRLElBQVIsQ0FBYSxJQUFiLEVBQW1CLE9BQW5CLENBQTJCLEtBQTNCLEVBQWtDLFNBQWxDLENBQU4sQ0FOc0I7QUFPdkMsa0JBQUUsaUNBQUYsRUFBcUMsV0FBckMsQ0FBaUQsa0JBQWpELEVBUHVDO0FBUXZDLGtCQUFFLFVBQUYsRUFBYyxRQUFkLENBQXVCLGtCQUF2QixFQVJ1QzthQUFaLENBQS9CLENBRjRDO1NBQTdCOzs7QUFnQm5CLDZCQUFxQixTQUFTLG1CQUFULEdBQStCOztBQUVoRCxjQUFFLG9DQUFGLEVBQXdDLEtBQXhDLENBQThDLFlBQVk7O0FBRXRELGtCQUFFLG9DQUFGLEVBQXdDLFdBQXhDLENBQW9ELHFCQUFwRCxFQUZzRDtBQUd0RCxrQkFBRSxJQUFGLEVBQVEsUUFBUixDQUFpQixxQkFBakIsRUFIc0Q7YUFBWixDQUE5QyxDQUZnRDtTQUEvQjs7OztBQVlyQix1QkFBZSxTQUFTLGFBQVQsR0FBeUI7O0FBRXBDLGNBQUUsWUFBRixFQUFnQixLQUFoQixDQUFzQixZQUFZO0FBQzlCLGtCQUFFLElBQUYsRUFBUSxXQUFSLENBQW9CLFNBQXBCLEVBRDhCO0FBRTlCLGtCQUFFLFFBQUYsRUFBWSxFQUFFLElBQUYsRUFBUSxPQUFSLENBQWdCLFVBQWhCLENBQVosRUFBeUMsTUFBekMsR0FGOEI7YUFBWixDQUF0QixDQUZvQztTQUF6Qjs7OztBQVdmLDRCQUFvQixTQUFTLGtCQUFULEdBQThCOztBQUU5QyxjQUFFLGtCQUFGLEVBQXNCLEtBQXRCLENBQTRCLFVBQVUsQ0FBVixFQUFhO0FBQ3JDLG9CQUFJLGlCQUFpQixFQUFFLGdCQUFGLENBQWpCLENBRGlDO0FBRXJDLGtCQUFFLElBQUYsRUFBUSxXQUFSLENBQW9CLFNBQXBCLEVBRnFDO0FBR3JDLGtCQUFFLHVCQUFGLEVBQTJCLFdBQTNCLENBQXVDLEdBQXZDLEVBSHFDO0FBSXJDLG9CQUFJLGVBQWUsSUFBZixPQUEwQixVQUExQixFQUFzQztBQUN0QyxtQ0FBZSxJQUFmLENBQW9CLFdBQXBCLEVBRHNDO2lCQUExQyxNQUVPO0FBQ0gsbUNBQWUsSUFBZixDQUFvQixVQUFwQixFQURHO2lCQUZQO2FBSndCLENBQTVCLENBRjhDO1NBQTlCO0tBMUNwQixDQURzQjs7QUEyRDFCLHFCQUFpQixpQkFBakIsR0EzRDBCO0FBNEQxQixxQkFBaUIsbUJBQWpCLEdBNUQwQjtBQTZEMUIscUJBQWlCLGFBQWpCLEdBN0QwQjtBQThEMUIscUJBQWlCLGtCQUFqQixHQTlEMEI7Q0FBWixFQUFsQjs7Ozs7QUNEQSxJQUFJLGdCQUFnQixZQUFhOztBQUU3QixXQUFPLEVBQVAsQ0FBVSxNQUFWLENBQWlCO0FBQ2IsZ0JBQVEsZ0JBQVUsTUFBVixFQUFrQjs7QUFDdEIsZ0JBQUksVUFBVSxNQUFWLEtBQXFCLENBQXJCLEVBQXdCO0FBQ3hCLHVCQUFPLEVBQUUsSUFBRixFQUFRLElBQVIsQ0FBYSxPQUFiLENBQVAsQ0FEd0I7YUFBNUIsTUFFTzs7QUFFSCxrQkFBRSxJQUFGLEVBQVEsSUFBUixDQUFhLE9BQWIsRUFBc0IsTUFBdEIsRUFGRztBQUdILHVCQUFPLEVBQUUsSUFBRixDQUFQLENBSEc7YUFGUDtTQURJO0tBRFosRUFGNkI7Q0FBWixFQUFqQjs7QUFpQkosT0FBTyxPQUFQLEdBQWlCLGFBQWpCOzs7Ozs7QUNoQkEsSUFBSSxhQUFhOzs7QUFHYixTQUFLLFNBQVMsR0FBVCxDQUFhLENBQWIsRUFBZ0I7QUFDakIsZUFBTyxRQUFRLEdBQVIsQ0FBWSxDQUFaLENBQVAsQ0FEaUI7S0FBaEI7OztBQUtMLG1CQUFlLFNBQVMsYUFBVCxDQUF1QixHQUF2QixFQUE0QjtBQUN2QyxlQUFPLEtBQUssU0FBTCxDQUFlLEdBQWYsRUFBb0IsVUFBVSxHQUFWLEVBQWUsS0FBZixFQUFzQjtBQUM3QyxnQkFBSSxPQUFPLEtBQVAsS0FBaUIsVUFBakIsRUFBNkI7QUFDN0IsdUJBQU8sTUFBTSxRQUFOLEVBQVAsQ0FENkI7YUFBakMsTUFFTztBQUNILHVCQUFPLEtBQVAsQ0FERzthQUZQO1NBRHVCLENBQXBCLENBTUosT0FOSSxDQU1JLE1BTkosRUFNWSxFQU5aLENBQVAsQ0FEdUM7S0FBNUI7O0NBUmY7O0FBc0JKLE9BQU8sT0FBUCxHQUFpQixVQUFqQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG5cbiAgICAvL3V0aWxzXG4gICAgdmFyIHV0aWxzID0gcmVxdWlyZShcIi4vdXRpbHMvdXRpbHNfbWFpbi5qc1wiKTtcbiAgICB2YXIganFfZXh0ZW5zaW9ucyA9IHJlcXVpcmUoXCIuL3V0aWxzL2pxX2V4dGVuc2lvbnMuanNcIik7XG5cbiAgICAvL2luaXRzXG4gICAgdmFyIG5hdmlnYXRpb25fc2V0dXAgPSByZXF1aXJlKFwiLi9uYXZpZ2F0aW9uX3NldHVwLmpzXCIpO1xuICAgIHZhciBrZXlib2FyZF9pbnB1dHMgPSByZXF1aXJlKFwiLi9rZXlib2FyZF9pbnB1dHNcIik7XG5cbiAgICAvL2NvbnN0cnVjdG9yc1xuICAgIHZhciBDaGFydE9wdGlvbnMgPSByZXF1aXJlKFwiLi9jb25zdHJ1Y3RvcnMvY2hhcnRfb3B0aW9ucy5qc1wiKTtcblxuXG5cblxuXG5cblxuXG5cbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgY29sb3JzOiBbMSwgM11cbiAgICB9XG4gICAgdmFyIGNoYXJ0X29wdGlvbnMgPSBuZXcgQ2hhcnRPcHRpb25zKG9wdGlvbnMpO1xuXG5cblxuXG4gICAgdmFyIGNoYXJ0X29wdGlvbnNfanNfc3RyaW5nID0gdXRpbHMuZGVlcFN0cmluZ2lmeShjaGFydF9vcHRpb25zKTtcblxuICAgICQoXCIjY2hhcnRfb3V0cHV0X2NvZGVcIikudGV4dChjaGFydF9vcHRpb25zX2pzX3N0cmluZyk7XG5cbn0pOyIsIiAgICB2YXIgQ2hhcnRPcHRpb25zID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgdGhpcy5jaGFydCA9IG8uY2hhcnQgfHwge307XG4gICAgICAgIHRoaXMuY29sb3JzID0gby5jb2xvcnMgfHwgW107XG4gICAgICAgIHRoaXMuY3JlZGl0cyA9IG8uY3JlZGl0cyB8fCB7fTtcbiAgICAgICAgdGhpcy5leHBvcnRpbmcgPSBvLmV4cG9ydGluZyB8fCB7fTtcbiAgICAgICAgdGhpcy5sZWdlbmQgPSBvLmxlZ2VuZCB8fCB7fTtcbiAgICAgICAgdGhpcy5wbG90T3B0aW9ucyA9IG8ucGxvdE9wdGlvbnMgfHwge307XG4gICAgICAgIHRoaXMuc2VyaWVzID0gby5zZXJpZXMgfHwgW3t9XTtcbiAgICAgICAgdGhpcy5zdWJ0aXRsZSA9IG8uc3VidGl0bGUgfHwge307XG4gICAgICAgIHRoaXMudGl0bGUgPSBvLnRpdGxlIHx8IHt9O1xuICAgICAgICB0aGlzLnRvb2x0aXAgPSBvLnRvb2x0aXAgfHwge307XG4gICAgICAgIHRoaXMueEF4aXMgPSBvLnhBeGlzIHx8IHt9O1xuICAgICAgICB0aGlzLnlBeGlzID0gby55QXhpcyB8fCB7fTtcbiAgICB9XG5cblxuICAgIENoYXJ0T3B0aW9ucy5wcm90b3R5cGUuc2V0T3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbiwgb2JqKSB7XG4gICAgICAgIHRoaXNbb3B0aW9uXSA9IG9iajtcbiAgICB9XG5cblxuICAgIG1vZHVsZS5leHBvcnRzID0gQ2hhcnRPcHRpb25zOyIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBrZXlib2FyZF9pbnB1dHMgPSB7XG5cblxuICAgICAgICBiaW5kTnVtYmVyRW50cnlJbnB1dHM6IGZ1bmN0aW9uIGJpbmROdW1iZXJFbnRyeUlucHV0cygpIHtcblxuICAgICAgICAgICAgdmFyIGFkalZhbHVlID0gZnVuY3Rpb24gYWRqVmFsdWUodmFsLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gTnVtYmVyKHZhbCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTih2YWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkaXJlY3Rpb24gPT09IFwiK1wiID8gdmFsICsgMTAgOiB2YWwgLSAxMDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICQoXCIubnVtYmVyX2VudHJ5XCIpLmtleXVwKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzgpIHsgLy91cCBwdXNoZWRcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS52YWwoYWRqVmFsdWUoJCh0aGlzKS52YWwoKSwgXCIrXCIpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS52YWwoYWRqVmFsdWUoJCh0aGlzKS52YWwoKSwgXCItXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBrZXlib2FyZF9pbnB1dHMuYmluZE51bWJlckVudHJ5SW5wdXRzKCk7XG59KSgpOyIsIi8qKiBvYmplY3QgdGhhdCBjb250YWlucyBmdW5jdGlvbnMgZm9yIGFsbCB0aGUgbmF2aWdhdGlvbiwgaWUgY2hhbmdpbmcgYmV0d2VlbiBvcHRpb25zIGFuZCBjaGFydCB0eXBlcyAqL1xubW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBuYXZpZ2F0aW9uX3NldHVwID0ge1xuXG4gICAgICAgIC8qKiB3aGVuIHRhYnMgb24gbGVmdCBzaWRlIG5hdiBiYXIgYXJlIGNsaWNrZWQsIG9wdGlvbnMgZGlzcGxheWVkIGFyZSBjaGFuZ2VkICovXG4gICAgICAgIHNpZGVOYXZUYWJzQ2hhbmdlOiBmdW5jdGlvbiBzaWRlTmF2VGFic0NoYW5nZSgpIHtcblxuICAgICAgICAgICAgJChcIiNzaWRlX25hdl90YWJzIC50YWJcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vY2hhbmdlIHNlbGVjdGVkIG1lbnUgdGFiXG4gICAgICAgICAgICAgICAgJChcIiNzaWRlX25hdl90YWJzIC5zZWxlY3RlZF90YWJcIikucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZF90YWJcIik7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcInNlbGVjdGVkX3RhYlwiKTtcblxuICAgICAgICAgICAgICAgIC8vY2hhbmdlIGRpc3BsYXkgZGl2IHNob3dpbmdcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRJRCA9IFwiI1wiICsgJCh0aGlzKS5hdHRyKFwiaWRcIikucmVwbGFjZShcInRhYlwiLCBcImRpc3BsYXlcIik7XG4gICAgICAgICAgICAgICAgJChcIiNzaWRlX2Rpc3BsYXkgLnNlbGVjdGVkX2Rpc3BsYXlcIikucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZF9kaXNwbGF5XCIpO1xuICAgICAgICAgICAgICAgICQoc2VsZWN0ZWRJRCkuYWRkQ2xhc3MoXCJzZWxlY3RlZF9kaXNwbGF5XCIpO1xuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiogd2hlbiBjaGFydCB0eXBlIGljb24gaXMgY2xpY2tlZCBhbmQgY2hhbmdlZCAqL1xuICAgICAgICBjaGFydFR5cGVJY29uQ2hhbmdlOiBmdW5jdGlvbiBjaGFydFR5cGVJY29uQ2hhbmdlKCkge1xuXG4gICAgICAgICAgICAkKFwiI2NoYXJ0X3R5cGVfaWNvbnMgLmNoYXJ0X3R5cGVfaWNvblwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy9jaGFuZ2Ugc2VsZWN0ZWQgaWNvblxuICAgICAgICAgICAgICAgICQoXCIjY2hhcnRfdHlwZV9pY29ucyAuY2hhcnRfdHlwZV9pY29uXCIpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRfY2hhcnRfdHlwZVwiKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwic2VsZWN0ZWRfY2hhcnRfdHlwZVwiKTtcblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqIHdoZW4gYSBoZWxwIGljb24gaXMgY2xpY2tlZCAqL1xuXG4gICAgICAgIGhlbHBJY29uQ2xpY2s6IGZ1bmN0aW9uIGhlbHBJY29uQ2xpY2soKSB7XG5cbiAgICAgICAgICAgICQoXCIuaGVscF9pY29uXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKFwiaGVscF9vblwiKTtcbiAgICAgICAgICAgICAgICAkKFwiLm5vdGVzXCIsICQodGhpcykucGFyZW50cyhcIi5kaXNwbGF5XCIpKS50b2dnbGUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqIHdoZW4gYSBnZXQgY29kZSBidXR0b24gaXMgY2xpY2tlZCAqL1xuXG4gICAgICAgIGdldENvZGVCdXR0b25DbGljazogZnVuY3Rpb24gZ2V0Q29kZUJ1dHRvbkNsaWNrKCkge1xuXG4gICAgICAgICAgICAkKFwiI2dldF9jb2RlX2J1dHRvblwiKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHZhciAkZ2V0X2NvZGVfc3BhbiA9ICQoXCIjZ2V0X2NvZGVfdGV4dFwiKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKFwiY29kZV9vblwiKTtcbiAgICAgICAgICAgICAgICAkKFwiI21haW5fcmVzdWx0X2NvZGVfZGl2XCIpLnNsaWRlVG9nZ2xlKDEwMCk7XG4gICAgICAgICAgICAgICAgaWYgKCRnZXRfY29kZV9zcGFuLnRleHQoKSA9PT0gXCJHZXQgY29kZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICRnZXRfY29kZV9zcGFuLnRleHQoXCJIaWRlIGNvZGVcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJGdldF9jb2RlX3NwYW4udGV4dChcIkdldCBjb2RlXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuYXZpZ2F0aW9uX3NldHVwLnNpZGVOYXZUYWJzQ2hhbmdlKCk7XG4gICAgbmF2aWdhdGlvbl9zZXR1cC5jaGFydFR5cGVJY29uQ2hhbmdlKCk7XG4gICAgbmF2aWdhdGlvbl9zZXR1cC5oZWxwSWNvbkNsaWNrKCk7XG4gICAgbmF2aWdhdGlvbl9zZXR1cC5nZXRDb2RlQnV0dG9uQ2xpY2soKTtcblxufSkoKTsiLCJ2YXIganFfZXh0ZW5zaW9ucyA9IChmdW5jdGlvbiAoKSB7XG5cbiAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcbiAgICAgICAgZGl2VmFsOiBmdW5jdGlvbiAoc3RyaW5nKSB7IC8vZXh0ZW5kIHNvIHRoYXQgd2UgY2FuIGdldCBhbmQgc2V0IFwidmFsdWVcIiB3aXRoIGRpdnNcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQodGhpcykuYXR0cihcInZhbHVlXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoXCJ2YWx1ZVwiLCBzdHJpbmcpO1xuICAgICAgICAgICAgICAgIHJldHVybiAkKHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9KTtcblxufSkoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBqcV9leHRlbnNpb25zOyIsIi8qKiBNYWluIHV0aWxpdHkgb2JqZWN0LCBjb250YWlucyBmdW5jdGlvbnMgdGhhdCBnZXQgcmV1c2VkIG9mdGVuICovXG52YXIgdXRpbHNfbWFpbiA9IHtcblxuICAgIC8qKiBzaG9ydGN1dCBmb3IgY29uc29sZS5sb2cgKiovXG4gICAgbG9nOiBmdW5jdGlvbiBsb2coZSkge1xuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZSk7XG4gICAgfSxcblxuICAgIC8vdHVybnMgb2JqZWN0cyBpbnRvIHN0cmluZ3MsIGluY2x1ZGluZyB0aGVpciBtZXRob2RzXG4gICAgZGVlcFN0cmluZ2lmeTogZnVuY3Rpb24gZGVlcFN0cmluZ2lmeShvYmopIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5yZXBsYWNlKC9cXFxcbi9nLCBcIlwiKTtcblxuICAgIH1cblxufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gdXRpbHNfbWFpbjsiXX0=
